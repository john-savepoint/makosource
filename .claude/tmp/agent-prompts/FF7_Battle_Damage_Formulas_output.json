[{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"d2485188-7dbf-42d6-8930-8cd4e8b20d53","hook_name":"SessionStart:Callback","hook_event":"SessionStart","stdout":"","stderr":""},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"63b986e3-4d08-4487-89cb-2f2cf80883b8","hook_name":"SessionStart:startup","hook_event":"SessionStart","stdout":"","stderr":"","exit_code":0},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"21bce912-56f7-461f-bd39-b3112a850e4f","hook_name":"SessionStart:startup","hook_event":"SessionStart","stdout":"inject-session-id.sh > injected session ID: 925a8e3d-e852-4981-bb0f-e17592b1a9f3 [source: startup]\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"SessionStart\",\n    \"additionalContext\": \"**Session ID**: `925a8e3d-e852-4981-bb0f-e17592b1a9f3`\\n\\nSession data stored at: `.claude/data/sessions/925a8e3d-e852-4981-bb0f-e17592b1a9f3.json`\\n\"\n  }\n}\n","stderr":"","exit_code":0},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"1afad099-4775-4f89-944b-ab9ae146a602","hook_name":"SessionStart:Callback","hook_event":"SessionStart","stdout":"","stderr":""},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"d8a26e06-02c0-41c4-b8e9-19718ef5d347","hook_name":"SessionStart:startup","hook_event":"SessionStart","stdout":"Claude-925a8e3d tracked in tmux ff70G-japanese-mod:56:%58\n","stderr":"","exit_code":0},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"b3211a3f-1053-4c24-a109-59a3d36e8bb6","hook_name":"SessionStart:startup","hook_event":"SessionStart","stdout":"play-startup-sound.sh > ðŸŽ® playing startup sound [source: startup, session: 925a8e3d...]\n","stderr":"","exit_code":0},{"type":"system","subtype":"hook_response","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"c532ef67-7ec5-4c67-81ba-144a0ab8cc1e","hook_name":"SessionStart:startup","hook_event":"SessionStart","stdout":"inject-session-context.sh > Context injected: /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod on main (134 untracked, 26 modified) [~1522 tokens]\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"SessionStart\",\n    \"additionalContext\": \"# Session Start Dynamic Context\\n**Updated**: 2025-12-02 01:10:00 JST (Tuesday)\\n**ISO 8601**: 2025-12-01T16:10:00Z\\n\\n## Current Working Directory\\n`/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod`\\n\\n\\n\\n## Git Repository Status\\n- **Current Branch**: `main`\\n- **Last Commit**: 1b7b34a - fix(scripts): fix two critical bugs in launch_standardization_agents.sh (3 hours ago)\\n- **Untracked Files**: 134\\n- **Remote**: makosource\\tgit@github.com:john-savepoint/makosource.git (fetch)\\n\\n## Project Directory Structure (JSON)\\n\\n**Algorithm**: Levenshtein similarity ratio + semantic pattern detection\\n**Exclusions**: .gitignore patterns + hardcoded common patterns (node_modules, .git, dist, build, coverage, __pycache__)\\n**Truncation**:\\n- Files with â‰¥50% name similarity grouped (e.g., `test1.ts`, `test2.ts` â†’ `+N`)\\n- Non-semantic patterns hidden (UUIDs, session IDs, hashes, logs, tmp files)\\n- Semantic files always preserved (package.json, tsconfig.json, README.md, src/*.ts)\\n- Max depth: 2-4 levels (adaptive based on size, targets <15k tokens)\\n\\n**Reading**: `\\\"f\\\":[\\\"file.ts\\\",\\\"+5\\\"]` = 1 shown file + 5 similar/non-semantic files hidden\\n**Critical**: Source files (`src/**/*.ts`) never truncated via similarity, only via depth limits\\n\\n```json\\n{\\\".claude\\\":{\\\"data\\\":{\\\"ff7-docs-context\\\":{\\\"f\\\":[\\\"agent_summaries.json\\\",\\\"document_categories.json\\\",\\\"+4\\\"]},\\\"sessions\\\":{\\\"f\\\":[\\\"0442c7ca-eff1-466c-93f8-f629ccf6ddfb.json\\\",\\\"0cc720b2-3ab5-42f5-9a3c-7c40de6aa93e.json\\\",\\\"+2\\\"]}},\\\"logs\\\":{\\\"f\\\":[\\\"bash-output.log\\\",\\\"skill-usage.log\\\"]},\\\"tmp\\\":{\\\"agent-prompts\\\":{\\\"f\\\":[\\\"FF7_Battle_Battle_Animation_PC_output.json\\\",\\\"FF7_Battle_Battle_Animation_PC_prompt.txt\\\",\\\"FF7_Kernel_Low_level_libraries_prompt.txt\\\",\\\"PSX_TIM_format_prompt.txt\\\",\\\"+70\\\"]}}},\\\"FF7-Japanese-Mod\\\":{\\\".claude\\\":{\\\"data\\\":{\\\"sessions\\\":{\\\"f\\\":[\\\"0ba935f5-efe0-457c-ad7e-c18f89cfba18.json\\\"]}}},\\\"f\\\":[\\\"Readme.txt\\\",\\\"mod.xml\\\"]},\\\"archive\\\":{\\\"character_tables_debug\\\":{\\\"debug_cells\\\":{\\\"f\\\":[\\\"inv_jafont_1_idx006_gxy6_0.png\\\",\\\"inv_jafont_1_idx116_gxy4_7.png\\\",\\\"+32\\\"]}},\\\"character_tables_pre-interactive\\\":{\\\"f\\\":[\\\"character_map.csv\\\",\\\"character_map.json\\\",\\\"mapping_discrepancies.csv\\\",\\\"ocr_confidence.json\\\",\\\"+4\\\"]},\\\"character_tables_verification\\\":{\\\"verification\\\":{\\\"f\\\":[\\\"jafont_1_comparison.png\\\",\\\"jafont_1_generated.png\\\",\\\"+16\\\"]},\\\"verification_topleft\\\":{\\\"f\\\":[\\\"jafont_1_comparison_topleft.png\\\",\\\"jafont_1_mangaocr_topleft.png\\\",\\\"+10\\\"]}},\\\"findings_legacy\\\":{\\\"f\\\":[\\\"FINDINGS.md\\\",\\\"FINDINGS.md.backup\\\",\\\"findings2.md\\\"]},\\\"scripts\\\":{\\\"f\\\":[\\\"compare_mappings.py\\\",\\\"debug_mangaocr_cells.py\\\",\\\"generate_accurate_charmap.py\\\",\\\"manga_ocr_mapper.py\\\",\\\"measure_actual_glyph_size.py\\\",\\\"reassemble_findings.py\\\",\\\"+10\\\"]},\\\"sharded\\\":{\\\"bible\\\":{},\\\"bible_sections\\\":{\\\"f\\\":[\\\"1-executive-mission-briefing.md\\\",\\\"10-advanced-feature-furigana-support.md\\\",\\\"11-testing-verification-protocol.md\\\",\\\"12-risk-mitigation-debugging-guide.md\\\",\\\"14-reference-materials-appendices.md\\\",\\\"2-architectural-overview-strategic-analysis.md\\\",\\\"4-asset-specifications-data-structures.md\\\",\\\"5-ffnx-codebase-architecture.md\\\",\\\"6-deep-dive-technical-constraints-solutions.md\\\",\\\"7-implementation-specification-c-modifications.md\\\",\\\"conclusion.md\\\",\\\"index.md\\\",\\\"+6\\\"]},\\\"findings\\\":{},\\\"findings_sections\\\":{\\\"f\\\":[\\\"00_INDEX.md\\\",\\\"01_executive_summary.md\\\",\\\"06_ff7_text_system_architecture.md\\\",\\\"12_potential_implementation_approaches.md\\\",\\\"13_required_modifications.md\\\",\\\"14_development_roadmap_considerations.md\\\",\\\"17_next_steps.md\\\",\\\"18_conclusion.md\\\",\\\"27_breakthrough_first_ever_ff7_japanese_character_table_created.md\\\",\\\"+21\\\"]},\\\"f\\\":[\\\"README.md\\\",\\\"shard_findings.py\\\"]},\\\"f\\\":[\\\"ARCHITECTURAL_RETROSPECTIVE.md\\\",\\\"SCRAPED_URLS.md\\\",\\\"TOOL_VERIFICATION_LOG.md\\\",\\\"UNSCRAPPED_URLS.md\\\"]},\\\"assets\\\":{\\\"character_mappings\\\":{\\\"interactive_viewer\\\":{\\\"f\\\":[\\\"all_textures_corrections.json\\\",\\\"jafont_1_corrections (1).json\\\",\\\"jafont_6_final.json\\\",\\\"+11\\\"]}}},\\\"docs\\\":{\\\"character_maps\\\":{\\\"f\\\":[\\\"JAFONT_CHARACTER_MAP.md\\\",\\\"ff7_complete_mapping_compact.csv\\\"]},\\\"recent\\\":{},\\\"reference\\\":{\\\"game_engine\\\":{\\\".claude\\\":{},\\\"comparisons\\\":{\\\"f\\\":[\\\"CRITICAL_DISCREPANCIES_REQUIRING_INVESTIGATION.md\\\",\\\"FF7_Battle_Battle_Animation_PC_vs_06_BATTLE_MODULE_analysis.md\\\",\\\"FF7_Battle_Battle_Field_vs_06_BATTLE_MODULE_analysis.md\\\",\\\"repomix-comparisons-markdown.md\\\",\\\"+36\\\"]},\\\"extracted_major_sections\\\":{\\\"f\\\":[\\\"00_HEADER_TOC.md\\\",\\\"01_HISTORY.md\\\",\\\"06_BATTLE_MODULE.md\\\",\\\"11_BUGS_AND_CREDITS.md\\\",\\\"+10\\\"]},\\\"final\\\":{\\\"f\\\":[\\\"FF7.md\\\",\\\"FF7_Chocobo_Breeding.md\\\",\\\"FF7_History.md\\\",\\\"FF7_Item_Materia_Reference.md\\\",\\\"+32\\\"]},\\\"final v2\\\":{},\\\"images\\\":{\\\"f\\\":[\\\"Engine_parts.jpg\\\",\\\"Field_BackgroundVRAM.jpg\\\",\\\"Gears_img_3.jpg\\\",\\\"+25\\\"]},\\\"markdown\\\":{\\\"f\\\":[\\\"FF7.md\\\",\\\"FF7_Chocobo_Breeding.md\\\",\\\"FF7_History.md\\\",\\\"FF7_Item_Materia_Reference.md\\\",\\\"+32\\\"]},\\\"raw\\\":{\\\"f\\\":[\\\"FF7.mediawiki\\\",\\\"FF7_Battle_Battle_Field.mediawiki\\\",\\\"+30\\\"]},\\\"scripts\\\":{\\\"f\\\":[\\\"transform_savemap.py\\\"]},\\\"f\\\":[\\\"AGENT_COMPARISON_GUIDE.md\\\",\\\"ENHANCEMENT_PLAN.md\\\",\\\"FINAL_CONVERSION_PIPELINE.md\\\",\\\"Playstation Battle Model Format.md\\\",\\\"combine_files.sh\\\",\\\"copy-paste from ff7 wiki.md\\\",\\\"ff7 game engine_meta.json\\\",\\\"links to copy in order.txt\\\",\\\"move_toc_below_heading.py\\\",\\\"scraper.py\\\",\\\"+59\\\"]},\\\"f\\\":[\\\"AF3DN_ANALYSIS.md\\\",\\\"ARCHITECTURE_CLARIFICATION.md\\\",\\\"BEGINNER_GUIDE.md\\\",\\\"MULTI_LANGUAGE_FINDINGS.md\\\",\\\"TOOL_GUIDE.md\\\",\\\"VERIFICATION_FINDINGS_SESSION_11.md\\\"]},\\\"roadmap\\\":{\\\"f\\\":[\\\"FEATURE_ROADMAP.md\\\",\\\"FFNX_CROWDSOURCED_TRANSLATION_SPEC.md\\\"]},\\\"f\\\":[\\\"7TH_HEAVEN_DEVELOPER_GUIDE.md\\\",\\\"BUILD_ENVIRONMENT_SETUP.md\\\",\\\"DOCUMENTATION_UPDATE_PLAN.md\\\",\\\"FFNX_DEVELOPER_GUIDE.md\\\",\\\"PR737_files_summary.txt\\\",\\\"README.md\\\",\\\"To-do list for documentation.md\\\",\\\"masterfindings.md\\\",\\\"+11\\\"]},\\\"japanese-assets-extracted\\\":{\\\"mod-structure\\\":{},\\\"f\\\":[\\\"FFNx-japanese.toml\\\",\\\"README.md\\\",\\\"TRANSFER_CHECKLIST.md\\\",\\\"WINDOWS_INSTALLATION_GUIDE.md\\\"]},\\\"reference\\\":{\\\"repomix_snapshots\\\":{\\\"f\\\":[\\\"FFNx_repomix.md\\\"]}},\\\"scripts\\\":{\\\"f\\\":[\\\"AGENT_LAUNCHER_USAGE.md\\\",\\\"BUG_FIXES.md\\\",\\\"cleanup_v2_parallel.sh\\\",\\\"extract_doc_context.py\\\",\\\"launch_standardization_agents.sh\\\"]},\\\"f\\\":[\\\"DOCUMENTATION_MAP.md\\\",\\\"README.md\\\",\\\"SIMPLE_INSTRUCTIONS.md\\\",\\\"claude.md\\\"]}\\n```\\n\\n## Tmux Environment\\n- **Session**: `ff70G-japanese-mod` (`$7`)\\n- **Window**: `claude-925a8e3d` (`@56` / index: 8)\\n- **Pane**: `%58`\\n\\n---\\n*This context was automatically injected at session start to provide current state information.*\\n\"\n  }\n}\n","stderr":"","exit_code":0},{"type":"system","subtype":"init","cwd":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","tools":["Task","Bash","Glob","Grep","ExitPlanMode","Read","Edit","Write","NotebookEdit","WebFetch","TodoWrite","WebSearch","BashOutput","KillShell","Skill","SlashCommand","EnterPlanMode","mcp__context7__resolve-library-id","mcp__context7__get-library-docs","mcp__tmux__list-sessions","mcp__tmux__find-session","mcp__tmux__list-windows","mcp__tmux__list-panes","mcp__tmux__capture-pane","mcp__tmux__create-session","mcp__tmux__create-window","mcp__tmux__execute-command","mcp__tmux__get-command-result","ListMcpResourcesTool","ReadMcpResourceTool","mcp__interactive-send-and-capture__send_and_capture","mcp__interactive-send-and-capture__capture_pane","mcp__interactive-send-and-capture__send_input","mcp__mcp-mermaid__generate_mermaid_diagram","mcp__brave-search__brave_web_search","mcp__brave-search__brave_local_search","mcp__firecrawl__firecrawl_scrape","mcp__firecrawl__firecrawl_map","mcp__firecrawl__firecrawl_search","mcp__firecrawl__firecrawl_crawl","mcp__firecrawl__firecrawl_check_crawl_status","mcp__firecrawl__firecrawl_extract"],"mcp_servers":[{"name":"fetch","status":"disabled"},{"name":"sequential-thinking","status":"disabled"},{"name":"filesystem","status":"disabled"},{"name":"shadcn-ui","status":"disabled"},{"name":"context7","status":"connected"},{"name":"tmux","status":"connected"},{"name":"serena","status":"disabled"},{"name":"interactive-send-and-capture","status":"connected"},{"name":"mcp-mermaid","status":"connected"},{"name":"chrome-devtools","status":"disabled"},{"name":"svelte","status":"disabled"},{"name":"brave-search","status":"connected"},{"name":"firecrawl","status":"connected"}],"model":"claude-opus-4-5-20251101","permissionMode":"acceptEdits","slash_commands":["claude-code-hook-builder","mermaid-diagram-writer","slash-command-builder","superpowers:brainstorm","superpowers:execute-plan","superpowers:write-plan","agent-sdk-dev:new-sdk-app","pr-review-toolkit:review-pr","commit-commands:clean_gone","commit-commands:commit-push-pr","commit-commands:commit","feature-dev:feature-dev","code-review:code-review","document-skills:xlsx","document-skills:docx","document-skills:pptx","document-skills:pdf","example-skills:skill-creator","example-skills:mcp-builder","example-skills:canvas-design","example-skills:algorithmic-art","example-skills:internal-comms","example-skills:webapp-testing","example-skills:artifacts-builder","example-skills:slack-gif-creator","example-skills:theme-factory","example-skills:brand-guidelines","superpowers:brainstorming","superpowers:condition-based-waiting","superpowers:defense-in-depth","superpowers:dispatching-parallel-agents","superpowers:executing-plans","superpowers:finishing-a-development-branch","superpowers:receiving-code-review","superpowers:requesting-code-review","superpowers:root-cause-tracing","superpowers:sharing-skills","superpowers:subagent-driven-development","superpowers:systematic-debugging","superpowers:test-driven-development","superpowers:testing-anti-patterns","superpowers:testing-skills-with-subagents","superpowers:using-git-worktrees","superpowers:using-superpowers","superpowers:verification-before-completion","superpowers:writing-plans","superpowers:writing-skills","developer-essentials:auth-implementation-patterns","developer-essentials:code-review-excellence","developer-essentials:debugging-strategies","developer-essentials:e2e-testing-patterns","developer-essentials:error-handling-patterns","developer-essentials:git-advanced-workflows","developer-essentials:monorepo-management","developer-essentials:sql-optimization-patterns","developer-essentials:git-advanced-workflows","developer-essentials:sql-optimization-patterns","developer-essentials:error-handling-patterns","developer-essentials:code-review-excellence","developer-essentials:e2e-testing-patterns","developer-essentials:auth-implementation-patterns","developer-essentials:debugging-strategies","developer-essentials:monorepo-management","compact","context","cost","init","pr-comments","release-notes","todos","review","security-review"],"apiKeySource":"none","claude_code_version":"2.0.55","output_style":"default","agents":["general-purpose","statusline-setup","Explore","Plan","claude-code-guide","superpowers:code-reviewer","agent-sdk-dev:agent-sdk-verifier-py","agent-sdk-dev:agent-sdk-verifier-ts","pr-review-toolkit:code-reviewer","pr-review-toolkit:code-simplifier","pr-review-toolkit:comment-analyzer","pr-review-toolkit:pr-test-analyzer","pr-review-toolkit:silent-failure-hunter","pr-review-toolkit:type-design-analyzer","feature-dev:code-architect","feature-dev:code-explorer","feature-dev:code-reviewer"],"skills":["claude-code-hook-builder","mermaid-diagram-writer","slash-command-builder","document-skills:xlsx","document-skills:docx","document-skills:pptx","document-skills:pdf","example-skills:skill-creator","example-skills:mcp-builder","example-skills:canvas-design","example-skills:algorithmic-art","example-skills:internal-comms","example-skills:webapp-testing","example-skills:artifacts-builder","example-skills:slack-gif-creator","example-skills:theme-factory","example-skills:brand-guidelines","superpowers:brainstorming","superpowers:condition-based-waiting","superpowers:defense-in-depth","superpowers:dispatching-parallel-agents","superpowers:executing-plans","superpowers:finishing-a-development-branch","superpowers:receiving-code-review","superpowers:requesting-code-review","superpowers:root-cause-tracing","superpowers:sharing-skills","superpowers:subagent-driven-development","superpowers:systematic-debugging","superpowers:test-driven-development","superpowers:testing-anti-patterns","superpowers:testing-skills-with-subagents","superpowers:using-git-worktrees","superpowers:using-superpowers","superpowers:verification-before-completion","superpowers:writing-plans","superpowers:writing-skills","developer-essentials:auth-implementation-patterns","developer-essentials:code-review-excellence","developer-essentials:debugging-strategies","developer-essentials:e2e-testing-patterns","developer-essentials:error-handling-patterns","developer-essentials:git-advanced-workflows","developer-essentials:monorepo-management","developer-essentials:sql-optimization-patterns","developer-essentials:git-advanced-workflows","developer-essentials:sql-optimization-patterns","developer-essentials:error-handling-patterns","developer-essentials:code-review-excellence","developer-essentials:e2e-testing-patterns","developer-essentials:auth-implementation-patterns","developer-essentials:debugging-strategies","developer-essentials:monorepo-management"],"plugins":[{"name":"document-skills","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/anthropic-agent-skills/"},{"name":"example-skills","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/anthropic-agent-skills/"},{"name":"superpowers","path":"/Users/johnzealand-doyle/.claude/plugins/cache/superpowers"},{"name":"agent-sdk-dev","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/agent-sdk-dev"},{"name":"pr-review-toolkit","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/pr-review-toolkit"},{"name":"commit-commands","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/commit-commands"},{"name":"feature-dev","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/feature-dev"},{"name":"security-guidance","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/security-guidance"},{"name":"code-review","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/code-review"},{"name":"developer-essentials","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-workflows/plugins/developer-essentials"},{"name":"explanatory-output-style","path":"/Users/johnzealand-doyle/.claude/plugins/marketplaces/claude-code-plugins/plugins/explanatory-output-style"}],"uuid":"0485b038-a414-4e94-bdbf-a6d82b35ec46"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01HMr4cAh2SiBzNVyKxfbEju","type":"message","role":"assistant","content":[{"type":"text","text":"I'll start by reading the source document to understand its current structure and content before applying the standardization transformations."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":65676,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":65676,"ephemeral_1h_input_tokens":0},"output_tokens":131,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"8d17d7a9-3c08-4ae5-9109-f28cb87d8b94"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01HMr4cAh2SiBzNVyKxfbEju","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011TwPjDPR2R5qLVG29n7Lsb","name":"Read","input":{"file_path":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":65676,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":65676,"ephemeral_1h_input_tokens":0},"output_tokens":131,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"133f071d-b1db-408c-a520-4418868a6304"},{"type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"File content (32826 tokens) exceeds maximum allowed tokens (25000). Please use offset and limit parameters to read specific portions of the file, or use the GrepTool to search for specific content.","is_error":true,"tool_use_id":"toolu_011TwPjDPR2R5qLVG29n7Lsb"}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"b87aaeab-95f9-4f9a-9a30-6c172d5a109b","tool_use_result":"Error: File content (32826 tokens) exceeds maximum allowed tokens (25000). Please use offset and limit parameters to read specific portions of the file, or use the GrepTool to search for specific content."},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01D82ErULh3Tup6HG2xT8AFW","type":"message","role":"assistant","content":[{"type":"text","text":"The file is quite large. Let me read it in chunks to understand the full structure."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":196,"cache_read_input_tokens":65676,"cache_creation":{"ephemeral_5m_input_tokens":196,"ephemeral_1h_input_tokens":0},"output_tokens":160,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"6a262492-f0ae-49a6-be33-099183de8bd4"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01D82ErULh3Tup6HG2xT8AFW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011MpFLJaUdyFKifSd1A9j6i","name":"Read","input":{"file_path":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","offset":1,"limit":800}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":196,"cache_read_input_tokens":65676,"cache_creation":{"ephemeral_5m_input_tokens":196,"ephemeral_1h_input_tokens":0},"output_tokens":160,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"adf3f1b4-d63c-4cdc-8252-b5ba3b2d79cb"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011MpFLJaUdyFKifSd1A9j6i","type":"tool_result","content":"     1â†’<!--\n     2â†’MERGE METADATA\n     3â†’Created: 2025-11-29\n     4â†’Original: FF7_Battle_Damage_Formulas.md (    1779 lines)\n     5â†’Major section: 06_BATTLE_MODULE.md\n     6â†’Merge decision: NO EXTRACTION PERFORMED  \n     7â†’Reason: Individual file contains Terence Fergusson's comprehensive damage formula documentation\n     8â†’Status: COMPLETE - Original file copied as source of truth\n     9â†’-->\n    10â†’\n    11â†’# FF7/Battle/Damage Formulas {#ff7battledamage_formulas}\n    12â†’\n    13â†’- [FF7/Battle/Damage Formulas](#ff7battledamage_formulas){#toc-ff7battledamage_formulas}\n    14â†’  - [Version History](#version_history){#toc-version_history}\n    15â†’  - [Foreword](#foreword){#toc-foreword}\n    16â†’  - [Component Guides](#component_guides){#toc-component_guides}\n    17â†’  - [Contents](#contents){#toc-contents}\n    18â†’  - [1. Definitions](#1_definitions){#toc-1_definitions}\n    19â†’  - [2. Basic Damage Formulae](#2_basic_damage_formulae){#toc-2_basic_damage_formulae}\n    20â†’  - [3. Battle Damage](#3_battle_damage){#toc-3_battle_damage}\n    21â†’  - [4. Statuses](#4_statuses){#toc-4_statuses}\n    22â†’  - [5. Game Over](#5_game_over){#toc-5_game_over}\n    23â†’\n    24â†’\n    25â†’\n    26â†’## The Final Fantasy 7 Battle Mechanics by Terence Fergusson\n    27â†’\n    28â†’This document is entirely my work, and was written and is owned by me, Terence Fergusson. All copyrights and trademarks are acknowledged where not specifically mentioned. If you wish to reproduce this document AS IS, you may do so without having to ask for my permission, providing that the entire document including this copyright notice is left intact, and preferably in ASCII text format.\n    29â†’\n    30â†’### VERSION HISTORY {#version_history}\n    31â†’\n    32â†’v0.8 : 23/03/02 : Original Release - Not accompanied by sister guides\n    33â†’\n    34â†’### FOREWORD {#foreword}\n    35â†’\n    36â†’These guides have been a long time in the making.\n    37â†’\n    38â†’It started with a webpage. Just a small private one that I created early in April 1999. It was more practice than anything else, and I put up most of my findings about the game at that time. Most of it was incorrect, but I had some basics down.\n    39â†’\n    40â†’I changed to pure text format soon after when I realized that a webpage was very difficult to update with the number of tables such a Mechanics document requires. Pure text is also a lot easier to simply add stuff to. Updates can be made in seconds.\n    41â†’\n    42â†’But this was still a private thing. It's been private for years, in fact. But that's not to say it wasn't added to or the information wasn't utilized.\n    43â†’\n    44â†’During this time, I've met many people who share the same fascination that I have with this subject. We've helped each other too; some of the information included here is due to information that was pointed out to me in the memory dumps. I've learned from it, I've progressed. And the guide grew.\n    45â†’\n    46â†’Recently, it's become more and more apparent that this kind of information is not only useful, but also in demand. True, it doesn't help the average player, whose only concern is to get from A to B without too much trouble and just having fun along the way... but to others, it's fun to learn how the game works, and exactly what makes the monsters they fight tick.\n    47â†’\n    48â†’As such, I have finally managed to complete this to my satisfaction. It may not be finished yet, and I may not ever find the time to update it so that it is complete... but at least it is whole.\n    49â†’\n    50â†’And this is it.\n    51â†’\n    52â†’NOTE (23/03/0003): This isn't a finished product. It may never be a finished product. As it stands, only this guide of the three planned is being released. Please do not e-mail asking on the progress of the other two; the Battle Mechanics guide is being released now as something to work on. The other two will follow when they're structurally complete, and not before.\n    53â†’\n    54â†’### COMPONENT GUIDES {#component_guides}\n    55â†’\n    56â†’*The FF7 Game Mechanics Guides* are split into three files. This guide, the first, will detail the basic formulas, terms and statuses used in battle. The other two are:\n    57â†’\n    58â†’#### The FF7 Party Mechanics\n    59â†’\n    60â†’Covers the various battle formulas relating to the party, notably formulas regarding spell damage, materia use, and limit breaks.\n    61â†’\n    62â†’#### The FF7 Enemy Mechanics\n    63â†’\n    64â†’A list of enemies focusing on their attacks and attributes, and how the damage from those attacks are factored into the battle mechanics formulas.\n    65â†’\n    66â†’The FF7 Battle Mechanics is the main one to start with, since it will define many terms that will be used in both Party and Enemy Mechanics.\n    67â†’\n    68â†’Note that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n    69â†’\n    70â†’NOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n    71â†’\n    72â†’Note that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n    73â†’\n    74â†’NOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n    75â†’\n    76â†’#### **CONTENTS**\n    77â†’\n    78â†’- 1. Definitions\n    79â†’- 1.1 Character Stats\n    80â†’- 1.2 Special Term Definitions\n    81â†’- 1.2.1 Basic Terms\n    82â†’- 1.2.2 Types of Attack\n    83â†’- 1.2.3 Target Types\n    84â†’- 1.2.4 Equipment Modifiers\n    85â†’- 2. Basic Damage Formulae\n    86â†’- 3. Battle Damage\n    87â†’- 4. Statuses\n    88â†’- 4.1 Status Attributes\n    89â†’- 4.2 Special Notes On Statuses\n    90â†’- 5. Game Over\n    91â†’\n    92â†’#### **1. DEFINITIONS**\n    93â†’\n    94â†’## **1.1 Character Stats**\n    95â†’\n    96â†’There are seven Primary Stats and seven Derived Stats that make up your basic character. The Primary Stats are:\n    97â†’\n    98â†’| Str: Strength | Dex: Dexterity |\n    99â†’|---------------|----------------|\n   100â†’| Vit: Vitality | Mag: Magic     |\n   101â†’| Spr: Spirit   | Lck: Luck      |\n   102â†’| Lvl: Level    |                |\n   103â†’\n   104â†’The Derived Stats are:\n   105â†’\n   106â†’| Atk: Attack     | At%: Attack%   |\n   107â†’|-----------------|----------------|\n   108â†’| Def: Defense    | Df%: Defense%  |\n   109â†’| MAt: Magic atk  | MDf: Magic def |\n   110â†’| MD%: Magic def% |                |\n   111â†’\n   112â†’NOTE! There is a bug in FF7 such that Armour MDefense Bonus is \\*not\\* added to Magic Def. This is reflected in many places, including the Status screen (but the bonus you are supposed to get is visible in the Equip screen). To my knowledge, it is definitely evident in both the PC version and the PSX version. You will take the same amount of magic damage regardless of your Armour's MDefense rating.\n   113â†’\n   114â†’The Primary Stats dictate the overall strengths of your character. Level dictates exactly how powerful the character is, while the last six stats round off the character. Each character has a starting value for their Primary Stats, and every level, there is a chance that these stats will be raised by a random number of points. In addition, it's possible to further raise these stats permanently using Sources.\n   115â†’\n   116â†’The Derived Stats are based from your Primary Stats and your currently worn equipment. They are derived as such:\n   117â†’\n   118â†’| Atk | Str + Weapon Attack Bonus               |\n   119â†’|-----|-----------------------------------------|\n   120â†’| At% | Weapon Attack% Bonus                    |\n   121â†’| Def | Vit + Armour Defense Bonus              |\n   122â†’| Df% | (Dexterity / 4) + Armour Defense% Bonus |\n   123â†’| MAt | Magic                                   |\n   124â†’| MDf | Spirit + Armour MDefense Bonus          |\n   125â†’| MD% | Armour MDefense% Bonus                  |\n   126â†’\n   127â†’Your Derived Stats, along with a few of the Primary Stats(mostly Level and Luck), are what's used in every battle to determine battle damage, spell strength, and so on.\n   128â†’\n   129â†’In addition to the above, many pieces of amour, weaponry and accessories will give you special bonuses to your Primary Stats which, in turn, affect your Derived Stats. You can only see these bonuses in effect on the Status screen though, not on the Equip screen. These bonuses are factored into battle, however.\n   130â†’\n   131â†’From now on, the three letter abbreviations next to each Stat will be used instead of their full names.\n   132â†’\n   133â†’#### **1.2 Special Term Definitions**\n   134â†’\n   135â†’The following terms will be used throughout the Game Mechanics guides.\n   136â†’\n   137â†’#### **1.2.1 Basic Terms**\n   138â†’\n   139â†’#### *Base Damage:*\n   140â†’\n   141â†’This is a special term which means the basic power of most basic types of attack. For physical attacks, Base Damage is dependent on Atk and Lvl. For magical attacks, it is dependent on MAt and Lvl. Most attacks will use Base Damage to determine the damage they do. In ability formulas, this will be listed as Base.\n   142â†’\n   143â†’#### *NRV:*\n   144â†’\n   145â†’Short for No Random Variation, this means that the attack will not vary in power according to a random factor.\n   146â†’\n   147â†’#### *Caster:*\n   148â†’\n   149â†’The character that used the ability. Also known as the source of the attack's effect.\n   150â†’\n   151â†’#### *Target:*\n   152â†’\n   153â†’The character that is affected by the ability.\n   154â†’\n   155â†’#### *BD (Before Defense) Modifier:*\n   156â†’\n   157â†’This term applied to quite a number of abilities. The primary use for BD Modifiers is for Ultimate Weapons. In this case, the name which has been given to them is UW Modifier. As of writing, only one BD Modifier is known that is not connected to Ultimate Weapons, but the distinction, however slim, still stands. All BD Modifiers take the form of a fraction with a denominator of 16. (For example: 3/16) See below for details.\n   158â†’\n   159â†’#### *UW (Ultimate Weapon) Modifier:*\n   160â†’\n   161â†’A subset of BD Modifiers. UW Modifiers are for Ultimate Weapons only. They are separated for clarity. Take note that UW Modifiers are only applied to Base Command skills, which are defined as: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow.\n   162â†’\n   163â†’#### *Added Damage Effect:*\n   164â†’\n   165â†’This term applies to certain weapons and abilities. It is a modifier that is multiplied to the damage during damage calculations. See below for details.\n   166â†’\n   167â†’#### *Element:*\n   168â†’\n   169â†’Some attacks will use a special Element that will determine certain factors about the attack. Most enemies will have certain elemental weaknesses and strength; this factor will determine whether the attack will do extra damage or be defended against. For example, an attack described as a 'Elm: Fire' attack will do Fire Elemental damage.\n   170â†’\n   171â†’#### Note that FF7 uses the following common Elements:\n   172â†’\n   173â†’| Fire   | Ice         | Lightning | Earth |\n   174â†’|--------|-------------|-----------|-------|\n   175â†’| Poison | Gravity     | Water     | Wind  |\n   176â†’| Holy   | Restorative |           |       |\n   177â†’\n   178â†’The absence of any Element is termed Non-Element, which, while not technically an element in itself, will be used to denote this state.\n   179â†’\n   180â†’Also note that there are five more Elements that apply only to Physical Attacks. While FF7 is aware of them, they are not normally utilized in Elemental calculations because almost nothing is weak or defends against them:\n   181â†’\n   182â†’| Cut   | Hit   | Punch |\n   183â†’|-------|-------|-------|\n   184â†’| Shoot | Shout |       |\n   185â†’\n   186â†’And finally, there is a 16th Hidden Element that was obviously supposed to have been dummied out, but due to sloppy coding, has ended up having unexpected effects with the Elemental Materia and certain attacks.\n   187â†’\n   188â†’Hidden\n   189â†’\n   190â†’Of the above Elements, Restorative, Cut, Hit, Punch, Shoot, Shout and Hidden are not made known to the player. They can be described as follows:\n   191â†’\n   192â†’| Element     | Description                                                                                                                                                                                                                                                                                                                |\n   193â†’|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n   194â†’| Restorative | See below for the definition of Restore. Restorative is the<br>difference between the Cure and Life series of spells which give<br>back HP, and the Holy Elemental attack spells like Alexander,<br>which cause Holy Element damage. While Undead are often said<br>to be Weak to Holy, they *Absorb* Restorative instead. |\n   195â†’| Cut         | Used to describe an attack that uses an edged weapon.                                                                                                                                                                                                                                                                      |\n   196â†’| Hit         | Used to describe an attack that uses a blunt weapon.                                                                                                                                                                                                                                                                       |\n   197â†’| Punch       | Used to describe an attack that uses a piercing weapon.                                                                                                                                                                                                                                                                    |\n   198â†’| Shoot       | Used to describe attacks that use projectile weapons.                                                                                                                                                                                                                                                                      |\n   199â†’| Shout       | Used to describe attacks that are sonic or energy-based in nature.                                                                                                                                                                                                                                                         |\n   200â†’| Hidden      | Unknown. Unlike the others, Hidden is the name I've given it.<br>Very few attacks have this element. Any that do can be protected<br>from by linking any non-Element Materia with the Elemental<br>Materia in a character's armor.                                                                                         |\n   201â†’\n   202â†’## **1.2.2 Types of Attack**\n   203â†’\n   204â†’When an attack type is given, the following terms will be used to describe them. These are the most common terms; unique terms will be described within the notes for the appropriate ability itself.\n   205â†’\n   206â†’| Type of<br>Attack | Description                                                                                                                                                                                                           |\n   207â†’|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n   208â†’| Physical          | Any attack termed as Physical will use Att and Def as the primary damage calculating<br>stats, and is affected by Barrier. It will also normally use the Physical Formula for Base<br>Damage, unless noted otherwise. |\n   209â†’\n   210â†’| Type of<br>Attack | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |  |  |  |\n   211â†’|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|\n   212â†’| Magical           | Any attack termed as Magical will use MAt and MDf as the primary damage calculating<br>stats, and is affected by MBarrier. It will also normally use the Magical Formula for<br>Base Damage, unless noted otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |  |  |\n   213â†’| Piercing          | This means that the attack will ignore the target's Defense and Magic def stats when<br>determining how much damage it will do to them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |  |  |  |\n   214â†’| Attack            | Any attack with this modifier will cause damage to some stat. By default, this is HP, but<br>this can be modified. For example, MP Attack would mean an ability that reduces the<br>target's MP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |  |  |\n   215â†’| Absorb            | The same as Attack, except that the caster benefits in some way from the damage given<br>to the target. Unless otherwise noted, the benefit is equal and opposite to the damage<br>dealt to the target                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |  |\n   216â†’| LR                | Short for Long Range, this means that the ability will not factor Back Row modifiers into<br>the formula. Thus, the ability will do full damage no matter what the distance. This also<br>means that the ability can target enemies that are 'Can't reach'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |  |  |  |\n   217â†’| Restore           | Restorative is a special Element that has the damage rules for Elements reversed.<br>Specifically, with no Restorative affinity, targets will gain HP or MP from this Element.<br>However, targets that are listed as Absorb Restorative will alternatively take damage<br>from this element. If an attack is listed as Restorative, it will replace the Attack<br>modifier. Restore is used just to remind that this is a healing ability; 'Elm: Restorative'<br>will still be listed within the attack, and in all other ways, it is classed as an Attack.                                                                                                                                                                                         |  |  |  |\n   218â†’| Recovery          | A special type of attack, this ability will completely refill the target's HP and MP. It can<br>function without an Element, but if it does have one, then against any target that Absorbs<br>the ability's Element, it will inflict Death status instead of restoring their HP and MP.<br>The words 'Recovery' or 'Death' will flash up over the target to demonstrate which is<br>being used.                                                                                                                                                                                                                                                                                                                                                      |  |  |  |\n   219â†’| Change<br>Status  | This attack type attempts to change the statuses on a target. Changes in Status are<br>divided into three types:<br>Cure, Inflict or<br>Toggle. Cure will remove an instance of that<br>Status. Inflict will attempt to give the target that Status. Toggle will either Inflict the<br>Status on the target, or Cure it if the target already has that Status. If at any time a spell<br>or ability is described as Curing, Inflicting or Toggling a Status, it will also have a<br>number in square brackets. This number is the relative chance of success.<br>(Example: [15] Inflict 'Death' is a Rating 15 chance of inflicting the Death Status. The<br>exact formula is not yet known, but a rough guide is to think of the Rating as a chance |  |  |  |\n   220â†’|                   | out of 64. This approximation works well when used against enemies of equal level to<br>you)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |  |  |  |\n   221â†’|                   | A Change Status ability, like any other attack, will be either Physical or Magical;<br>however, if Change Status is used, then this means that the attack itself does no damage.<br>The only reason Physical or Magical is listed is for certain enemies that may react to one<br>or the other. If the chance reads [63], then the Status Chance is as near enough to 100%<br>as it's going to get. I've only ever seen a [63] Rating fail once thus far, and that was<br>Death Dealer's Hidden One against a L99 Barret                                                                                                                                                                                                                             |  |  |  |\n   222â†’\n   223â†’| Type of<br>Attack | Description                                                                           |\n   224â†’|-------------------|---------------------------------------------------------------------------------------|\n   225â†’| Misc              | Any ability that is not adequately described by the above categories falls under this |\n   226â†’| Ability           | category by default. Whatever effect the ability has will be depicted under Notes.    |\n   227â†’\n   228â†’#### **1.2.3 Target Types**\n   229â†’\n   230â†’Any ability used will often require a target to be given. The following shorthand will be used:\n   231â†’\n   232â†’| Op  | Opponent                  |\n   233â†’|-----|---------------------------|\n   234â†’| Al  | Ally                      |\n   235â†’| Tar | Target (Opponent or Ally) |\n   236â†’\n   237â†’#### *1 Tar:*\n   238â†’\n   239â†’This means that the ability can only hit one selected target. Normally, this target will be selected by the player or enemy. Multi-hit attacks that only hit one selected target also fall under this category.\n   240â†’\n   241â†’#### *<n> Tar:*\n   242â†’\n   243â†’This special variation of the above means that the ability will hit <n> randomly selected targets in the chosen target group. For example, Omnislash will be listed as '15 Op', which means it will hit 15 randomly selected targets in a selected opponent target group.\n   244â†’\n   245â†’#### *All Tar:*\n   246â†’\n   247â†’This means that the ability will hit all targets within the selected target group once each. If this Target Type is used, the strength of the ability must be multiplied by 2/3; that strength is then used to determine the damage for each single target in the group. Note that if there is only one Target in the group, then the ability is used at full strength instead; it's counted as a 1 Tar attack.\n   248â†’\n   249â†’#### *All Tar (NS):*\n   250â†’\n   251â†’NS stands for No Split. This means that the strength of the ability is NOT multiplied by 2/3 when used against All Targets. It will thus do full damage to each and every single target in the group.\n   252â†’\n   253â†’### *Area:*\n   254â†’\n   255â†’This means that the entire battlefield is a valid target for the ability. Both the party and the enemies will be affected.\n   256â†’\n   257â†’#### *Random:*\n   258â†’\n   259â†’This means that the target will actually be a randomly selected single target out of a valid group. Similar to <n> Tar, except that the valid group is what's being specified. Random [All] specifies a single random target out of a single target group. Random [Area] specifies a single random target out of all valid target groups in battle. (Example: Random [All Tar] would allow you to decide which target group to attack, and then a single target would be picked randomly from that group. Random [Area] would have no such choice, and the single target would be picked from all targetable characters in the battle.)\n   260â†’\n   261â†’#### **1.2.4 Equipment Modifiers**\n   262â†’\n   263â†’The following terms will be used as shorthand to describe various modifiers equipment and accessories\n   264â†’\n   265â†’may give.\n   266â†’\n   267â†’*+?? <Stat>:*\n   268â†’\n   269â†’ This indicates that wearing the given equipment will give the indicated bonus to the described Basic Stat. In the Weapon List found in the FF7 Player Mechanics, there are columns already for Mag, Spr, Vit and Dex bonuses, so bonuses for those stats given by Weapons will be found in those columns instead.\n   270â†’\n   271â†’#### *Half/Void/Absorb <Elemental>:*\n   272â†’\n   273â†’The equipment will automatically allow you to either Halve, Void or Absorb damage from the relevant Elements. If you have a better Elemental Defense than the one given, it will not be affected; the better Defense automatically takes priority.\n   274â†’\n   275â†’#### *Immune <Status>:*\n   276â†’\n   277â†’Wearing this equipment will automatically make you immune to the given Status. Note that Immunity is really a Resist. If you are Immune to that Status, then it is also impossible to Cure that Status should you have it on you. This is best shown by wearing a Ribbon and using a Hyper outside of battle; you will gain the 'Fury' Status, but nothing will be able to remove that Status while you are inside battle.\n   278â†’\n   279â†’#### *Start with <Status>:*\n   280â†’\n   281â†’This means that wearing the piece of equipment will make sure you begin each battle with the named Status(es). You cannot protect yourself from this initial infliction.\n   282â†’\n   283â†’#### **2. BASIC DAMAGE FORMULAE**\n   284â†’\n   285â†’First, it is important that you are familiar with the [x] convention. Basically, [x] is the greatest integer equal to or less than x. Thus, [4.5] would be 4. This convention will be used throughout the guides, and is very important for battle damage. In addition, you should also be familiar with the following convention - x ... y - which defines an integer random number between x and y inclusive. For example, 3 ... 8 would be a random number out of 3, 4, 5, 6, 7 and 8.\n   286â†’\n   287â†’Finally, a function Rnd is defined here, since it is also required by this guide. Rnd picks a random number between 0 and 1 inclusive. It is not known yet what precision of accuracy Rnd uses at this point.\n   288â†’\n   289â†’The Base Damage formula is the most important battle formula in the game, so it will be listed here.\n   290â†’\n   291â†’The Physical Formula for Base Damage is defined as such:\n   292â†’\n   293â†’Base Damage = Att + \n   294â†’$$[(Att + Lvl) / 32] * [(Att * Lvl) / 32]$$\n   295â†’\n   296â†’The Magical Formula for Base Damage is defined likewise:\n   297â†’\n   298â†’Base Damage = \n   299â†’$$6 * (MAt + Lvl)$$\n   300â†’\n   301â†’Note that while Att and MAt are used in the above formulas, it is possible for FF7 abilities to be coded to use each formula with the opposite attack stat (using MAt instead of Att in the Physical Formula, for instance). However, this is purely academic, since no known ability has been found within the game code that does this.\n   302â†’\n   303â†’#### **3. BATTLE DAMAGE**\n   304â†’\n   305â†’Now that the basic terms and formulae have been covered, the basic battle process of determining damage can be defined. Note that certain abilities may skip certain aspects of this procedure; for example, Mindblow will never need to work out either Base Damage, DefMod or Random Variation, because it is a Piercing attack with NRV, and uses a formula that doesn't need Base.\n   306â†’\n   307â†’#### *1. Define Negative Damage*\n   308â†’\n   309â†’A boolean flag named 'Negative Damage' shall be defined at this point. The only factor it checks at this stage is whether the attack contains the Restorative Element. If it does, then Negative Damage is true. Otherwise, it begins as false. The purpose of this flag shall become clear later.\n   310â†’\n   311â†’#### *2. Find Base Damage*\n   312â†’\n   313â†’First, for most attacks, Base Damage must be worked out. If the formula used for the ability does not use Base, then this part may be skipped.The Base Damage formulae are listed in the previous section, and depend on whether the attack is Physical or Magical.\n   314â†’\n   315â†’If the character is 'Small', then Base Damage must be worked out with Att = 0.\n   316â†’\n   317â†’Finally, the character's Physical Base Mod and Magical Base Mod are checked. Hero Drinks (as an example) raise both of these by 30 each time you drink them, to a maximum of 100.\n   318â†’\n   319â†’If the attack is physical:\n   320â†’\n   321â†’```\n   322â†’Base Damage = [Base Damage * (100 + Physical Base Mod) / 100\n   323â†’```\n   324â†’\n   325â†’If the attack is magical:\n   326â†’\n   327â†’```\n   328â†’Base Damage = [Base Damage * (100 + Magical Base Mod) / 100]\n   329â†’```\n   330â†’\n   331â†’#### *3. Use the Appropriate Formula*\n   332â†’\n   333â†’Next, the formula for the attack is worked out. This is usually either an independent formula or a multiple of Base. This gives us the power of the attack. FF7 has several formulas that it may use:\n   334â†’\n   335â†’Physical Base Damage Formula \\* Power of Attack\n   336â†’\n   337â†’Magical Base Damage Formula \\* Power of Attack\n   338â†’\n   339â†’Percentage of Target's HP\n   340â†’\n   341â†’Percentage of Target's Max HP\n   342â†’\n   343â†’Magical Formula + Power of Attack (the Cure Formula)\n   344â†’\n   345â†’Fixed Power of Attack\n   346â†’\n   347â†’Recovery\n   348â†’\n   349â†’Special Formulas\n   350â†’\n   351â†’The last in that list refers to formulas that require special variables that aren't normally checked in battle, like for Chocobuckle, which requires the number of times the party has escaped from battle as a defining variable.\n   352â†’\n   353â†’In addition, there are many different Fixed Power formulas. Since this is not a hex debug document, no attempt will be made to further explain this; the formulas used will instead be listed next to each ability in the FF7 Party Mechanics and the FF7 Enemy Mechanics.\n   354â†’\n   355â†’Many abilities will have either the Non-Damaging formula or a Power of 0. Thus, they may skip this part, since these are generally abilities that change statuses or do other non-damage related abilities. Element checking may still take place though to determine success of certain abilities.\n   356â†’\n   357â†’At this point:\n   358â†’\n   359â†’$$dam = [dam]$$\n   360â†’\n   361â†’### *4. Factor is the BD (Before Defense) Modifiers*\n   362â†’\n   363â†’BD Modifiers are factored in now, since they're a measure of your base damage. Note that UW (Ultimate Weapon) Modifiers are classified as BD Modifiers.\n   364â†’\n   365â†’BD Modifiers on weapons \\*ONLY\\* take effect if the ability used is a BASE Command skill. These commands are: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow. Limit, Magic, Summon, Item and E. Skill are exempt from this (thus, an Ultimate Weapon will not lend its added damage capability to a Limit Break, for example). In addition, attacks that don't use Base Damage or use their own formula (like Throw) are also exempt from this.\n   366â†’\n   367â†’The key thing is to note how two BD Modifiers are put together (this should only be necessary when using Morph with most Ultimate Weapons, but the method is listed here just in case). The formula is:\n   368â†’\n   369â†’New BDM = \n   370â†’$$[(BD1 * BD2 * 16) + (15 / 16)] / 16$$\n   371â†’\n   372â†’This may seem confusing, but what we're actually doing is every time we multiply two BD Modifiers together, we have to round \\*up\\* to the nearest 1/16th. For example:\n   373â†’\n   374â†’9/16 \\* 2/16 = 18/256 = 9/128\n   375â†’\n   376â†’Which rounds up to 2/16 or 1/8.\n   377â†’\n   378â†’If we use the formula to check this, we get:\n   379â†’\n   380â†’```\n   381â†’New BDM = [(9/16 * 2/16 * 16) + (15 / 16)] / 16\n   382â†’= [(9 * 2/16) + 15/16] / 16\n   383â†’= [18/16 + 15/16] / 16\n   384â†’= [33/16] / 16\n   385â†’= [2 + 1/16] / 16\n   386â†’= 2 / 16\n   387â†’```\n   388â†’\n   389â†’By going through the BD Modifiers as above, you should eventually end up with one final BD\n   390â†’\n   391â†’Modifier. This is applied to the damage like so:\n   392â†’\n   393â†’dam = [BD Modifier \\* dam]\n   394â†’\n   395â†’#### *5. Calculate All Tar if appropriate*\n   396â†’\n   397â†’Attacks that target All Targets are granted a modification now. If the attack is No Split (listed as All Tar (NS)), then this section is skipped. In addition, if there is only 1 target in the group, then this section is skipped (it counts as if it was only used against 1 Tar instead).\n   398â†’\n   399â†’Whether an ability is No Split or not depends on the formula and valid target data for the ability in question. Attacks that use the Physical Formula will always split their damage (they can never have the No Split ability). Attacks that use the Magical Formula are only No Split if they cannot be switched between All Tar and 1 Tar. Any ability that works with the All Materia will thus automatically be denied No Split. The exception here is the Cure Formula, which always splits no matter what the valid target data. The rest of the formulas will generally be No Split, but exceptions will be noted.\n   400â†’\n   401â†’If the attack is not No Split:\n   402â†’\n   403â†’$$dam = [dam * 2 / 3]$$\n   404â†’\n   405â†’#### *6. Calculate Quadra Magic if available*\n   406â†’\n   407â†’If the ability is linked to Quadra Magic and Quadra Magic works with it,then:\n   408â†’\n   409â†’$$dam = [dam / 2]$$\n   410â†’\n   411â†’This happens no matter what, unless the ability does not do any kind ofdamage or healing. (Demi and FullCure are affected as well)\n   412â†’\n   413â†’## *7. Calculate Defense*\n   414â†’\n   415â†’Defense comes next, if warranted. If the attack is Piercing, then this part is ignored. If the attack is Physical, then the target's Def stat is used; otherwise, if the attack is Magical, the MDf stat is used.\n   416â†’\n   417â†’The Defense Mod and MDefense Mod of the character is checked at this point. This is a special battleonly stat that is modified by Hero Drinks and Dragon Force (as examples). Each Hero Drink raises both Mods by 30. Each Dragon Force raises both Mods by 50. Neither Mod can ever exceed 100. The two values are applied as such:\n   418â†’\n   419â†’If attack is Physical:\n   420â†’\n   421â†’DefNum = [Def \\* (100 + Defense Mod) / 100]\n   422â†’\n   423â†’If attack is Magical:\n   424â†’\n   425â†’$$DefNum = [MDf * (100 + MDefense Mod) / 100]$$\n   426â†’\n   427â†’And finally, we apply the damage reduction:\n   428â†’\n   429â†’```\n   430â†’ dam = [dam * (512 - DefNum) / 512]\n   431â†’```\n   432â†’\n   433â†’#### *8. Calculate Berserk and Critical Strike*\n   434â†’\n   435â†’If the character is in 'Berserk' and the ability uses a Physical Base, then:\n   436â†’\n   437â†’$$dam = [dam * 1.5]$$\n   438â†’\n   439â†’Critical Strikes and Deathblow damage are also done at this point. If the attack is a Critical Strike (either through luck, via the Deathblow command, the Lucky Girl status, or any other move that has automatic Criticals), and the ability uses a Physical Base then:\n   440â†’\n   441â†’$$dam = dam * 2$$\n   442â†’\n   443â†’#### *9. Frog Check*\n   444â†’\n   445â†’At this point, after Critical Strike, if the Caster is a 'Frog' and the attack utilises Physical Base Damage, then:\n   446â†’\n   447â†’$$dam = [dam / 4]$$\n   448â†’\n   449â†’#### *10. MP Turbo Check*\n   450â†’\n   451â†’MP Turbo also gets a look in at this point if the ability is compatible and is currently paired with the requisite Materia. Depending on the level of the MP Turbo Materia, damage is adjusted accordingly:\n   452â†’\n   453â†’$$dam = [dam * (1 + (MP Turbo Level / 10))]$$\n   454â†’\n   455â†’#### *11. Back Row Check*\n   456â†’\n   457â†’Back Row modifier occurs now. If the attack is Magical or is Long Range, then this part is ignored. If either the Caster or the Target is in the back row, then:\n   458â†’\n   459â†’$$dam = [dam / 2]$$\n   460â†’\n   461â†’Note that the above applies even if attacking an ally or even yourself. It is only applied once though; you will do 1/2 rather than 1/4 damage if you attack yourself with a non-LR physical attack while in the back row.\n   462â†’\n   463â†’#### *12. Barrier and MBarrier Check.*\n   464â†’\n   465â†’Barrier and MBarrier are now looked at. If the target has Barrier and the attack is Physical and does not have the No Barrier attribute, then:\n   466â†’\n   467â†’$$dam = [dam / 2]$$\n   468â†’\n   469â†’The same goes for MBarrier; if the target has MBarrier and the attack is Magical and does not have the No Barrier attribute, then:\n   470â†’\n   471â†’$$dam = [dam / 2]$$\n   472â†’\n   473â†’Generally, only the Physical Formula, the Magical Formula and the Cure Formula attacks are affected by Barrier and MBarrier. The rest will usually be No Barrier. As always, exceptions will be noted as and when we come to them.\n   474â†’\n   475â†’#### *13. Sadness Check*\n   476â†’\n   477â†’Sadness is skipped if the ability is NRV, a Restore or from an Item.\n   478â†’\n   479â†’If the target has the Status 'Sadness', then the damage is modified accordingly:\n   480â†’\n   481â†’$$dam = dam - [dam * 79 / 256]$$\n   482â†’\n   483â†’#### *14. Random Variation Factored In*\n   484â†’\n   485â†’If the ability being used is listed as NRV, then we skip this part:\n   486â†’\n   487â†’Random Variation comes next. Thus, the following is applied:\n   488â†’\n   489â†’$$dam = [dam * (15 + Rnd) / 16]$$\n   490â†’\n   491â†’## *15. Lower bound sanity check*\n   492â†’\n   493â†’Lower bound sanity checking takes place at this point. Thus:\n   494â†’\n   495â†’If \n   496â†’$$(dam < 1)$$\n   497â†’ Then:  $dam = 1$ \n   498â†’\n   499â†’Damage greater than 9999 is left unchanged at this point.\n   500â†’\n   501â†’#### *16. Added Damage Effects*\n   502â†’\n   503â†’Added Damage Effects are now done. These are simple integer multipliers.\n   504â†’\n   505â†’Added Damage Effects on weapons, like BD Modifiers above, \\*ONLY\\* take effect if the ability used is a BASE Command skill. No doubling up of Yoshiyuki with Goblin Punch, for example.\n   506â†’\n   507â†’In any case, for all Added Damage Effects that must be done:\n   508â†’\n   509â†’dam = dam \\* Added Damage Effect\n   510â†’\n   511â†’#### *17. Elemental Damage and Final Status Checks*\n   512â†’\n   513â†’Finally, Elemental Damage and Final Status Checks takes place. Once one Elemental is found in the order of priority, the others will be skipped. Note that Poison Element is special; if you're Immune to the status, then you also count as being Immune to the element (but Asrb: Poison will always be checked first).\n   514â†’\n   515â†’Within this section, checks against Shield, Peerless and certain special abilities of enemies are also made. It is impossible to be sure of the order this happens in, so no attempt will be made to integrate these checks into the below Elemental system. However, relative notes on the subject can be found in the respective Status descriptions and the specific enemy attributes this applies to.\n   516â†’\n   517â†’Also, once again, any Elemental affinity the player has on their weapon is only taken into consideration for base Command abilities. You can't have a Fire-element Omnislash, for example, or Throw Gravity-element Mythril Sabers.\n   518â†’\n   519â†’First, check if the target Absorbs one of the Elements of the attack. If so, then the Negative Damage flag is toggled (if Negative Damage was true, it's now false; and vice versa).\n   520â†’\n   521â†’If the target doesn't Absorb any of the Elements, but does Void it, then:\n   522â†’\n   523â†’$$dam = 0$$\n   524â†’\n   525â†’If the target doesn't Absorb or Void any of the Elements, but does Half it, then:\n   526â†’\n   527â†’$$dam = [(dam + 1) / 2]$$\n   528â†’\n   529â†’Finally, if the target hasn't Absorbed, Voided or Halved any of the Elements already, then Weak is checked. If the target is Weak against any of the Elements, then:\n   530â†’\n   531â†’$$dam = dam * 2$$\n   532â†’\n   533â†’## *18. The 9999 \"Sanity Check\"*\n   534â†’\n   535â†’After all this, only one thing remains.\n   536â†’\n   537â†’If \n   538â†’$$(dam > 9999)$$\n   539â†’ Then:  $dam = 9999$ \n   540â†’\n   541â†’If the attack does damage to MP and the target does not have the 'HP<->MP' Materia equipped, then the sanity check is instead:\n   542â†’\n   543â†’If \n   544â†’$$(dam > 999)$$\n   545â†’ Then:  $dam = 999$ \n   546â†’\n   547â†’The 999 'Sanity Check' is also used if the target \\*does\\* have 'HP<->MP' equipped and the damage is dealt to HP instead of MP (the 'HP<->MP' Materia not only reverses HP and MP, but it also reverses the max damage allowed against that target).\n   548â†’\n   549â†’### *19. Negative Damage*\n   550â†’\n   551â†’The final damage has, at that point, been calculated. All that remains is to check the status of the Negative Damage flag.\n   552â†’\n   553â†’If Negative Damage is true, then the amount 'dam' will be healed to the target. The type of the attack will define what exactly is healed and what else is done with the 'dam' variable.\n   554â†’\n   555â†’If Negative Damage is false, then the amount 'dam' will be used as damage against the target's appropriate stat (usually HP).\n   556â†’\n   557â†’The above sequence can be summarized as such:\n   558â†’\n   559â†’Small Check\n   560â†’\n   561â†’Base Formula\n   562â†’\n   563â†’Hero Drink Check\n   564â†’\n   565â†’BD Modifier\n   566â†’\n   567â†’All Tar Reduction\n   568â†’\n   569â†’Quadra Magic\n   570â†’\n   571â†’Defense\n   572â†’\n   573â†’Berserk / Critical Strike\n   574â†’\n   575â†’Frog Check\n   576â†’\n   577â†’MP Turbo Check\n   578â†’\n   579â†’Back Row / Long Range\n   580â†’\n   581â†’Barrier / MBarrier\n   582â†’\n   583â†’Sadness Check\n   584â†’\n   585â†’Random Variation\n   586â†’\n   587â†’Damage < 1\n   588â†’\n   589â†’Added Damage Effects\n   590â†’\n   591â†’Elemental Damage and Final Status Checks\n   592â†’\n   593â†’Damage > 9999\n   594â†’\n   595â†’Negative Damage\n   596â†’\n   597â†’Note: This order may not be 100% accurate. There are too many combinations of factors to test them all, and without seeing the code for the battle algorithms, a lot of what is displayed here are educated guesses derived from results seen. It is presumed accurate enough for 99% of all results at this present time though.\n   598â†’\n   599â†’#### **4. STATUSES**\n   600â†’\n   601â†’There are 31 major Statuses in the game, although a few of them are not shown on the Status screen and are sometimes transparent to the user. The statuses available are thus:\n   602â†’\n   603â†’| Death     | Near-death | Sleep   | Poison      | Sadness        | Fury       | Confusion  | Silence  |\n   604â†’|-----------|------------|---------|-------------|----------------|------------|------------|----------|\n   605â†’| Haste     | Slow       | Stop    | Frog        | Small          | Slow-numb  | Petrify    | Regen    |\n   606â†’| Barrier   | MBarrier   | Reflect | Shield      | Death-sentence | Manipulate | Berserk    | Peerless |\n   607â†’| Paralysed | Darkness   | Dual    | Death Force | Resist         | Lucky Girl | Imprisoned |          |\n   608â†’\n   609â†’Of those, Death Force, Resist and Lucky Girl are nearly transparent to the player, and a few of the others (like Imprisoned) are completely invisible save for their effect. Several are not listed on the Status screen; these are: *Dual*, *Death Force*, *Resist*, *Lucky Girl* and *Imprisoned*.\n   610â†’\n   611â†’What follows is a breakdown of the statuses visual effects and gameplay attributes.\n   612â†’\n   613â†’#### **4.1 Status Attributes**\n   614â†’\n   615â†’#### Death\n   616â†’\n   617â†’The ultimate offensive Status Attribute. If you're successfully hit with it, you are immediately reduced to 0 HP. Death is also the state of having 0 HP.\n   618â†’\n   619â†’You can protect from it, fortunately. That is, you can protect yourself from 'Sudden Death', which is any attack that causes you to instantly die, regardless of how much HP you have or how much damage the attack actually caused. However, if you are reduced to 0 HP by taking too much damage... well, you can't protect against that at all.\n   620â†’\n   621â†’| Visuals      | Character lies down                                                                                  |\n   622â†’|--------------|------------------------------------------------------------------------------------------------------|\n   623â†’| Effects:     | Character flagged as 'Dead'<br>Removes all Statuses except for 'Frog' and 'Small'                    |\n   624â†’| Duration     | Until cured                                                                                          |\n   625â†’| Protected by | Petrify', 'Peerless', 'Resist', Safety Bit, Destruct+Added<br>Effect, Odin+Added Effect, Death Force |\n   626â†’| Cured by     | Life, Life2, Phoenix Down, Angel Whisper, Phoenix                                                    |\n   627â†’\n   628â†’#### Near-Death\n   629â†’\n   630â†’When your character is heavily wounded, but still able to fight, they are classed as Near-death. They kneel down and their HP indicator turns yellow to notify of this. Otherwise, this Status Attribute means nothing else; it occurs only when your HP is 25% or less of your current Max HP, and you are not yet dead.\n   631â†’\n   632â†’| Visuals      | Character kneels                                          |\n   633â†’|--------------|-----------------------------------------------------------|\n   634â†’| Effects:     | None                                                      |\n   635â†’| Duration     | Until cured                                               |\n   636â†’| Protected by | Anything that prevents HP loss                            |\n   637â†’| Cured by     | Anything that serves to boost your HP above 25% of Max HP |\n   638â†’\n   639â†’#### Sleep\n   640â†’\n   641â†’This nasty affliction is one of four temporary 'Can't Act' Status Attributes in FF7. Once under this Status, the character is asleep, and cannot fight normally. However, Sleep is easily reversed; any Physical hit is enough to wake up a sleeping character.\n   642â†’\n   643â†’| Visuals      | Character kneels/has Zzz above head                                                     |\n   644â†’|--------------|-----------------------------------------------------------------------------------------|\n   645â†’| Effects:     | Character cannot Act                                                                    |\n   646â†’| Duration     | 26 units                                                                                |\n   647â†’| Protected by | Petrify', 'Peerless', 'Resist', Ribbon, Headband, Seal+Added Effect, Hades+Added Effect |\n   648â†’| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                              |\n   649â†’\n   650â†’#### Poison\n   651â†’\n   652â†’Any character inflicted with this Status will continually take Poison Elemental damage throughout the battle. It won't be purged naturally until the battle ends.\n   653â†’\n   654â†’| Visuals      | Character kneels/flashes Green                                                                                                          |\n   655â†’|--------------|-----------------------------------------------------------------------------------------------------------------------------------------|\n   656â†’| Effects:     | Character takes [1/32 of Max HP] of<br>Physical Poison Elemental damage every<br>2.5 units of time (ignores Def, Barrier and<br>is NRV) |\n   657â†’| Duration     | Until end of battle                                                                                                                     |\n   658â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon,<br>Poison Ring, Star Pendant, Fairy Ring,<br>Poison+Added Effect, Hades+Added<br>Effect        |\n   659â†’| Cured by     | Poisona, Esuna, Remedy, White Wind,<br>Angel Whisper, Antidote                                                                          |\n   660â†’\n   661â†’Note: The Status Attribute Poison is different from the Element Poison. But, if you Void or Absorb Poison Elemental, any attack that does Poison damage will no longer inflict the Poison Attribute. However, you will still be vulnerable to things like Bad Breath, which causes various Status Attributes without causing damage. The reverse also has effects; being Immune to the Status Attribute Poison will mean that you are also considered Immune to the element.\n   662â†’\n   663â†’#### Sadness\n   664â†’\n   665â†’A character inflicted with Sadness is more subdued and careful in battle. They tend to take less damage from attacks, but they find it difficult to get angry at anything. Hence, the growth of their Limit Bar is severely reduced. The Limit Bar turns blue to notify you of this condition.\n   666â†’\n   667â†’| Visuals      | Limit bar is blue                                                                                                                          |\n   668â†’|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n   669â†’| Effects:     | Character takes approximately 177/256x damage<br>from most attacks (see Section 3: Battle Damage<br>for details), Limit Bar growth halved. |\n   670â†’| Duration     | Until cured                                                                                                                                |\n   671â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring                                                                                        |\n   672â†’| Cured by     | Hyper, Esuna, Remedy                                                                                                                       |\n   673â†’\n   674â†’#### Fury\n   675â†’\n   676â†’Anyone in Fury status is more prone to rushing the enemy, and attacking them with greater fervour. As such, while they don't benefit from the reduced damage of Sadness, they instead get an increase in the growth of their Limit Bar, allowing them to pull of Limit Breaks with greater frequency. However, their attacks are more erratic, and miss more often. The Limit Bar turns red to notify you of this condition.\n   677â†’\n   678â†’| Visuals      | Limit bar is red                                      |\n   679â†’|--------------|-------------------------------------------------------|\n   680â†’| Effects:     | Character Attack% reduced<br>Limit Bar growth doubled |\n   681â†’| Duration     | Until cured                                           |\n   682â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring   |\n   683â†’| Cured by     | Tranquilizer, Esuna, Remedy                           |\n   684â†’\n   685â†’#### Confusion\n   686â†’\n   687â†’The pure opposite of Berserk, despite the fact that the character suffering from Confusion doesn't have any increased damage potential. You immediately lose control of the character, and they will randomly attack their allies, even themselves. Fortunately, it's easy to cure; a single Physical hit will take care of it. However, a recently Confused character will always carry out the last command they were asked to irregardless; but it will always be against you.\n   688â†’\n   689â†’| Visuals      | Character continually spins in place                                                                                   |\n   690â†’|--------------|------------------------------------------------------------------------------------------------------------------------|\n   691â†’| Effects:     | Character randomly attacks allies                                                                                      |\n   692â†’| Duration     | Until end of battle                                                                                                    |\n   693â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Contain+Added<br>Effect, Mystify+Added Effect, Hades+Added Effect |\n   694â†’| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                                                             |\n   695â†’\n   696â†’#### Silence\n   697â†’\n   698â†’The power of this affliction is often underestimated. While under its influence, you are unable to cast any Magic, Enemy Skills or Summons. However, your other commands are untouched. Its usefulness lies in using it on the enemy; many of them have attacks that would be better left sealed with Silence.\n   699â†’\n   700â†’| Visuals      | Character kneels/has speech bubble over head                                      |\n   701â†’|--------------|-----------------------------------------------------------------------------------|\n   702â†’| Effects:     | Character cannot use Magic/Enemy<br>Skills/Summons                                |\n   703â†’| Duration     | Until end of battle                                                               |\n   704â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon,<br>Seal+Added Effect, Hades+Added Effect |\n   705â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper,<br>Echo Screen                          |\n   706â†’\n   707â†’#### Haste\n   708â†’\n   709â†’One of the best Status Attributes, Haste has your time bar filling up twice as fast as normal. However, on the flip-side, all timed effects like Slow-numb, Barrier and so forth, will run out twice as quickly. But, the pros far outweigh the cons in this instance.\n   710â†’\n   711â†’| Visuals      | Character Animation speed doubled |\n   712â†’|--------------|-----------------------------------|\n   713â†’| Effects:     | Time Unit speed doubled           |\n   714â†’| Duration     | Until end of battle               |\n   715â†’| Protected by | 'Petrify', 'Peerless', 'Resist'   |\n   716â†’| Cured by     | DeSpell                           |\n   717â†’\n   718â†’#### Slow\n   719â†’\n   720â†’The complete opposite of Haste, Slow causes your time bar to fill up twice as slow as normal. But, it has its good side; Barrier, MBarrier, Slow-numb, Death-sentence... all those take far longer to run out of time.\n   721â†’\n   722â†’| Visuals      | Character Animation speed halved                   |\n   723â†’|--------------|----------------------------------------------------|\n   724â†’| Effects:     | Time Unit speed halved                             |\n   725â†’| Duration     | Until end of battle                                |\n   726â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Time+Added Effect |\n   727â†’| Cured by     | DeSpell, White Wind, Angel Whisper                 |\n   728â†’\n   729â†’#### Stop\n   730â†’\n   731â†’The second worst of the four temporary 'Can't Act' Status Attributes, Stop completely shuts off the Time counter for that character. However, on the other hand, things like Barrier, MBarrier, Regen and so on will not count down during this time, until Stop has worn off or it's been dispelled.\n   732â†’\n   733â†’| Visuals      | Character Animation speed paused                                                                       |\n   734â†’|--------------|--------------------------------------------------------------------------------------------------------|\n   735â†’| Effects:     | Time Unit speed reduced to zero<br>Character cannot Act                                                |\n   736â†’| Duration     | 15 units                                                                                               |\n   737â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Contain+Added<br>Effect, Time+Added EFfect, Choco/Mog+Added<br>Effect |\n   738â†’| Cured by     | DeSpell, White Wind, Angel Whisper                                                                     |\n   739â†’\n   740â†’#### Frog\n   741â†’\n   742â†’Perhaps the worst of the transformation Statuses, Frog both reduces your attack power, as well as preventing you from using almost all of your Materia. The only options available to you are Fight, Item, and if you have it equipped, the Magic Spell 'Toad'. You can't even perform Limit Breaks while transformed into a frog.\n   743â†’\n   744â†’| Visuals      | Character is a frog!                                                                                                            |\n   745â†’|--------------|---------------------------------------------------------------------------------------------------------------------------------|\n   746â†’| Effects:     | All Physical attacks do 1/4 of Base Damage<br>Character can only use Fight (not Limit), Item<br>(including W-Item) or cast Toad |\n   747â†’| Duration     | Until end of battle                                                                                                             |\n   748â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White<br>Cape,Transform+Added Effect, Hades+Added Effect                               |\n   749â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Toad,<br>Maiden's Kiss, Impaler                                                       |\n   750â†’\n   751â†’#### Small\n   752â†’\n   753â†’While not as bad as Frog, this is still a terrible condition. While Magic is still wide open to you, every physical attack you do will have an Attack of 0; you will do 1 HP damage until modifications added after the random variation are added. Elemental attacks and Added Damage Effects will use the 1 HP damage as the basis for their calculations.\n   754â†’\n   755â†’| Visuals      | Character size is significantly reduced                                                           |  |  |\n   756â†’|--------------|---------------------------------------------------------------------------------------------------|--|--|\n   757â†’| Effects:     | Character Attack reduced to 0                                                                     |  |  |\n   758â†’| Duration     | Until end of battle                                                                               |  |  |\n   759â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White<br>Cape,Transform+Added Effect, Hades+Added Effect |  |  |\n   760â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Mini,<br>Cornucopia, Shrivel                            |  |  |\n   761â†’\n   762â†’#### Slow-numb\n   763â†’\n   764â†’One of the banes of the beginner player, Slow-numb can easily take out a character within moments if you're not prepared for it. Essentially, it's a countdown to petrify; you have 30 units of time (as shown by the counter above the character's head) to cure them of the affliction, or end the battle. Otherwise, they are inflicted by the Status Petrify.\n   765â†’\n   766â†’| Visuals      | Character has timer above head/flashes Grey                                               |\n   767â†’|--------------|-------------------------------------------------------------------------------------------|\n   768â†’| Effects:     | 30-unit Timer set on character<br>When Timer reaches 0, Petrify is inflicted on character |\n   769â†’| Duration     | 30 units                                                                                  |\n   770â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit                             |\n   771â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                            |\n   772â†’\n   773â†’### Petrify\n   774â†’\n   775â†’Completely turned to stone, this is a very bad Status Attribute to earn. You can't act, and even worse, you're flagged as 'Dead'; if everyone in your party is flagged as 'Dead', then the game is over. However, it's easily curable, and while Petrified, you cannot be inflicted with any other Status Attributes, or take damage in any way at all. However, that also means you can't have damage healed while Petrified either.\n   776â†’\n   777â†’| Visuals      | Character Animation speed paused/Character coloured Grey                                           |\n   778â†’|--------------|----------------------------------------------------------------------------------------------------|\n   779â†’| Effects:     | Character cannot Act<br>Character flagged as 'Dead'<br>Voids all damage<br>Prevents Status changes |\n   780â†’| Duration     | Until end of battle                                                                                |\n   781â†’| Protected by | 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit,<br>Contain+Added Effect                        |\n   782â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                                     |\n   783â†’\n   784â†’#### Regen\n   785â†’\n   786â†’An alternative to the standard healing spells, Regen has the potential to be greater than any of them, for half the cost of Cure3. However, its healing ability takes place over time, and it heals at a rate proportional to your current Max HP value. In addition, it has a short duration, and it can be DeSpelled.\n   787â†’\n   788â†’| Visuals |              | Character flashes Orange                                                              |\n   789â†’|---------|--------------|---------------------------------------------------------------------------------------|\n   790â†’|         | Effects:     | Character steadily gains approximately 1/32 of<br>their Max HP over each unit of time |\n   791â†’|         | Duration     | 32 units                                                                              |\n   792â†’|         | Protected by | 'Petrify', 'Peerless', 'Resist'                                                       |\n   793â†’|         | Cured by     | DeSpell                                                                               |\n   794â†’\n   795â†’#### Barrier\n   796â†’\n   797â†’A protective Status Attribute, and the first available to you. It halves the damage from all Physical attacks, but it has a limited duration. The time left for Barrier can be checked in the Barrier gauge in the left window, next to the character name.\n   798â†’\n   799â†’| Visuals      | Barrier gauge is active         |\n   800â†’|--------------|---------------------------------|\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"15ac7309-bcf2-432a-89a3-e9cf9007860e","tool_use_result":{"type":"text","file":{"filePath":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","content":"<!--\nMERGE METADATA\nCreated: 2025-11-29\nOriginal: FF7_Battle_Damage_Formulas.md (    1779 lines)\nMajor section: 06_BATTLE_MODULE.md\nMerge decision: NO EXTRACTION PERFORMED  \nReason: Individual file contains Terence Fergusson's comprehensive damage formula documentation\nStatus: COMPLETE - Original file copied as source of truth\n-->\n\n# FF7/Battle/Damage Formulas {#ff7battledamage_formulas}\n\n- [FF7/Battle/Damage Formulas](#ff7battledamage_formulas){#toc-ff7battledamage_formulas}\n  - [Version History](#version_history){#toc-version_history}\n  - [Foreword](#foreword){#toc-foreword}\n  - [Component Guides](#component_guides){#toc-component_guides}\n  - [Contents](#contents){#toc-contents}\n  - [1. Definitions](#1_definitions){#toc-1_definitions}\n  - [2. Basic Damage Formulae](#2_basic_damage_formulae){#toc-2_basic_damage_formulae}\n  - [3. Battle Damage](#3_battle_damage){#toc-3_battle_damage}\n  - [4. Statuses](#4_statuses){#toc-4_statuses}\n  - [5. Game Over](#5_game_over){#toc-5_game_over}\n\n\n\n## The Final Fantasy 7 Battle Mechanics by Terence Fergusson\n\nThis document is entirely my work, and was written and is owned by me, Terence Fergusson. All copyrights and trademarks are acknowledged where not specifically mentioned. If you wish to reproduce this document AS IS, you may do so without having to ask for my permission, providing that the entire document including this copyright notice is left intact, and preferably in ASCII text format.\n\n### VERSION HISTORY {#version_history}\n\nv0.8 : 23/03/02 : Original Release - Not accompanied by sister guides\n\n### FOREWORD {#foreword}\n\nThese guides have been a long time in the making.\n\nIt started with a webpage. Just a small private one that I created early in April 1999. It was more practice than anything else, and I put up most of my findings about the game at that time. Most of it was incorrect, but I had some basics down.\n\nI changed to pure text format soon after when I realized that a webpage was very difficult to update with the number of tables such a Mechanics document requires. Pure text is also a lot easier to simply add stuff to. Updates can be made in seconds.\n\nBut this was still a private thing. It's been private for years, in fact. But that's not to say it wasn't added to or the information wasn't utilized.\n\nDuring this time, I've met many people who share the same fascination that I have with this subject. We've helped each other too; some of the information included here is due to information that was pointed out to me in the memory dumps. I've learned from it, I've progressed. And the guide grew.\n\nRecently, it's become more and more apparent that this kind of information is not only useful, but also in demand. True, it doesn't help the average player, whose only concern is to get from A to B without too much trouble and just having fun along the way... but to others, it's fun to learn how the game works, and exactly what makes the monsters they fight tick.\n\nAs such, I have finally managed to complete this to my satisfaction. It may not be finished yet, and I may not ever find the time to update it so that it is complete... but at least it is whole.\n\nAnd this is it.\n\nNOTE (23/03/0003): This isn't a finished product. It may never be a finished product. As it stands, only this guide of the three planned is being released. Please do not e-mail asking on the progress of the other two; the Battle Mechanics guide is being released now as something to work on. The other two will follow when they're structurally complete, and not before.\n\n### COMPONENT GUIDES {#component_guides}\n\n*The FF7 Game Mechanics Guides* are split into three files. This guide, the first, will detail the basic formulas, terms and statuses used in battle. The other two are:\n\n#### The FF7 Party Mechanics\n\nCovers the various battle formulas relating to the party, notably formulas regarding spell damage, materia use, and limit breaks.\n\n#### The FF7 Enemy Mechanics\n\nA list of enemies focusing on their attacks and attributes, and how the damage from those attacks are factored into the battle mechanics formulas.\n\nThe FF7 Battle Mechanics is the main one to start with, since it will define many terms that will be used in both Party and Enemy Mechanics.\n\nNote that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n\nNOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n\nNote that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n\nNOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n\n#### **CONTENTS**\n\n- 1. Definitions\n- 1.1 Character Stats\n- 1.2 Special Term Definitions\n- 1.2.1 Basic Terms\n- 1.2.2 Types of Attack\n- 1.2.3 Target Types\n- 1.2.4 Equipment Modifiers\n- 2. Basic Damage Formulae\n- 3. Battle Damage\n- 4. Statuses\n- 4.1 Status Attributes\n- 4.2 Special Notes On Statuses\n- 5. Game Over\n\n#### **1. DEFINITIONS**\n\n## **1.1 Character Stats**\n\nThere are seven Primary Stats and seven Derived Stats that make up your basic character. The Primary Stats are:\n\n| Str: Strength | Dex: Dexterity |\n|---------------|----------------|\n| Vit: Vitality | Mag: Magic     |\n| Spr: Spirit   | Lck: Luck      |\n| Lvl: Level    |                |\n\nThe Derived Stats are:\n\n| Atk: Attack     | At%: Attack%   |\n|-----------------|----------------|\n| Def: Defense    | Df%: Defense%  |\n| MAt: Magic atk  | MDf: Magic def |\n| MD%: Magic def% |                |\n\nNOTE! There is a bug in FF7 such that Armour MDefense Bonus is \\*not\\* added to Magic Def. This is reflected in many places, including the Status screen (but the bonus you are supposed to get is visible in the Equip screen). To my knowledge, it is definitely evident in both the PC version and the PSX version. You will take the same amount of magic damage regardless of your Armour's MDefense rating.\n\nThe Primary Stats dictate the overall strengths of your character. Level dictates exactly how powerful the character is, while the last six stats round off the character. Each character has a starting value for their Primary Stats, and every level, there is a chance that these stats will be raised by a random number of points. In addition, it's possible to further raise these stats permanently using Sources.\n\nThe Derived Stats are based from your Primary Stats and your currently worn equipment. They are derived as such:\n\n| Atk | Str + Weapon Attack Bonus               |\n|-----|-----------------------------------------|\n| At% | Weapon Attack% Bonus                    |\n| Def | Vit + Armour Defense Bonus              |\n| Df% | (Dexterity / 4) + Armour Defense% Bonus |\n| MAt | Magic                                   |\n| MDf | Spirit + Armour MDefense Bonus          |\n| MD% | Armour MDefense% Bonus                  |\n\nYour Derived Stats, along with a few of the Primary Stats(mostly Level and Luck), are what's used in every battle to determine battle damage, spell strength, and so on.\n\nIn addition to the above, many pieces of amour, weaponry and accessories will give you special bonuses to your Primary Stats which, in turn, affect your Derived Stats. You can only see these bonuses in effect on the Status screen though, not on the Equip screen. These bonuses are factored into battle, however.\n\nFrom now on, the three letter abbreviations next to each Stat will be used instead of their full names.\n\n#### **1.2 Special Term Definitions**\n\nThe following terms will be used throughout the Game Mechanics guides.\n\n#### **1.2.1 Basic Terms**\n\n#### *Base Damage:*\n\nThis is a special term which means the basic power of most basic types of attack. For physical attacks, Base Damage is dependent on Atk and Lvl. For magical attacks, it is dependent on MAt and Lvl. Most attacks will use Base Damage to determine the damage they do. In ability formulas, this will be listed as Base.\n\n#### *NRV:*\n\nShort for No Random Variation, this means that the attack will not vary in power according to a random factor.\n\n#### *Caster:*\n\nThe character that used the ability. Also known as the source of the attack's effect.\n\n#### *Target:*\n\nThe character that is affected by the ability.\n\n#### *BD (Before Defense) Modifier:*\n\nThis term applied to quite a number of abilities. The primary use for BD Modifiers is for Ultimate Weapons. In this case, the name which has been given to them is UW Modifier. As of writing, only one BD Modifier is known that is not connected to Ultimate Weapons, but the distinction, however slim, still stands. All BD Modifiers take the form of a fraction with a denominator of 16. (For example: 3/16) See below for details.\n\n#### *UW (Ultimate Weapon) Modifier:*\n\nA subset of BD Modifiers. UW Modifiers are for Ultimate Weapons only. They are separated for clarity. Take note that UW Modifiers are only applied to Base Command skills, which are defined as: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow.\n\n#### *Added Damage Effect:*\n\nThis term applies to certain weapons and abilities. It is a modifier that is multiplied to the damage during damage calculations. See below for details.\n\n#### *Element:*\n\nSome attacks will use a special Element that will determine certain factors about the attack. Most enemies will have certain elemental weaknesses and strength; this factor will determine whether the attack will do extra damage or be defended against. For example, an attack described as a 'Elm: Fire' attack will do Fire Elemental damage.\n\n#### Note that FF7 uses the following common Elements:\n\n| Fire   | Ice         | Lightning | Earth |\n|--------|-------------|-----------|-------|\n| Poison | Gravity     | Water     | Wind  |\n| Holy   | Restorative |           |       |\n\nThe absence of any Element is termed Non-Element, which, while not technically an element in itself, will be used to denote this state.\n\nAlso note that there are five more Elements that apply only to Physical Attacks. While FF7 is aware of them, they are not normally utilized in Elemental calculations because almost nothing is weak or defends against them:\n\n| Cut   | Hit   | Punch |\n|-------|-------|-------|\n| Shoot | Shout |       |\n\nAnd finally, there is a 16th Hidden Element that was obviously supposed to have been dummied out, but due to sloppy coding, has ended up having unexpected effects with the Elemental Materia and certain attacks.\n\nHidden\n\nOf the above Elements, Restorative, Cut, Hit, Punch, Shoot, Shout and Hidden are not made known to the player. They can be described as follows:\n\n| Element     | Description                                                                                                                                                                                                                                                                                                                |\n|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Restorative | See below for the definition of Restore. Restorative is the<br>difference between the Cure and Life series of spells which give<br>back HP, and the Holy Elemental attack spells like Alexander,<br>which cause Holy Element damage. While Undead are often said<br>to be Weak to Holy, they *Absorb* Restorative instead. |\n| Cut         | Used to describe an attack that uses an edged weapon.                                                                                                                                                                                                                                                                      |\n| Hit         | Used to describe an attack that uses a blunt weapon.                                                                                                                                                                                                                                                                       |\n| Punch       | Used to describe an attack that uses a piercing weapon.                                                                                                                                                                                                                                                                    |\n| Shoot       | Used to describe attacks that use projectile weapons.                                                                                                                                                                                                                                                                      |\n| Shout       | Used to describe attacks that are sonic or energy-based in nature.                                                                                                                                                                                                                                                         |\n| Hidden      | Unknown. Unlike the others, Hidden is the name I've given it.<br>Very few attacks have this element. Any that do can be protected<br>from by linking any non-Element Materia with the Elemental<br>Materia in a character's armor.                                                                                         |\n\n## **1.2.2 Types of Attack**\n\nWhen an attack type is given, the following terms will be used to describe them. These are the most common terms; unique terms will be described within the notes for the appropriate ability itself.\n\n| Type of<br>Attack | Description                                                                                                                                                                                                           |\n|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Physical          | Any attack termed as Physical will use Att and Def as the primary damage calculating<br>stats, and is affected by Barrier. It will also normally use the Physical Formula for Base<br>Damage, unless noted otherwise. |\n\n| Type of<br>Attack | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |  |  |  |\n|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--|--|--|\n| Magical           | Any attack termed as Magical will use MAt and MDf as the primary damage calculating<br>stats, and is affected by MBarrier. It will also normally use the Magical Formula for<br>Base Damage, unless noted otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  |  |  |\n| Piercing          | This means that the attack will ignore the target's Defense and Magic def stats when<br>determining how much damage it will do to them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |  |  |  |\n| Attack            | Any attack with this modifier will cause damage to some stat. By default, this is HP, but<br>this can be modified. For example, MP Attack would mean an ability that reduces the<br>target's MP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |  |  |  |\n| Absorb            | The same as Attack, except that the caster benefits in some way from the damage given<br>to the target. Unless otherwise noted, the benefit is equal and opposite to the damage<br>dealt to the target                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |  |  |  |\n| LR                | Short for Long Range, this means that the ability will not factor Back Row modifiers into<br>the formula. Thus, the ability will do full damage no matter what the distance. This also<br>means that the ability can target enemies that are 'Can't reach'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |  |  |  |\n| Restore           | Restorative is a special Element that has the damage rules for Elements reversed.<br>Specifically, with no Restorative affinity, targets will gain HP or MP from this Element.<br>However, targets that are listed as Absorb Restorative will alternatively take damage<br>from this element. If an attack is listed as Restorative, it will replace the Attack<br>modifier. Restore is used just to remind that this is a healing ability; 'Elm: Restorative'<br>will still be listed within the attack, and in all other ways, it is classed as an Attack.                                                                                                                                                                                         |  |  |  |\n| Recovery          | A special type of attack, this ability will completely refill the target's HP and MP. It can<br>function without an Element, but if it does have one, then against any target that Absorbs<br>the ability's Element, it will inflict Death status instead of restoring their HP and MP.<br>The words 'Recovery' or 'Death' will flash up over the target to demonstrate which is<br>being used.                                                                                                                                                                                                                                                                                                                                                      |  |  |  |\n| Change<br>Status  | This attack type attempts to change the statuses on a target. Changes in Status are<br>divided into three types:<br>Cure, Inflict or<br>Toggle. Cure will remove an instance of that<br>Status. Inflict will attempt to give the target that Status. Toggle will either Inflict the<br>Status on the target, or Cure it if the target already has that Status. If at any time a spell<br>or ability is described as Curing, Inflicting or Toggling a Status, it will also have a<br>number in square brackets. This number is the relative chance of success.<br>(Example: [15] Inflict 'Death' is a Rating 15 chance of inflicting the Death Status. The<br>exact formula is not yet known, but a rough guide is to think of the Rating as a chance |  |  |  |\n|                   | out of 64. This approximation works well when used against enemies of equal level to<br>you)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |  |  |  |\n|                   | A Change Status ability, like any other attack, will be either Physical or Magical;<br>however, if Change Status is used, then this means that the attack itself does no damage.<br>The only reason Physical or Magical is listed is for certain enemies that may react to one<br>or the other. If the chance reads [63], then the Status Chance is as near enough to 100%<br>as it's going to get. I've only ever seen a [63] Rating fail once thus far, and that was<br>Death Dealer's Hidden One against a L99 Barret                                                                                                                                                                                                                             |  |  |  |\n\n| Type of<br>Attack | Description                                                                           |\n|-------------------|---------------------------------------------------------------------------------------|\n| Misc              | Any ability that is not adequately described by the above categories falls under this |\n| Ability           | category by default. Whatever effect the ability has will be depicted under Notes.    |\n\n#### **1.2.3 Target Types**\n\nAny ability used will often require a target to be given. The following shorthand will be used:\n\n| Op  | Opponent                  |\n|-----|---------------------------|\n| Al  | Ally                      |\n| Tar | Target (Opponent or Ally) |\n\n#### *1 Tar:*\n\nThis means that the ability can only hit one selected target. Normally, this target will be selected by the player or enemy. Multi-hit attacks that only hit one selected target also fall under this category.\n\n#### *<n> Tar:*\n\nThis special variation of the above means that the ability will hit <n> randomly selected targets in the chosen target group. For example, Omnislash will be listed as '15 Op', which means it will hit 15 randomly selected targets in a selected opponent target group.\n\n#### *All Tar:*\n\nThis means that the ability will hit all targets within the selected target group once each. If this Target Type is used, the strength of the ability must be multiplied by 2/3; that strength is then used to determine the damage for each single target in the group. Note that if there is only one Target in the group, then the ability is used at full strength instead; it's counted as a 1 Tar attack.\n\n#### *All Tar (NS):*\n\nNS stands for No Split. This means that the strength of the ability is NOT multiplied by 2/3 when used against All Targets. It will thus do full damage to each and every single target in the group.\n\n### *Area:*\n\nThis means that the entire battlefield is a valid target for the ability. Both the party and the enemies will be affected.\n\n#### *Random:*\n\nThis means that the target will actually be a randomly selected single target out of a valid group. Similar to <n> Tar, except that the valid group is what's being specified. Random [All] specifies a single random target out of a single target group. Random [Area] specifies a single random target out of all valid target groups in battle. (Example: Random [All Tar] would allow you to decide which target group to attack, and then a single target would be picked randomly from that group. Random [Area] would have no such choice, and the single target would be picked from all targetable characters in the battle.)\n\n#### **1.2.4 Equipment Modifiers**\n\nThe following terms will be used as shorthand to describe various modifiers equipment and accessories\n\nmay give.\n\n*+?? <Stat>:*\n\n This indicates that wearing the given equipment will give the indicated bonus to the described Basic Stat. In the Weapon List found in the FF7 Player Mechanics, there are columns already for Mag, Spr, Vit and Dex bonuses, so bonuses for those stats given by Weapons will be found in those columns instead.\n\n#### *Half/Void/Absorb <Elemental>:*\n\nThe equipment will automatically allow you to either Halve, Void or Absorb damage from the relevant Elements. If you have a better Elemental Defense than the one given, it will not be affected; the better Defense automatically takes priority.\n\n#### *Immune <Status>:*\n\nWearing this equipment will automatically make you immune to the given Status. Note that Immunity is really a Resist. If you are Immune to that Status, then it is also impossible to Cure that Status should you have it on you. This is best shown by wearing a Ribbon and using a Hyper outside of battle; you will gain the 'Fury' Status, but nothing will be able to remove that Status while you are inside battle.\n\n#### *Start with <Status>:*\n\nThis means that wearing the piece of equipment will make sure you begin each battle with the named Status(es). You cannot protect yourself from this initial infliction.\n\n#### **2. BASIC DAMAGE FORMULAE**\n\nFirst, it is important that you are familiar with the [x] convention. Basically, [x] is the greatest integer equal to or less than x. Thus, [4.5] would be 4. This convention will be used throughout the guides, and is very important for battle damage. In addition, you should also be familiar with the following convention - x ... y - which defines an integer random number between x and y inclusive. For example, 3 ... 8 would be a random number out of 3, 4, 5, 6, 7 and 8.\n\nFinally, a function Rnd is defined here, since it is also required by this guide. Rnd picks a random number between 0 and 1 inclusive. It is not known yet what precision of accuracy Rnd uses at this point.\n\nThe Base Damage formula is the most important battle formula in the game, so it will be listed here.\n\nThe Physical Formula for Base Damage is defined as such:\n\nBase Damage = Att + \n$$[(Att + Lvl) / 32] * [(Att * Lvl) / 32]$$\n\nThe Magical Formula for Base Damage is defined likewise:\n\nBase Damage = \n$$6 * (MAt + Lvl)$$\n\nNote that while Att and MAt are used in the above formulas, it is possible for FF7 abilities to be coded to use each formula with the opposite attack stat (using MAt instead of Att in the Physical Formula, for instance). However, this is purely academic, since no known ability has been found within the game code that does this.\n\n#### **3. BATTLE DAMAGE**\n\nNow that the basic terms and formulae have been covered, the basic battle process of determining damage can be defined. Note that certain abilities may skip certain aspects of this procedure; for example, Mindblow will never need to work out either Base Damage, DefMod or Random Variation, because it is a Piercing attack with NRV, and uses a formula that doesn't need Base.\n\n#### *1. Define Negative Damage*\n\nA boolean flag named 'Negative Damage' shall be defined at this point. The only factor it checks at this stage is whether the attack contains the Restorative Element. If it does, then Negative Damage is true. Otherwise, it begins as false. The purpose of this flag shall become clear later.\n\n#### *2. Find Base Damage*\n\nFirst, for most attacks, Base Damage must be worked out. If the formula used for the ability does not use Base, then this part may be skipped.The Base Damage formulae are listed in the previous section, and depend on whether the attack is Physical or Magical.\n\nIf the character is 'Small', then Base Damage must be worked out with Att = 0.\n\nFinally, the character's Physical Base Mod and Magical Base Mod are checked. Hero Drinks (as an example) raise both of these by 30 each time you drink them, to a maximum of 100.\n\nIf the attack is physical:\n\n```\nBase Damage = [Base Damage * (100 + Physical Base Mod) / 100\n```\n\nIf the attack is magical:\n\n```\nBase Damage = [Base Damage * (100 + Magical Base Mod) / 100]\n```\n\n#### *3. Use the Appropriate Formula*\n\nNext, the formula for the attack is worked out. This is usually either an independent formula or a multiple of Base. This gives us the power of the attack. FF7 has several formulas that it may use:\n\nPhysical Base Damage Formula \\* Power of Attack\n\nMagical Base Damage Formula \\* Power of Attack\n\nPercentage of Target's HP\n\nPercentage of Target's Max HP\n\nMagical Formula + Power of Attack (the Cure Formula)\n\nFixed Power of Attack\n\nRecovery\n\nSpecial Formulas\n\nThe last in that list refers to formulas that require special variables that aren't normally checked in battle, like for Chocobuckle, which requires the number of times the party has escaped from battle as a defining variable.\n\nIn addition, there are many different Fixed Power formulas. Since this is not a hex debug document, no attempt will be made to further explain this; the formulas used will instead be listed next to each ability in the FF7 Party Mechanics and the FF7 Enemy Mechanics.\n\nMany abilities will have either the Non-Damaging formula or a Power of 0. Thus, they may skip this part, since these are generally abilities that change statuses or do other non-damage related abilities. Element checking may still take place though to determine success of certain abilities.\n\nAt this point:\n\n$$dam = [dam]$$\n\n### *4. Factor is the BD (Before Defense) Modifiers*\n\nBD Modifiers are factored in now, since they're a measure of your base damage. Note that UW (Ultimate Weapon) Modifiers are classified as BD Modifiers.\n\nBD Modifiers on weapons \\*ONLY\\* take effect if the ability used is a BASE Command skill. These commands are: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow. Limit, Magic, Summon, Item and E. Skill are exempt from this (thus, an Ultimate Weapon will not lend its added damage capability to a Limit Break, for example). In addition, attacks that don't use Base Damage or use their own formula (like Throw) are also exempt from this.\n\nThe key thing is to note how two BD Modifiers are put together (this should only be necessary when using Morph with most Ultimate Weapons, but the method is listed here just in case). The formula is:\n\nNew BDM = \n$$[(BD1 * BD2 * 16) + (15 / 16)] / 16$$\n\nThis may seem confusing, but what we're actually doing is every time we multiply two BD Modifiers together, we have to round \\*up\\* to the nearest 1/16th. For example:\n\n9/16 \\* 2/16 = 18/256 = 9/128\n\nWhich rounds up to 2/16 or 1/8.\n\nIf we use the formula to check this, we get:\n\n```\nNew BDM = [(9/16 * 2/16 * 16) + (15 / 16)] / 16\n= [(9 * 2/16) + 15/16] / 16\n= [18/16 + 15/16] / 16\n= [33/16] / 16\n= [2 + 1/16] / 16\n= 2 / 16\n```\n\nBy going through the BD Modifiers as above, you should eventually end up with one final BD\n\nModifier. This is applied to the damage like so:\n\ndam = [BD Modifier \\* dam]\n\n#### *5. Calculate All Tar if appropriate*\n\nAttacks that target All Targets are granted a modification now. If the attack is No Split (listed as All Tar (NS)), then this section is skipped. In addition, if there is only 1 target in the group, then this section is skipped (it counts as if it was only used against 1 Tar instead).\n\nWhether an ability is No Split or not depends on the formula and valid target data for the ability in question. Attacks that use the Physical Formula will always split their damage (they can never have the No Split ability). Attacks that use the Magical Formula are only No Split if they cannot be switched between All Tar and 1 Tar. Any ability that works with the All Materia will thus automatically be denied No Split. The exception here is the Cure Formula, which always splits no matter what the valid target data. The rest of the formulas will generally be No Split, but exceptions will be noted.\n\nIf the attack is not No Split:\n\n$$dam = [dam * 2 / 3]$$\n\n#### *6. Calculate Quadra Magic if available*\n\nIf the ability is linked to Quadra Magic and Quadra Magic works with it,then:\n\n$$dam = [dam / 2]$$\n\nThis happens no matter what, unless the ability does not do any kind ofdamage or healing. (Demi and FullCure are affected as well)\n\n## *7. Calculate Defense*\n\nDefense comes next, if warranted. If the attack is Piercing, then this part is ignored. If the attack is Physical, then the target's Def stat is used; otherwise, if the attack is Magical, the MDf stat is used.\n\nThe Defense Mod and MDefense Mod of the character is checked at this point. This is a special battleonly stat that is modified by Hero Drinks and Dragon Force (as examples). Each Hero Drink raises both Mods by 30. Each Dragon Force raises both Mods by 50. Neither Mod can ever exceed 100. The two values are applied as such:\n\nIf attack is Physical:\n\nDefNum = [Def \\* (100 + Defense Mod) / 100]\n\nIf attack is Magical:\n\n$$DefNum = [MDf * (100 + MDefense Mod) / 100]$$\n\nAnd finally, we apply the damage reduction:\n\n```\n dam = [dam * (512 - DefNum) / 512]\n```\n\n#### *8. Calculate Berserk and Critical Strike*\n\nIf the character is in 'Berserk' and the ability uses a Physical Base, then:\n\n$$dam = [dam * 1.5]$$\n\nCritical Strikes and Deathblow damage are also done at this point. If the attack is a Critical Strike (either through luck, via the Deathblow command, the Lucky Girl status, or any other move that has automatic Criticals), and the ability uses a Physical Base then:\n\n$$dam = dam * 2$$\n\n#### *9. Frog Check*\n\nAt this point, after Critical Strike, if the Caster is a 'Frog' and the attack utilises Physical Base Damage, then:\n\n$$dam = [dam / 4]$$\n\n#### *10. MP Turbo Check*\n\nMP Turbo also gets a look in at this point if the ability is compatible and is currently paired with the requisite Materia. Depending on the level of the MP Turbo Materia, damage is adjusted accordingly:\n\n$$dam = [dam * (1 + (MP Turbo Level / 10))]$$\n\n#### *11. Back Row Check*\n\nBack Row modifier occurs now. If the attack is Magical or is Long Range, then this part is ignored. If either the Caster or the Target is in the back row, then:\n\n$$dam = [dam / 2]$$\n\nNote that the above applies even if attacking an ally or even yourself. It is only applied once though; you will do 1/2 rather than 1/4 damage if you attack yourself with a non-LR physical attack while in the back row.\n\n#### *12. Barrier and MBarrier Check.*\n\nBarrier and MBarrier are now looked at. If the target has Barrier and the attack is Physical and does not have the No Barrier attribute, then:\n\n$$dam = [dam / 2]$$\n\nThe same goes for MBarrier; if the target has MBarrier and the attack is Magical and does not have the No Barrier attribute, then:\n\n$$dam = [dam / 2]$$\n\nGenerally, only the Physical Formula, the Magical Formula and the Cure Formula attacks are affected by Barrier and MBarrier. The rest will usually be No Barrier. As always, exceptions will be noted as and when we come to them.\n\n#### *13. Sadness Check*\n\nSadness is skipped if the ability is NRV, a Restore or from an Item.\n\nIf the target has the Status 'Sadness', then the damage is modified accordingly:\n\n$$dam = dam - [dam * 79 / 256]$$\n\n#### *14. Random Variation Factored In*\n\nIf the ability being used is listed as NRV, then we skip this part:\n\nRandom Variation comes next. Thus, the following is applied:\n\n$$dam = [dam * (15 + Rnd) / 16]$$\n\n## *15. Lower bound sanity check*\n\nLower bound sanity checking takes place at this point. Thus:\n\nIf \n$$(dam < 1)$$\n Then:  $dam = 1$ \n\nDamage greater than 9999 is left unchanged at this point.\n\n#### *16. Added Damage Effects*\n\nAdded Damage Effects are now done. These are simple integer multipliers.\n\nAdded Damage Effects on weapons, like BD Modifiers above, \\*ONLY\\* take effect if the ability used is a BASE Command skill. No doubling up of Yoshiyuki with Goblin Punch, for example.\n\nIn any case, for all Added Damage Effects that must be done:\n\ndam = dam \\* Added Damage Effect\n\n#### *17. Elemental Damage and Final Status Checks*\n\nFinally, Elemental Damage and Final Status Checks takes place. Once one Elemental is found in the order of priority, the others will be skipped. Note that Poison Element is special; if you're Immune to the status, then you also count as being Immune to the element (but Asrb: Poison will always be checked first).\n\nWithin this section, checks against Shield, Peerless and certain special abilities of enemies are also made. It is impossible to be sure of the order this happens in, so no attempt will be made to integrate these checks into the below Elemental system. However, relative notes on the subject can be found in the respective Status descriptions and the specific enemy attributes this applies to.\n\nAlso, once again, any Elemental affinity the player has on their weapon is only taken into consideration for base Command abilities. You can't have a Fire-element Omnislash, for example, or Throw Gravity-element Mythril Sabers.\n\nFirst, check if the target Absorbs one of the Elements of the attack. If so, then the Negative Damage flag is toggled (if Negative Damage was true, it's now false; and vice versa).\n\nIf the target doesn't Absorb any of the Elements, but does Void it, then:\n\n$$dam = 0$$\n\nIf the target doesn't Absorb or Void any of the Elements, but does Half it, then:\n\n$$dam = [(dam + 1) / 2]$$\n\nFinally, if the target hasn't Absorbed, Voided or Halved any of the Elements already, then Weak is checked. If the target is Weak against any of the Elements, then:\n\n$$dam = dam * 2$$\n\n## *18. The 9999 \"Sanity Check\"*\n\nAfter all this, only one thing remains.\n\nIf \n$$(dam > 9999)$$\n Then:  $dam = 9999$ \n\nIf the attack does damage to MP and the target does not have the 'HP<->MP' Materia equipped, then the sanity check is instead:\n\nIf \n$$(dam > 999)$$\n Then:  $dam = 999$ \n\nThe 999 'Sanity Check' is also used if the target \\*does\\* have 'HP<->MP' equipped and the damage is dealt to HP instead of MP (the 'HP<->MP' Materia not only reverses HP and MP, but it also reverses the max damage allowed against that target).\n\n### *19. Negative Damage*\n\nThe final damage has, at that point, been calculated. All that remains is to check the status of the Negative Damage flag.\n\nIf Negative Damage is true, then the amount 'dam' will be healed to the target. The type of the attack will define what exactly is healed and what else is done with the 'dam' variable.\n\nIf Negative Damage is false, then the amount 'dam' will be used as damage against the target's appropriate stat (usually HP).\n\nThe above sequence can be summarized as such:\n\nSmall Check\n\nBase Formula\n\nHero Drink Check\n\nBD Modifier\n\nAll Tar Reduction\n\nQuadra Magic\n\nDefense\n\nBerserk / Critical Strike\n\nFrog Check\n\nMP Turbo Check\n\nBack Row / Long Range\n\nBarrier / MBarrier\n\nSadness Check\n\nRandom Variation\n\nDamage < 1\n\nAdded Damage Effects\n\nElemental Damage and Final Status Checks\n\nDamage > 9999\n\nNegative Damage\n\nNote: This order may not be 100% accurate. There are too many combinations of factors to test them all, and without seeing the code for the battle algorithms, a lot of what is displayed here are educated guesses derived from results seen. It is presumed accurate enough for 99% of all results at this present time though.\n\n#### **4. STATUSES**\n\nThere are 31 major Statuses in the game, although a few of them are not shown on the Status screen and are sometimes transparent to the user. The statuses available are thus:\n\n| Death     | Near-death | Sleep   | Poison      | Sadness        | Fury       | Confusion  | Silence  |\n|-----------|------------|---------|-------------|----------------|------------|------------|----------|\n| Haste     | Slow       | Stop    | Frog        | Small          | Slow-numb  | Petrify    | Regen    |\n| Barrier   | MBarrier   | Reflect | Shield      | Death-sentence | Manipulate | Berserk    | Peerless |\n| Paralysed | Darkness   | Dual    | Death Force | Resist         | Lucky Girl | Imprisoned |          |\n\nOf those, Death Force, Resist and Lucky Girl are nearly transparent to the player, and a few of the others (like Imprisoned) are completely invisible save for their effect. Several are not listed on the Status screen; these are: *Dual*, *Death Force*, *Resist*, *Lucky Girl* and *Imprisoned*.\n\nWhat follows is a breakdown of the statuses visual effects and gameplay attributes.\n\n#### **4.1 Status Attributes**\n\n#### Death\n\nThe ultimate offensive Status Attribute. If you're successfully hit with it, you are immediately reduced to 0 HP. Death is also the state of having 0 HP.\n\nYou can protect from it, fortunately. That is, you can protect yourself from 'Sudden Death', which is any attack that causes you to instantly die, regardless of how much HP you have or how much damage the attack actually caused. However, if you are reduced to 0 HP by taking too much damage... well, you can't protect against that at all.\n\n| Visuals      | Character lies down                                                                                  |\n|--------------|------------------------------------------------------------------------------------------------------|\n| Effects:     | Character flagged as 'Dead'<br>Removes all Statuses except for 'Frog' and 'Small'                    |\n| Duration     | Until cured                                                                                          |\n| Protected by | Petrify', 'Peerless', 'Resist', Safety Bit, Destruct+Added<br>Effect, Odin+Added Effect, Death Force |\n| Cured by     | Life, Life2, Phoenix Down, Angel Whisper, Phoenix                                                    |\n\n#### Near-Death\n\nWhen your character is heavily wounded, but still able to fight, they are classed as Near-death. They kneel down and their HP indicator turns yellow to notify of this. Otherwise, this Status Attribute means nothing else; it occurs only when your HP is 25% or less of your current Max HP, and you are not yet dead.\n\n| Visuals      | Character kneels                                          |\n|--------------|-----------------------------------------------------------|\n| Effects:     | None                                                      |\n| Duration     | Until cured                                               |\n| Protected by | Anything that prevents HP loss                            |\n| Cured by     | Anything that serves to boost your HP above 25% of Max HP |\n\n#### Sleep\n\nThis nasty affliction is one of four temporary 'Can't Act' Status Attributes in FF7. Once under this Status, the character is asleep, and cannot fight normally. However, Sleep is easily reversed; any Physical hit is enough to wake up a sleeping character.\n\n| Visuals      | Character kneels/has Zzz above head                                                     |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act                                                                    |\n| Duration     | 26 units                                                                                |\n| Protected by | Petrify', 'Peerless', 'Resist', Ribbon, Headband, Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                              |\n\n#### Poison\n\nAny character inflicted with this Status will continually take Poison Elemental damage throughout the battle. It won't be purged naturally until the battle ends.\n\n| Visuals      | Character kneels/flashes Green                                                                                                          |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes [1/32 of Max HP] of<br>Physical Poison Elemental damage every<br>2.5 units of time (ignores Def, Barrier and<br>is NRV) |\n| Duration     | Until end of battle                                                                                                                     |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon,<br>Poison Ring, Star Pendant, Fairy Ring,<br>Poison+Added Effect, Hades+Added<br>Effect        |\n| Cured by     | Poisona, Esuna, Remedy, White Wind,<br>Angel Whisper, Antidote                                                                          |\n\nNote: The Status Attribute Poison is different from the Element Poison. But, if you Void or Absorb Poison Elemental, any attack that does Poison damage will no longer inflict the Poison Attribute. However, you will still be vulnerable to things like Bad Breath, which causes various Status Attributes without causing damage. The reverse also has effects; being Immune to the Status Attribute Poison will mean that you are also considered Immune to the element.\n\n#### Sadness\n\nA character inflicted with Sadness is more subdued and careful in battle. They tend to take less damage from attacks, but they find it difficult to get angry at anything. Hence, the growth of their Limit Bar is severely reduced. The Limit Bar turns blue to notify you of this condition.\n\n| Visuals      | Limit bar is blue                                                                                                                          |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes approximately 177/256x damage<br>from most attacks (see Section 3: Battle Damage<br>for details), Limit Bar growth halved. |\n| Duration     | Until cured                                                                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring                                                                                        |\n| Cured by     | Hyper, Esuna, Remedy                                                                                                                       |\n\n#### Fury\n\nAnyone in Fury status is more prone to rushing the enemy, and attacking them with greater fervour. As such, while they don't benefit from the reduced damage of Sadness, they instead get an increase in the growth of their Limit Bar, allowing them to pull of Limit Breaks with greater frequency. However, their attacks are more erratic, and miss more often. The Limit Bar turns red to notify you of this condition.\n\n| Visuals      | Limit bar is red                                      |\n|--------------|-------------------------------------------------------|\n| Effects:     | Character Attack% reduced<br>Limit Bar growth doubled |\n| Duration     | Until cured                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring   |\n| Cured by     | Tranquilizer, Esuna, Remedy                           |\n\n#### Confusion\n\nThe pure opposite of Berserk, despite the fact that the character suffering from Confusion doesn't have any increased damage potential. You immediately lose control of the character, and they will randomly attack their allies, even themselves. Fortunately, it's easy to cure; a single Physical hit will take care of it. However, a recently Confused character will always carry out the last command they were asked to irregardless; but it will always be against you.\n\n| Visuals      | Character continually spins in place                                                                                   |\n|--------------|------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character randomly attacks allies                                                                                      |\n| Duration     | Until end of battle                                                                                                    |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Contain+Added<br>Effect, Mystify+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                                                             |\n\n#### Silence\n\nThe power of this affliction is often underestimated. While under its influence, you are unable to cast any Magic, Enemy Skills or Summons. However, your other commands are untouched. Its usefulness lies in using it on the enemy; many of them have attacks that would be better left sealed with Silence.\n\n| Visuals      | Character kneels/has speech bubble over head                                      |\n|--------------|-----------------------------------------------------------------------------------|\n| Effects:     | Character cannot use Magic/Enemy<br>Skills/Summons                                |\n| Duration     | Until end of battle                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon,<br>Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper,<br>Echo Screen                          |\n\n#### Haste\n\nOne of the best Status Attributes, Haste has your time bar filling up twice as fast as normal. However, on the flip-side, all timed effects like Slow-numb, Barrier and so forth, will run out twice as quickly. But, the pros far outweigh the cons in this instance.\n\n| Visuals      | Character Animation speed doubled |\n|--------------|-----------------------------------|\n| Effects:     | Time Unit speed doubled           |\n| Duration     | Until end of battle               |\n| Protected by | 'Petrify', 'Peerless', 'Resist'   |\n| Cured by     | DeSpell                           |\n\n#### Slow\n\nThe complete opposite of Haste, Slow causes your time bar to fill up twice as slow as normal. But, it has its good side; Barrier, MBarrier, Slow-numb, Death-sentence... all those take far longer to run out of time.\n\n| Visuals      | Character Animation speed halved                   |\n|--------------|----------------------------------------------------|\n| Effects:     | Time Unit speed halved                             |\n| Duration     | Until end of battle                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Time+Added Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                 |\n\n#### Stop\n\nThe second worst of the four temporary 'Can't Act' Status Attributes, Stop completely shuts off the Time counter for that character. However, on the other hand, things like Barrier, MBarrier, Regen and so on will not count down during this time, until Stop has worn off or it's been dispelled.\n\n| Visuals      | Character Animation speed paused                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------|\n| Effects:     | Time Unit speed reduced to zero<br>Character cannot Act                                                |\n| Duration     | 15 units                                                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Contain+Added<br>Effect, Time+Added EFfect, Choco/Mog+Added<br>Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                                                                     |\n\n#### Frog\n\nPerhaps the worst of the transformation Statuses, Frog both reduces your attack power, as well as preventing you from using almost all of your Materia. The only options available to you are Fight, Item, and if you have it equipped, the Magic Spell 'Toad'. You can't even perform Limit Breaks while transformed into a frog.\n\n| Visuals      | Character is a frog!                                                                                                            |\n|--------------|---------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | All Physical attacks do 1/4 of Base Damage<br>Character can only use Fight (not Limit), Item<br>(including W-Item) or cast Toad |\n| Duration     | Until end of battle                                                                                                             |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White<br>Cape,Transform+Added Effect, Hades+Added Effect                               |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Toad,<br>Maiden's Kiss, Impaler                                                       |\n\n#### Small\n\nWhile not as bad as Frog, this is still a terrible condition. While Magic is still wide open to you, every physical attack you do will have an Attack of 0; you will do 1 HP damage until modifications added after the random variation are added. Elemental attacks and Added Damage Effects will use the 1 HP damage as the basis for their calculations.\n\n| Visuals      | Character size is significantly reduced                                                           |  |  |\n|--------------|---------------------------------------------------------------------------------------------------|--|--|\n| Effects:     | Character Attack reduced to 0                                                                     |  |  |\n| Duration     | Until end of battle                                                                               |  |  |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White<br>Cape,Transform+Added Effect, Hades+Added Effect |  |  |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Mini,<br>Cornucopia, Shrivel                            |  |  |\n\n#### Slow-numb\n\nOne of the banes of the beginner player, Slow-numb can easily take out a character within moments if you're not prepared for it. Essentially, it's a countdown to petrify; you have 30 units of time (as shown by the counter above the character's head) to cure them of the affliction, or end the battle. Otherwise, they are inflicted by the Status Petrify.\n\n| Visuals      | Character has timer above head/flashes Grey                                               |\n|--------------|-------------------------------------------------------------------------------------------|\n| Effects:     | 30-unit Timer set on character<br>When Timer reaches 0, Petrify is inflicted on character |\n| Duration     | 30 units                                                                                  |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit                             |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                            |\n\n### Petrify\n\nCompletely turned to stone, this is a very bad Status Attribute to earn. You can't act, and even worse, you're flagged as 'Dead'; if everyone in your party is flagged as 'Dead', then the game is over. However, it's easily curable, and while Petrified, you cannot be inflicted with any other Status Attributes, or take damage in any way at all. However, that also means you can't have damage healed while Petrified either.\n\n| Visuals      | Character Animation speed paused/Character coloured Grey                                           |\n|--------------|----------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act<br>Character flagged as 'Dead'<br>Voids all damage<br>Prevents Status changes |\n| Duration     | Until end of battle                                                                                |\n| Protected by | 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit,<br>Contain+Added Effect                        |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                                     |\n\n#### Regen\n\nAn alternative to the standard healing spells, Regen has the potential to be greater than any of them, for half the cost of Cure3. However, its healing ability takes place over time, and it heals at a rate proportional to your current Max HP value. In addition, it has a short duration, and it can be DeSpelled.\n\n| Visuals |              | Character flashes Orange                                                              |\n|---------|--------------|---------------------------------------------------------------------------------------|\n|         | Effects:     | Character steadily gains approximately 1/32 of<br>their Max HP over each unit of time |\n|         | Duration     | 32 units                                                                              |\n|         | Protected by | 'Petrify', 'Peerless', 'Resist'                                                       |\n|         | Cured by     | DeSpell                                                                               |\n\n#### Barrier\n\nA protective Status Attribute, and the first available to you. It halves the damage from all Physical attacks, but it has a limited duration. The time left for Barrier can be checked in the Barrier gauge in the left window, next to the character name.\n\n| Visuals      | Barrier gauge is active         |\n|--------------|---------------------------------|","numLines":800,"startLine":1,"totalLines":1790}}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01KhFLcLrxoss11CXYpCZmYE","type":"message","role":"assistant","content":[{"type":"text","text":"Let me continue reading the rest of the document:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":16428,"cache_read_input_tokens":65872,"cache_creation":{"ephemeral_5m_input_tokens":16428,"ephemeral_1h_input_tokens":0},"output_tokens":152,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"ea0342b3-6643-4a8a-8324-7b86b1c11128"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01KhFLcLrxoss11CXYpCZmYE","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Dvm6MMgfxD98WVMNyufbhW","name":"Read","input":{"file_path":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","offset":800,"limit":800}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":16428,"cache_read_input_tokens":65872,"cache_creation":{"ephemeral_5m_input_tokens":16428,"ephemeral_1h_input_tokens":0},"output_tokens":152,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"fa3ffbeb-b911-42a8-9ab1-0514ca05b2e5"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Dvm6MMgfxD98WVMNyufbhW","type":"tool_result","content":"   800â†’|--------------|---------------------------------|\n   801â†’| Effects:     | Halves all Physical damage      |\n   802â†’| Duration     | 30 units                        |\n   803â†’| Protected by | 'Petrify', 'Peerless', 'Resist' |\n   804â†’| Cured by     | DeBarrier, DeSpell              |\n   805â†’\n   806â†’#### MBarrier\n   807â†’\n   808â†’The counterpart of Barrier, MBarrier simply halves the damage from all Magical attacks. Again, it only has a limited duration; the time left for MBarrier can be checked in the MBarrier gauge in the left window, next to the Character name.\n   809â†’\n   810â†’| Visuals      | MBarrier gauge is active        |\n   811â†’|--------------|---------------------------------|\n   812â†’| Effects:     | Halves all Magical damage       |\n   813â†’| Duration     | 30 units                        |\n   814â†’| Protected by | 'Petrify', 'Peerless', 'Resist' |\n   815â†’| Cured by     | DeBarrier, DeSpell              |\n   816â†’\n   817â†’#### Reflect\n   818â†’\n   819â†’One of the most interesting Status Attributes, Reflect allows you to bounce away certain spells up to a maximum of four times per casting per character. A list of spells that cannot be reflected can be located in the next section.\n   820â†’\n   821â†’| Visuals      | None                                                                                                                                     |\n   822â†’|--------------|------------------------------------------------------------------------------------------------------------------------------------------|\n   823â†’| Effects:     | Will reflect spells up to four times back at<br>caster, or random enemy if caster is an ally<br>Will only reflect certain magical spells |\n   824â†’| Duration     | Until end of battle or exhausted                                                                                                         |\n   825â†’| Protected by | 'Petrify', 'Peerless', 'Resist'                                                                                                          |\n   826â†’| Cured by     | DeBarrier, DeSpell                                                                                                                       |\n   827â†’\n   828â†’#### Shield\n   829â†’\n   830â†’A very powerful defensive Status Attribute, second only to Peerless. It voids all normal attacks, and absorbs all Elemental Magic. However, it will not absorb Non-Elemental damage, and also, Items seem able to breach Shield and still cause full damage, whether they're Elemental items or not.\n   831â†’\n   832â†’| Visuals      | None                                                                                                                                       |\n   833â†’|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n   834â†’| Effects:     | Voids normal attacks<br>Absorbs Elemental Magic and Physical damage<br>Does not defend against Item damage or Non<br>Element Magic attacks |\n   835â†’| Duration     | 17.5 units                                                                                                                                 |\n   836â†’| Protected by | 'Petrify', 'Resist'                                                                                                                        |\n   837â†’| Cured by     | DeBarrier, DeSpell                                                                                                                         |\n   838â†’\n   839â†’#### Death-sentence\n   840â†’\n   841â†’Under this condition, a counter positioned above the character's head begins to count down to zero. If it does reach zero, then the Status Death is inflicted on the character, subject to protection from Death.\n   842â†’\n   843â†’| Visuals      | Character kneels/has timer above head                                                   |\n   844â†’|--------------|-----------------------------------------------------------------------------------------|\n   845â†’| Effects:     | 60-unit Timer set on character<br>When Timer reaches 0, Death is inflicted on character |\n   846â†’| Duration     | 60 units                                                                                |\n   847â†’| Protected by | 'Petrify', 'Peerless', 'Resist', 'Death Force', Ribbon,<br>Safety Bit                   |\n   848â†’| Cured by     | None                                                                                    |\n   849â†’\n   850â†’#### Manipulate\n   851â†’\n   852â†’The only Status Attribute that cannot be used on your party, Manipulate is a very useful tool. Using it on an enemy, if they're susceptible to it, will place the enemy under the character's command. Note that each character can only Manipulate one enemy at a time, and a single Physical hit will free the enemy from your control.\n   853â†’\n   854â†’| Visuals      | Character flashes Cyan                                         |\n   855â†’|--------------|----------------------------------------------------------------|\n   856â†’| Effects:     | Character is controlled by whomever used<br>Manipulate on them |\n   857â†’| Duration     | Until end of battle                                            |\n   858â†’| Protected by | 'Petrify', 'Resist', 'Sleep', 'Stop', 'Paralysed'              |\n   859â†’| Cured by     | Any Physical hit, White Wind                                   |\n   860â†’\n   861â†’#### Berserk\n   862â†’\n   863â†’This is a very risky Status Attribute. On the plus side, a character under this Attribute hits harder than usual with every attack. But on the minus, they cannot be controlled, and they randomly attack the enemy any time they can. It is also impossible to Critical Strike when under Berserk Status. Berserk has another use; it's an effective alternative to Silence when used on the enemy....\n   864â†’\n   865â†’| Visuals      | Character flashes Red                                                                                                                         |\n   866â†’|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------|\n   867â†’| Effects:     | Character's Physical Damage is multiplied by 1.5<br>Character attacks random Enemy with Physical Attack<br>Impossible to get Critical Strikes |\n   868â†’| Duration     | Until end of battle                                                                                                                           |\n   869â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring,<br>Mystify+Added Effect                                                                  |\n   870â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper                                                                                                      |\n   871â†’\n   872â†’#### Peerless\n   873â†’\n   874â†’The ultimate defensive Status Attribute. Unfortunately, only one character has the ability to use this: Aeris. When used, it fully voids all damage of any type, as well as acting like Resist with regards to Status Attributes. However, it has a limited duration, and the Void state makes it impossible to heal while under it, but it is still a formidable Attribute.\n   875â†’\n   876â†’| Visuals      | Character flashes Yellow                            |\n   877â†’|--------------|-----------------------------------------------------|\n   878â†’| Effects:     | Voids all damage<br>Immune to all Status Attributes |\n   879â†’| Duration     | 17.5 units                                          |\n   880â†’| Protected by | 'Petrify', 'Resist'                                 |\n   881â†’| Cured by     | None                                                |\n   882â†’\n   883â†’#### Paralysed\n   884â†’\n   885â†’The least powerful of the temporary 'Can't Act' Status Attributes, it's still a pain at times. It acts almost exactly like Sleep and while it lasts for a very short time, you can't cure it with a simple Physical attack.\n   886â†’\n   887â†’| Visuals      | Character kneels/Character animation speed paused |\n   888â†’|--------------|---------------------------------------------------|\n   889â†’| Effects:     | Character cannot Act                              |\n   890â†’| Duration     | 8 units                                           |\n   891â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring |\n   892â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper          |\n   893â†’\n   894â†’#### Darkness\n   895â†’\n   896â†’A nuisance at best, Darkness simply reduces your attack accuracy, causing you to miss more often. It's easily cured, however, and it has little tactical use.\n   897â†’\n   898â†’| Visuals      | Character kneels/flashes Black                                      |\n   899â†’|--------------|---------------------------------------------------------------------|\n   900â†’| Effects:     | Character Accuracy% reduced                                         |\n   901â†’| Duration     | Until end of battle                                                 |\n   902â†’| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Silver Glasses, Fairy Ring |\n   903â†’| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Eye drop                  |\n   904â†’\n   905â†’### Dual\n   906â†’\n   907â†’This extremely rare Status only turns up during one battle; that with Bottomswell. Whenever Bottomswell uses Waterpolo at you, both Imprisoned and Dual are placed on you. Dual is dangerous however; it acts like a reverse Regen. HP is drained over time, requiring swift attention.\n   908â†’\n   909â†’| Visuals      | None                                                                                  |\n   910â†’|--------------|---------------------------------------------------------------------------------------|\n   911â†’| Effects:     | Character steadily loses approximately 1/32 of<br>their Max HP over each unit of time |\n   912â†’| Duration     | ???                                                                                   |\n   913â†’| Protected by | ???                                                                                   |\n   914â†’| Cured by     | Killing Waterpolo                                                                     |\n   915â†’\n   916â†’#### Death Force\n   917â†’\n   918â†’A useful status, which allows you to temporarily give yourself protection from Death until the end of the battle. Its usefulness stems from the fact that very few enemies actually use the Death Status. Recognize them, and you can possibly spare an Accessory slot or a few Materia slots and just rely on Death Force for protection when you need it. Of course, the disadvantage is that the immunity is temporary; if that character gets hit by DeSpell or White Wind or gets killed, then they will lose the immunity immediately.\n   919â†’\n   920â†’| Visuals      | None                |\n   921â†’|--------------|---------------------|\n   922â†’| Effects:     | Immune 'Death'      |\n   923â†’| Duration     | Until end of battle |\n   924â†’| Protected by | ???                 |\n   925â†’| Cured by     | DeSpell, White Wind |\n   926â†’\n   927â†’#### Resist\n   928â†’\n   929â†’You are never given any indication of when you have Resist, but its effects are quickly apparent; any Status change is prevented by the power of Resist. Unfortunately, that can also mean, for example, if you have Frog and then Resist is placed on you, you cannot then cure Frog without removing Resist first. Its best use is to trap enemies with certain Status Attributes so that they can't heal themselves. As a secondary use, it can be used as a temporary defense against nasty Statuses, but it's expensive, and not easy to remove.\n   930â†’\n   931â†’| Visuals      | None                            |\n   932â†’|--------------|---------------------------------|\n   933â†’| Effects:     | Immune to all Status Attributes |\n   934â†’| Duration     | Until end of battle             |\n   935â†’| Protected by | None                            |\n   936â†’| Cured by     | DeSpell, White Wind             |\n   937â†’\n   938â†’#### Lucky Girl\n   939â†’\n   940â†’Only one attack in the game can inflict this Status: Lucky Girl. This is one of the Limit Combinations in Cait Sith's Slot Limit. It is a somewhat useful status, causing all subsequent attacks to be Critical Strikes. However, this is offset by its rarity; most players will go through the game without ever seeing Lucky Girl.\n   941â†’\n   942â†’| Visuals      | None                                       |\n   943â†’|--------------|--------------------------------------------|\n   944â†’| Effects:     | All attacks are automatic Critical Strikes |\n   945â†’| Duration     | ???                                        |\n   946â†’| Protected by | ???                                        |\n   947â†’| Cured by     | None                                       |\n   948â†’\n   949â†’#### Imprisoned\n   950â†’\n   951â†’The final temporary 'Can't Act' Status. Unfortunately, the temporary nature of this status is dependant on what is causing it; various enemies have a few ways of dealing out this attribute, and each requires its own method of removing it. In addition, the character is flagged as 'Dead'. It is easily the worst of the four 'Can't Act' Statuses.\n   952â†’\n   953â†’| Visuals      | Character Animation speed paused                                                                      |\n   954â†’|--------------|-------------------------------------------------------------------------------------------------------|\n   955â†’| Effects:     | Character cannot Act<br>Character flagged as 'Dead'<br>Character cannot be targeted by attacks/spells |\n   956â†’| Duration     | Until end of battle                                                                                   |\n   957â†’| Protected by | None                                                                                                  |\n   958â†’| Cured by     | Killing Pyramid, Waterpolo or Left Arm/Right Arm                                                      |\n   959â†’\n   960â†’#### **4.2 Special Notes On Statuses**\n   961â†’\n   962â†’In addition to the above, the following notes must be taken into account.\n   963â†’\n   964â†’#### Colours\n   965â†’\n   966â†’The different colors you flash have a priority system; if you currently have a Status that has a higher priority than another one you have, then you will flash the color of the higher priority Status. The priorities are:\n   967â†’\n   968â†’| Highest Priority |        |         |          | Lowest Priority |          |        |            |  |\n   969â†’|------------------|--------|---------|----------|-----------------|----------|--------|------------|--|\n   970â†’| Slow-numb        | Poison | Berserk | Peerless |                 | Darkness | Regen  | Manipulate |  |\n   971â†’| GREY             | GREEN  | RED     | YELLOW   |                 | BLACK    | ORANGE | CYAN       |  |\n   972â†’\n   973â†’Thus, if your character has both Darkness and Berserk on them, they'll flash Red rather than Black, because Berserk is the more important one to know about. (For instance, you don't want to mistake Slow-numb for Death-sentence just because you've got Regen on, do you?)\n   974â†’\n   975â†’#### Status Incompatibilities\n   976â†’\n   977â†’Various statuses will cancel out other ones as soon as they're inflicted upon a character. The following table will demonstrate this:\n   978â†’\n   979â†’| Status Name | Cancels                                     |\n   980â†’|-------------|---------------------------------------------|\n   981â†’| Death       | All Status Attributes except Frog and Small |\n   982â†’| Sleep       | Manipulate                                  |\n   983â†’| Sadness     | Fury                                        |\n   984â†’| Fury        | Sadness                                     |\n   985â†’| Haste       | Slow                                        |\n   986â†’| Slow        | Haste                                       |\n   987â†’| Stop        | Manipulate                                  |\n   988â†’\n   989â†’| Status Name | Cancels               |\n   990â†’|-------------|-----------------------|\n   991â†’| Petrify     | Slow-numb, Manipulate |\n   992â†’| Paralysed   | Manipulate            |\n   993â†’\n   994â†’#### Removing Conditions\n   995â†’\n   996â†’What follows are the various ways of removing multiple Status Attributes at the same time. Those not listed are self-explanatory (ie they tell you what they cure. Also, if something cures Petrify, then it also cures Slow-numb)\n   997â†’\n   998â†’Note: Healing spells and effects work in strict order, first healing HP, then removing Status Attributes from the top down. Thus, White Wind takes two tries to be able to remove, for example, Frog and Resist; the first time, it can't remove Frog because of Resist. The second try, Resist is gone, so it can finally remove Frog. Keep this in mind.\n   999â†’\n  1000â†’| Status Name    | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n  1001â†’|----------------|-------|--------|-----------|---------|------------|---------------|\n  1002â†’| Death          | -     | -      | -         | -       | -          | O             |\n  1003â†’| Sleep          | O     | O      | -         | -       | O          | O             |\n  1004â†’| Poison         | O     | O      | -         | -       | O          | O             |\n  1005â†’| Sadness        | O     | O      | -         | -       | -          | -             |\n  1006â†’| Fury           | O     | O      | -         | -       | -          | -             |\n  1007â†’| Confusion      | O     | O      | -         | -       | O          | O             |\n  1008â†’| Silence        | O     | O      | -         | -       | O          | O             |\n  1009â†’| Haste          | -     | -      | -         | O       | -          | -             |\n  1010â†’| Slow           | -     | -      | -         | O       | O          | O             |\n  1011â†’| Stop           | -     | -      | -         | O       | O          | O             |\n  1012â†’| Frog           | O     | O      | -         | -       | O          | O             |\n  1013â†’| Small          | O     | O      | -         | -       | O          | O             |\n  1014â†’| Slow-numb      | O     | O      | -         | -       | O          | O             |\n  1015â†’| Petrify        | O     | O      | -         | -       | O          | O             |\n  1016â†’| Regen          | -     | -      | -         | O       | -          | -             |\n  1017â†’| Barrier        | -     | -      | O         | O       | -          | -             |\n  1018â†’| MBarrier       | -     | -      | O         | O       | -          | -             |\n  1019â†’| Reflect        | -     | -      | O         | O       | -          | -             |\n  1020â†’| Shield         | -     | -      | O         | O       | -          | -             |\n  1021â†’| Death-sentence | -     | -      | -         | -       | -          | -             |\n  1022â†’| Manipulate     | -     | -      | -         | -       | O          | -             |\n  1023â†’\n  1024â†’| Status Name | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n  1025â†’|-------------|-------|--------|-----------|---------|------------|---------------|\n  1026â†’| Berserk     | O     | O      | -         | -       | O          | O             |\n  1027â†’| Peerless    | -     | -      | -         | -       | -          | -             |\n  1028â†’| Paralysed   | O     | O      | -         | -       | O          | O             |\n  1029â†’| Darkness    | O     | O      | -         | -       | O          | O             |\n  1030â†’| Death Force | -     | -      | -         | O       | O          | -             |\n  1031â†’| Resist      | -     | -      | -         | O       | O          | -             |\n  1032â†’\n  1033â†’Note: Due to space constraints, it is difficult to fit any more abilities onto the above list. What's shown above are the most common ways of removing multiple statuses. The others can be summarized as such:\n  1034â†’\n  1035â†’Holy Torch: Cures everything DeSpell does except 'Death Force' and 'Resist'.\n  1036â†’\n  1037â†’#### Reflection\n  1038â†’\n  1039â†’Finally, the following skills can be reflected using the Status Reflect.\n  1040â†’\n  1041â†’#### Magic:\n  1042â†’\n  1043â†’| Cure   | Cure2 | Cure3 | Poisona | Esuna    | Resist | Life    | Life2 | Regen   | Fire    |\n  1044â†’|--------|-------|-------|---------|----------|--------|---------|-------|---------|---------|\n  1045â†’| Fire2  | Fire3 | Ice   | Ice2    | Ice3     | Bolt   | Bolt2   | Bolt3 | Quake   | Quake2  |\n  1046â†’| Quake3 | Bio   | Bio2  | Bio3    | Sleepel  | Confu  | Silence | Mini  | Toad    | Berserk |\n  1047â†’| Haste  | Slow  | Stop  | Barrier | MBarrier | Death  | Freeze  | Break | Tornado | Flare   |\n  1048â†’| Wall   |       |       |         |          |        |         |       |         |         |\n  1049â†’\n  1050â†’#### Enemy Skills:\n  1051â†’\n  1052â†’| Frog Song | L4 Suicide  | Magic Hammer | Death Force  | Flame Thrower |\n  1053â†’|-----------|-------------|--------------|--------------|---------------|\n  1054â†’| Laser     | Matra Magic | Aqualung     | Shadow Flare | Pandora's Box |\n  1055â†’\n  1056â†’All Summons and Items are non-reflectable. As a companion to this section, here are the specific Magic and Enemy Skills that *CANNOT* be reflected.\n  1057â†’\n  1058â†’#### Magic:\n  1059â†’\n  1060â†’| Demi   | Demi2  | Demi3 | Reflect | DeBarrier | DeSpell |\n  1061â†’|--------|--------|-------|---------|-----------|---------|\n  1062â†’| Escape | Remove | Comet | Comet2  | FullCure  | Shield  |\n  1063â†’| Ultima |        |       |         |           |         |\n  1064â†’\n  1065â†’#### Enemy Skills:\n  1066â†’\n  1067â†’| White Wind   | Big Guard | Angel Whisper | Dragon Force | Bad Breath | Beta           | Trine    |\n  1068â†’|--------------|-----------|---------------|--------------|------------|----------------|----------|\n  1069â†’| Magic Breath | ????      | Goblin Punch  | Chocobuckle  | L5 Death   | Death Sentence | Roulette |\n  1070â†’\n  1071â†’#### **5. GAME OVER**\n  1072â†’\n  1073â†’There are a number of ways to lose the game, most of which can only occur in battle.\n  1074â†’\n  1075â†’The most common way is to have all three characters in your battle party flagged as 'Dead'. This involves losing each of your characters to any of the following situations:\n  1076â†’\n  1077â†’- 1. Gaining the Status 'Death'\n  1078â†’- 2. Gaining the Status 'Petrify'\n  1079â†’- 3. Gaining the Status 'Imprisoned'\n  1080â†’\n  1081â†’(This occurs if you are either picked up by one of Carry Armor's arms, or you are surrounded by Reno's Pyramid or Bottomswell's Waterpolo. You must destroy whatever is imprisoning the character to bring them back)\n  1082â†’\n  1083â†’4. Being knocked out of battle by Eat (used by Hungry), Goanni (used by Ghost Ship) or Whirlsand (used by Ruby Weapon). Midgar Zolom's Blown Away, Scissors(Upper)'s Scissor Tornado and Gighee's Sun Diver all knock you out of battle, but flag the character as escaped instead of dead; so instead, if all other characters die or are knocked out, the battle itself will count as an escape.\n  1084â†’\n  1085â†’If you are still flagged as 'Dead' at the end of a successful battle, then that character will gain no EXP or AP from the battle. However, the Status 'Death' is the only one that lasts into the next battle if you don't cure it.\n  1086â†’\n  1087â†’You will also lose the battle in one other special case: running out of time in the Emerald Weapon battle. This only occurs if you do not have the Underwater Materia equipped during that battle, however.\n  1088â†’\n  1089â†’Note that if you lose a battle in Battle Square, the Five Gods Pagoda or Fort Condor, you won't lose the game, just the battle. In all other cases, losing a battle means 'Game Over'.\n  1090â†’\n  1091â†’Finally, if you run out of time in the Mako Reactor 1 Mission, you will automatically lose the game, without having to be in battle.\n  1092â†’\n  1093â†’#### **6. CREDITS**\n  1094â†’\n  1095â†’A large majority of the work here is my own... but there are some people that I feel it is necessary to mention on this long road.\n  1096â†’\n  1097â†’The Denizens of alt.games.final-fantasy.rpg:\n  1098â†’\n  1099â†’My old haunt. More a shout-out rather than credit, but hey, it's where I began, really ^\\_^ It's also where I met...\n  1100â†’\n  1101â†’#### Qhimm:\n  1102â†’\n  1103â†’ ...with whom I worked on the FF8 savemap with. Lots of fun, and we actually got something useful out of it: a working save editor that he programmed named Griever. It was also on his site that met others who took the same interest in this field. Which leads to....\n  1104â†’\n  1105â†’The Denizens of Qhimm's Forum:\n  1106â†’\n  1107â†’The SaiNt. Ficedula. Alhexx. And \\*especially\\* L.Spiro. There were others, of course, but those are\n  1108â†’\n  1109â†’the names who stand out. Enemy Stats and Attack Properties would've been hell to compile without the effort made by those at Qhimm's Forum. I collected data myself, but understanding it? L.Spiro provided the first and most important step in deciphering the attack and enemy dumps.\n  1110â†’\n  1111â†’And... that's that, really. Hope you've enjoyed the show.\n  1112â†’\n  1113â†’**The FF7 Battle Mechanics, copyright 2001-2003 Terence Fergusson**\n  1114â†’\n  1115â†’#### **FF7 Party Mechanics**\n  1116â†’\n  1117â†’Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\n  1118â†’\n  1119â†’#### **FF7 Enemy Mechanics**\n  1120â†’\n  1121â†’#### **The Battle Scene**\n  1122â†’\n  1123â†’#### **1. ENEMY BATTLE SCENES (SCENE.BIN)**\n  1124â†’\n  1125â†’FF7 keeps each enemy battle configuration is a file called \"scene.bin\" This file is located in the following directories.\n  1126â†’\n  1127â†’| PSX Version            | PC Version        |  |  |\n  1128â†’|------------------------|-------------------|--|--|\n  1129â†’| /DATA/BATTLE/SCENE.BIN | /BATTLE/SCENE.BIN |  |  |\n  1130â†’\n  1131â†’This file is exactly the same in both versions. This holds all the battle configurations for all enemies encountered in the game. It's format is as follows:\n  1132â†’\n  1133â†’#### **1.1 Scene.bin file format by Fremen**\n  1134â†’\n  1135â†’Date : September 30, 2003\n  1136â†’\n  1137â†’These specifications are incomplete, so if you have got any idea about the unknown data blocks, please let me know. :)\n  1138â†’\n  1139â†’The scene.bin file contains 256 gziped files which give us information for all the FF7 monsters. In order to find these files in scene.bin, you have to know that the file is structured with blocks exactly 0x2000 bytes in length. In the first table (scene.bin block), you will see what contains a block. Blocks are concatenated with each other to form the scene.bin file. So if you want to extract data from scene.bin, you'll need to find the correct blocks and to extract the gziped files from it. After that you simply ungzip those files and you'll find 256 files, with a length is 7808 bytes. Known information about those files can be found in the second table (The Data File specification).\n  1140â†’\n  1141â†’We have 1024 possible battle numbers: 0 - 1023. Each group of \\*4\\* Battle Numbers refers to a particular Scene file: for instance, Battles 0-3 refer to File 0 in Scene.bin, Battles 4-7 refer to File 1 in Scene.bin, and so forth.\n  1142â†’\n  1143â†’Scene.bin block (length : 0x2000 bytes)\n  1144â†’\n  1145â†’| Offset | Length  | Description                                                           |  |  |\n  1146â†’|--------|---------|-----------------------------------------------------------------------|--|--|\n  1147â†’| 0x0000 | 4 bytes | Pointer (in DWORD) of the first data file. Example :                  |  |  |\n  1148â†’|        |         | Offset_of_first_data_file_in_bytes = pointer*4                        |  |  |\n  1149â†’|        |         | pointer = 0xFFFFFFFF means that the end of block has been<br>reached. |  |  |\n  1150â†’| 0x0004 | 4 bytes | Second pointer of the second data file.                               |  |  |\n  1151â†’|        |         | pointer = 0xFFFFFFFF means that the end of block has been<br>reached. |  |  |\n  1152â†’|        |         |                                                                       |  |  |\n  1153â†’| 0x003C | 4 bytes | Last pointer. Usually 0xFFFFFFFF.                                     |  |  |\n  1154â†’\n  1155â†’| Offset          | Length                                | Description                                                                              |\n  1156â†’|-----------------|---------------------------------------|------------------------------------------------------------------------------------------|\n  1157â†’| 0x0040          | 4 * (pointer2-<br>pointer1) bytes     | First data file in block. It's a gziped file.                                            |\n  1158â†’|                 |                                       | Note : Sometimes it may finish by 0xFF bytes, because its size<br>must be multiple of 4. |\n  1159â†’| pointer2 * 4    | 4 * (pointer3-                        | Second data file in block. It's a gziped file.                                           |\n  1160â†’|                 | pointer2) bytes                       | Note : Sometimes it may finish by 0xFF bytes, because its size<br>must be multiple of 4. |\n  1161â†’| lastpointer * 4 | 4 * (0x2000-<br>lastpointer)<br>bytes | Last data file.                                                                          |\n  1162â†’|                 |                                       | Note : There's usually about 10 files in each block.                                     |\n  1163â†’|                 |                                       | Note : Each block finishes by 0xFF bytes, because its length must<br>be 0x2000 bytes.    |\n  1164â†’\n  1165â†’Data File specifications (length : 7808 bytes)\n  1166â†’\n  1167â†’| Offset | Length   | Description                  |\n  1168â†’|--------|----------|------------------------------|\n  1169â†’| 0x0000 | 2 bytes  | Enemy ID 1                   |\n  1170â†’| 0x0002 | 2 bytes  | Enemy ID 2                   |\n  1171â†’| 0x0004 | 2 bytes  | Enemy ID 3                   |\n  1172â†’| 0x0006 | 2 bytes  | Padding (always 0xFFFF)      |\n  1173â†’| 0x0008 | 20 bytes | Battle set up 1, record 1    |\n  1174â†’| 0x001C | 20 bytes | Battle set up 1, record 2    |\n  1175â†’| 0x0030 | 20 bytes | Battle set up 1, record 3    |\n  1176â†’| 0x0044 | 20 bytes | Battle set up 1, record 4    |\n  1177â†’| 0x0058 | 48 bytes | Battle Setup 2, record 1     |\n  1178â†’| 0x0088 | 48 bytes | Battle Setup 2, record 2     |\n  1179â†’| 0x00B8 | 48 bytes | Battle Setup 2, record 3     |\n  1180â†’| 0x00E8 | 48 bytes | Battle Setup 2, record 4     |\n  1181â†’| 0x0118 | 16 bytes | Battle Formation 1, record 1 |\n  1182â†’| 0x0128 | 16 bytes | Battle Formation 1, record 2 |\n  1183â†’| 0x0138 | 16 bytes | Battle Formation 1, record 3 |\n  1184â†’| 0x0148 | 16 bytes | Battle Formation 1, record 4 |\n  1185â†’| 0x0158 | 16 bytes | Battle Formation 1, record 5 |\n  1186â†’| 0x0168 | 16 bytes | Battle Formation 1, record 6 |\n  1187â†’| 0x0178 | 16 bytes | Battle Formation 2, record 1 |\n  1188â†’| 0x0188 | 16 bytes | Battle Formation 2, record 2 |\n  1189â†’| 0x0198 | 16 bytes | Battle Formation 2, record 3 |\n  1190â†’| 0x01A8 | 16 bytes | Battle Formation 2, record 4 |\n  1191â†’| 0x01B8 | 16 bytes | Battle Formation 2, record 5 |\n  1192â†’\n  1193â†’| Offset | Length    | Description                  |\n  1194â†’|--------|-----------|------------------------------|\n  1195â†’| 0x01C8 | 16 bytes  | Battle Formation 2, record 6 |\n  1196â†’| 0x01D8 | 16 bytes  | Battle Formation 3, record 1 |\n  1197â†’| 0x01E8 | 16 bytes  | Battle Formation 3, record 2 |\n  1198â†’| 0x01F8 | 16 bytes  | Battle Formation 3, record 3 |\n  1199â†’| 0x0208 | 16 bytes  | Battle Formation 3, record 4 |\n  1200â†’| 0x0218 | 16 bytes  | Battle Formation 3, record 5 |\n  1201â†’| 0x0228 | 16 bytes  | Battle Formation 3, record 6 |\n  1202â†’| 0x0238 | 16 bytes  | Battle Formation 4, record 1 |\n  1203â†’| 0x0248 | 16 bytes  | Battle Formation 4, record 2 |\n  1204â†’| 0x0258 | 16 bytes  | Battle Formation 4, record 3 |\n  1205â†’| 0x0168 | 16 bytes  | Battle Formation 4, record 4 |\n  1206â†’| 0x0278 | 16 bytes  | Battle Formation 3, record 5 |\n  1207â†’| 0x0288 | 16 bytes  | Battle Formation 4, record 6 |\n  1208â†’| 0x0298 | 184 bytes | Enemy Data 1                 |\n  1209â†’| 0x0350 | 184 bytes | Enemy Data 2                 |\n  1210â†’| 0x0408 | 184 bytes | Enemy Data 3                 |\n  1211â†’| 0x04C0 | 28 bytes  | Attack Data 1                |\n  1212â†’| 0x04DC | 28 bytes  | Attack Data 2                |\n  1213â†’| 0x04F8 | 28 bytes  | Attack Data 3                |\n  1214â†’| 0x0514 | 28 bytes  | Attack Data 4                |\n  1215â†’| 0x0530 | 28 bytes  | Attack Data 5                |\n  1216â†’| 0x054C | 28 bytes  | Attack Data 6                |\n  1217â†’| 0x0568 | 28 bytes  | Attack Data 7                |\n  1218â†’| 0x0584 | 28 bytes  | Attack Data 8                |\n  1219â†’| 0x05A0 | 28 bytes  | Attack Data 9                |\n  1220â†’| 0x05BC | 28 bytes  | Attack Data 10               |\n  1221â†’| 0x05BC | 28 bytes  | Attack Data 11               |\n  1222â†’| 0x05F4 | 28 bytes  | Attack Data 12               |\n  1223â†’| 0x0610 | 28 bytes  | Attack Data 13               |\n  1224â†’| 0x062C | 28 bytes  | Attack Data 14               |\n  1225â†’| 0x0648 | 28 bytes  | Attack Data 15               |\n  1226â†’| 0x0664 | 28 bytes  | Attack Data 16               |\n  1227â†’| 0x0680 | 28 bytes  | Attack Data 17               |\n  1228â†’| 0x069C | 28 bytes  | Attack Data 18               |\n  1229â†’\n  1230â†’| Offset | Length   | Description    |\n  1231â†’|--------|----------|----------------|\n  1232â†’| 0x06B8 | 28 bytes | Attack Data 19 |\n  1233â†’| 0x06D4 | 28 bytes | Attack Data 20 |\n  1234â†’| 0x06F0 | 28 bytes | Attack Data 21 |\n  1235â†’| 0x070C | 28 bytes | Attack Data 22 |\n  1236â†’| 0x0728 | 28 bytes | Attack Data 23 |\n  1237â†’| 0x0744 | 28 bytes | Attack Data 24 |\n  1238â†’| 0x0760 | 28 bytes | Attack Data 25 |\n  1239â†’| 0x077C | 28 bytes | Attack Data 26 |\n  1240â†’| 0x0798 | 28 bytes | Attack Data 27 |\n  1241â†’| 0x07B4 | 28 bytes | Attack Data 28 |\n  1242â†’| 0x07D0 | 28 bytes | Attack Data 29 |\n  1243â†’| 0x07EC | 28 bytes | Attack Data 30 |\n  1244â†’| 0x0808 | 28 bytes | Attack Data 31 |\n  1245â†’| 0x0824 | 28 bytes | Attack Data 32 |\n  1246â†’| 0x0840 | 2 bytes  | Attack ID 1    |\n  1247â†’| 0x0842 | 2 bytes  | Attack ID 2    |\n  1248â†’| 0x0844 | 2 bytes  | Attack ID 3    |\n  1249â†’| 0x0846 | 2 bytes  | Attack ID 4    |\n  1250â†’| 0x0848 | 2 bytes  | Attack ID 5    |\n  1251â†’| 0x084A | 2 bytes  | Attack ID 6    |\n  1252â†’| 0x084C | 2 bytes  | Attack ID 7    |\n  1253â†’| 0x084E | 2 bytes  | Attack ID 8    |\n  1254â†’| 0x0850 | 2 bytes  | Attack ID 9    |\n  1255â†’| 0x0852 | 2 bytes  | Attack ID 10   |\n  1256â†’| 0x0854 | 2 bytes  | Attack ID 11   |\n  1257â†’| 0x0856 | 2 bytes  | Attack ID 12   |\n  1258â†’| 0x0858 | 2 bytes  | Attack ID 13   |\n  1259â†’| 0x085A | 2 bytes  | Attack ID 14   |\n  1260â†’| 0x085C | 2 bytes  | Attack ID 15   |\n  1261â†’| 0x085E | 2 bytes  | Attack ID 16   |\n  1262â†’| 0x0860 | 2 bytes  | Attack ID 17   |\n  1263â†’| 0x0862 | 2 bytes  | Attack ID 18   |\n  1264â†’| 0x0864 | 2 bytes  | Attack ID 19   |\n  1265â†’| 0x0866 | 2 bytes  | Attack ID 20   |\n  1266â†’\n  1267â†’| Offset | Length   | Description              |\n  1268â†’|--------|----------|--------------------------|\n  1269â†’| 0x0868 | 2 bytes  | Attack ID 21             |\n  1270â†’| 0x086A | 2 bytes  | Attack ID 22             |\n  1271â†’| 0x086C | 2 bytes  | Attack ID 23             |\n  1272â†’| 0x086E | 2 bytes  | Attack ID 24             |\n  1273â†’| 0x0870 | 2 bytes  | Attack ID 25             |\n  1274â†’| 0x0872 | 2 bytes  | Attack ID 26             |\n  1275â†’| 0x0874 | 2 bytes  | Attack ID 27             |\n  1276â†’| 0x0876 | 2 bytes  | Attack ID 28             |\n  1277â†’| 0x0878 | 2 bytes  | Attack ID 29             |\n  1278â†’| 0x087A | 2 bytes  | Attack ID 30             |\n  1279â†’| 0x087C | 2 bytes  | Attack ID 31             |\n  1280â†’| 0x087E | 2 bytes  | Attack ID 32             |\n  1281â†’| 0x0880 | 32 bytes | Attack name 1 (FF Text)  |\n  1282â†’| 0x08A0 | 32 bytes | Attack name 2 (FF Text)  |\n  1283â†’| 0x08C0 | 32 bytes | Attack name 3 (FF Text)  |\n  1284â†’| 0x08E0 | 32 bytes | Attack name 4 (FF Text)  |\n  1285â†’| 0x0900 | 32 bytes | Attack name 5 (FF Text)  |\n  1286â†’| 0x0920 | 32 bytes | Attack name 6 (FF Text)  |\n  1287â†’| 0x0940 | 32 bytes | Attack name 7 (FF Text)  |\n  1288â†’| 0x0960 | 32 bytes | Attack name 8 (FF Text)  |\n  1289â†’| 0x0980 | 32 bytes | Attack name 9 (FF Text)  |\n  1290â†’| 0x09A0 | 32 bytes | Attack name 10 (FF Text) |\n  1291â†’| 0x09C0 | 32 bytes | Attack name 11 (FF Text) |\n  1292â†’| 0x09E0 | 32 bytes | Attack name 12 (FF Text) |\n  1293â†’| 0x0A00 | 32 bytes | Attack name 13 (FF Text) |\n  1294â†’| 0x0A20 | 32 bytes | Attack name 14 (FF Text) |\n  1295â†’| 0x0A40 | 32 bytes | Attack name 15 (FF Text) |\n  1296â†’| 0x0A60 | 32 bytes | Attack name 16 (FF Text) |\n  1297â†’| 0x0A80 | 32 bytes | Attack name 17 (FF Text) |\n  1298â†’| 0x0AA0 | 32 bytes | Attack name 18 (FF Text) |\n  1299â†’| 0x0AC0 | 32 bytes | Attack name 19 (FF Text) |\n  1300â†’| 0x0AE0 | 32 bytes | Attack name 20 (FF Text) |\n  1301â†’| 0x0B00 | 32 bytes | Attack name 21 (FF Text) |\n  1302â†’| 0x0B20 | 32 bytes | Attack name 22 (FF Text) |\n  1303â†’\n  1304â†’| Offset | Length     | Description               |\n  1305â†’|--------|------------|---------------------------|\n  1306â†’| 0x0B40 | 32 bytes   | Attack name 23 (FF Text)  |\n  1307â†’| 0x0B60 | 32 bytes   | Attack name 24 (FF Text)  |\n  1308â†’| 0x0B80 | 32 bytes   | Attack name 25 (FF Text)  |\n  1309â†’| 0x0BA0 | 32 bytes   | Attack name 26 (FF Text)  |\n  1310â†’| 0x0BC0 | 32 bytes   | Attack name 27 (FF Text)  |\n  1311â†’| 0x0BE0 | 32 bytes   | Attack name 28 (FF Text)  |\n  1312â†’| 0x0C00 | 32 bytes   | Attack name 29 (FF Text)  |\n  1313â†’| 0x0C20 | 32 bytes   | Attack name 30 (FF Text)  |\n  1314â†’| 0x0C40 | 32 bytes   | Attack name 31 (FF Text)  |\n  1315â†’| 0x0C60 | 32 bytes   | Attack name 32 (FF Text)  |\n  1316â†’| 0x0C80 | 512 bytes  | FF Padding (0xFF)         |\n  1317â†’| 0x0E80 | 2 bytes    | Enemy AI Offset, record 1 |\n  1318â†’| 0x0E82 | 2 bytes    | Enemy AI Offset, record 2 |\n  1319â†’| 0x0E84 | 2 bytes    | Enemy AI Offset, record 3 |\n  1320â†’| 0x0E86 | 26 bytes   | Unknown                   |\n  1321â†’| 0x0EA0 | 4063 bytes | Beginning of AI Data      |\n  1322â†’|        |            | Starts with 6 bytes of FF |\n  1323â†’\n  1324â†’Battle Setup 1 Record format (length : 16 bytes)\n  1325â†’\n  1326â†’| Offset | Length  | Description                                 |\n  1327â†’|--------|---------|---------------------------------------------|\n  1328â†’| 0x0000 | 2 bytes | Battle Location, description is as follows: |\n  1329â†’|        |         | 0x0000: Blank                               |\n  1330â†’|        |         | 0x0001: Bizarro Battle - Center             |\n  1331â†’|        |         | 0x0002: Grassland                           |\n  1332â†’|        |         | 0x0003: Mt Nibel                            |\n  1333â†’|        |         | 0x0004: Forest                              |\n  1334â†’|        |         | 0x0005: Beach                               |\n  1335â†’|        |         | 0x0006: Desert                              |\n  1336â†’|        |         | 0x0007: Snow                                |\n  1337â†’|        |         | 0x0008: Swamp                               |\n  1338â†’|        |         | 0x0009: Sector 1 Train Station              |\n  1339â†’|        |         | 0x000A: Reactor 1                           |\n  1340â†’|        |         | 0x000B: Reactor 1 Core                      |\n  1341â†’|        |         | 0x000C: Reactor 1 Entrance                  |\n  1342â†’|        |         | 0x000D: Sector 4 Subway                     |\n  1343â†’\n  1344â†’| 0x000E: Nibel Caves or AForest Caves<br>0x000F: Shinra HQ<br>0x0010: Midgar Raid Subway<br>0x0011: Hojo's Lab<br>0x0012: Shinra Elevators<br>0x0013: Shinra Roof<br>0x0014: Midgar Highway<br>0x0015: Wutai Pagoda<br>0x0016: Church<br>0x0017: Coral Valley<br>0x0018: Midgar Slums<br>0x0019: Sector 4 Corridors or Junon Path<br>0x001A: Sector 4 Gantries or Midgar Underground<br>0x001B: Sector 7 Support Pillar Stairway<br>0x001C: Sector 7 Support Pillar Top<br>0x001D: Sector 8<br>0x001E: Sewers<br>0x001F: Mythril Mines<br>0x0020: Northern Crater - Floating Platforms<br>0x0021: Corel Mountain Path<br>0x0022: Junon Beach<br>0x0023: Junon Cargo Ship | Offset | Length | Description |  |\n  1345â†’|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|--------|-------------|--|\n  1346â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1347â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1348â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1349â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1350â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1351â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1352â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1353â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1354â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1355â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1356â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1357â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1358â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1359â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1360â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1361â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1362â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1363â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1364â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1365â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1366â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1367â†’|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n  1368â†’| 0x0024: Corel Prison                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |        |        |             |  |\n  1369â†’| 0x0025: Battle Square                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |        |        |             |  |\n  1370â†’| 0x0026: Da Chao - Rapps Battle                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |        |        |             |  |\n  1371â†’| 0x0027: Cid's Backyard                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n  1372â†’| 0x0028: Final Descent to Sephiroth                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |        |        |             |  |\n  1373â†’| 0x0029: Reactor 5 Entrance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |        |        |             |  |\n  1374â†’| 0x002A: Temple of the Ancients - Escher Room                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |        |        |             |  |\n  1375â†’| 0x002B: Shinra Mansion                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n  1376â†’| 0x002C: Junon Airship Dock                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |        |        |             |  |\n  1377â†’| 0x002D: Whirlwind Maze                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n  1378â†’| 0x002E: Junon Underwater Reactor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |        |        |             |  |\n  1379â†’| 0x002F: Gongaga Reactor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |        |             |  |\n  1380â†’\n  1381â†’| Offset | Length | Description                                            |  |  |\n  1382â†’|--------|--------|--------------------------------------------------------|--|--|\n  1383â†’|        |        | 0x0030: Gelnika                                        |  |  |\n  1384â†’|        |        | 0x0031: Train Graveyard                                |  |  |\n  1385â†’|        |        | 0x0032: Great Glacier Ice Caves & Gaea Cliffs - Inside |  |  |\n  1386â†’|        |        | 0x0033: Sister Ray                                     |  |  |\n  1387â†’|        |        | 0x0034: Sister Ray Base                                |  |  |\n  1388â†’|        |        | 0x0035: Forgotten City Altar                           |  |  |\n  1389â†’|        |        | 0x0036: Northern Crater - Initial Descent              |  |  |\n  1390â†’|        |        | 0x0037: Northern Crater - Hatchery                     |  |  |\n  1391â†’|        |        | 0x0038: Northern Crater - Water Area                   |  |  |\n  1392â†’|        |        | 0x0039: Safer Battle                                   |  |  |\n  1393â†’|        |        | 0x003A: Kalm Flashback - Dragon Battle                 |  |  |\n  1394â†’|        |        | 0x003B: Junon Underwater Pipe                          |  |  |\n  1395â†’|        |        | 0x003C: Blank                                          |  |  |\n  1396â†’|        |        | 0x003D: Corel Railway - Canyon                         |  |  |\n  1397â†’|        |        | 0x003E: Whirlwind Maze - Crater                        |  |  |\n  1398â†’|        |        | 0x003F: Corel Railway - Rollercoaster                  |  |  |\n  1399â†’|        |        | 0x0040: Wooden Bridge                                  |  |  |\n  1400â†’|        |        | 0x0041: Da Chao                                        |  |  |\n  1401â†’|        |        | 0x0042: Fort Condor                                    |  |  |\n  1402â†’|        |        | 0x0043: Dirt Wasteland                                 |  |  |\n  1403â†’|        |        | 0x0044: Bizarro Battle - Right Side                    |  |  |\n  1404â†’|        |        | 0x0045: Bizarro Battle - Left Side                     |  |  |\n  1405â†’|        |        | 0x0046: Jenova*SYNTHESIS Battle                        |  |  |\n  1406â†’|        |        | 0x0047: Corel Train Battle                             |  |  |\n  1407â†’|        |        | 0x0048: Cosmo Canyon                                   |  |  |\n  1408â†’|        |        | 0x0049: Caverns of the Gi                              |  |  |\n  1409â†’|        |        | 0x004A: Nibelheim Mansion Basement                     |  |  |\n  1410â†’|        |        | 0x004B: Temple of the Ancients - Demons Gate           |  |  |\n  1411â†’|        |        | 0x004C: Temple of the Ancients - Mural Room            |  |  |\n  1412â†’|        |        | 0x004D: Temple of the Ancients - Clock Passage         |  |  |\n  1413â†’|        |        | 0x004E: Final Battle - Sephiroth                       |  |  |\n  1414â†’|        |        | 0x004F: Jungle                                         |  |  |\n  1415â†’|        |        | 0x0050: Ultimate Weapon - Battle on Highwind           |  |  |\n  1416â†’|        |        | 0x0051: Corel Reactor                                  |  |  |\n  1417â†’|        |        |                                                        |  |  |\n  1418â†’\n  1419â†’| Offset | Length<br>Description |                                           |  |  |\n  1420â†’|--------|-----------------------|-------------------------------------------|--|--|\n  1421â†’|        |                       | 0x0052: Unused                            |  |  |\n  1422â†’|        |                       | 0x0053: Don Corneo's Mansion              |  |  |\n  1423â†’|        |                       | 0x0054: Emerald Weapon Battle             |  |  |\n  1424â†’|        |                       | 0x0055: Reactor 5                         |  |  |\n  1425â†’|        |                       | 0x0056: Shinra HQ - Escape                |  |  |\n  1426â†’|        |                       | 0x0057: Ultimate Weapon - Gongaga Reactor |  |  |\n  1427â†’|        |                       | 0x0058: Corel Prison - Dyne Battle        |  |  |\n  1428â†’|        |                       | 0x0059: Ultimate Weapon - Forest          |  |  |\n  1429â†’|        |                       |                                           |  |  |\n  1430â†’| 0x0002 | 14 bytes              | Unknown                                   |  |  |\n  1431â†’\n  1432â†’Enemy Data (length : 184 bytes)\n  1433â†’\n  1434â†’| Offset | Length   | Description                            |                 |  |  |\n  1435â†’|--------|----------|----------------------------------------|-----------------|--|--|\n  1436â†’| 0x0000 | 32 bytes | Enemy's name (completed by 0xFF bytes) |                 |  |  |\n  1437â†’| 0x0020 | 1 byte   | Enemy's level                          |                 |  |  |\n  1438â†’| 0x0021 | 1 byte   | Enemy's speed                          |                 |  |  |\n  1439â†’| 0x0022 | 1 byte   | Enemy's luck                           |                 |  |  |\n  1440â†’| 0x0023 | 1 byte   | Enemy's physical dodge                 |                 |  |  |\n  1441â†’| 0x0024 | 1 byte   | Enemy's strength                       |                 |  |  |\n  1442â†’| 0x0025 | 1 byte   | Enemy's physical defense               |                 |  |  |\n  1443â†’| 0x0026 | 1 byte   | Enemy's magic power                    |                 |  |  |\n  1444â†’| 0x0027 | 1 byte   | Enemy's magic defense                  |                 |  |  |\n  1445â†’| 0x0028 | 8 bytes  | Elements :                             |                 |  |  |\n  1446â†’|        |          | 0x00 Fire                              | 0x08 Scare      |  |  |\n  1447â†’|        |          | 0x01 Ice                               | 0x09 Health     |  |  |\n  1448â†’|        |          | 0x02 Bolt                              | 0x0A Cut        |  |  |\n  1449â†’|        |          | 0x03 Earth                             | 0x0B Hit        |  |  |\n  1450â†’|        |          | 0x04 Bio                               | 0x0C Punch      |  |  |\n  1451â†’|        |          | 0x05 Gravity                           | 0x0D Shoot      |  |  |\n  1452â†’|        |          | 0x06 Water                             | 0x0E Scream     |  |  |\n  1453â†’|        |          | 0x07 Wind                              | 0xFF No element |  |  |\n  1454â†’\n  1455â†’| Offset | Length   | Description                                                                                  |  |  |  |\n  1456â†’|--------|----------|----------------------------------------------------------------------------------------------|--|--|--|\n  1457â†’| 0x0030 | 8 bytes  | Describes the link between the enemy and the previous<br>elements (respectively) as follows: |  |  |  |\n  1458â†’|        |          | 0x00 Death                                                                                   |  |  |  |\n  1459â†’|        |          | 0x02 Weakness (200% damage)                                                                  |  |  |  |\n  1460â†’|        |          | 0x04 Resist (50% damage)                                                                     |  |  |  |\n  1461â†’|        |          | 0x05 Defense (0% damage)                                                                     |  |  |  |\n  1462â†’|        |          | 0x06 Absorb (-100% damage)                                                                   |  |  |  |\n  1463â†’|        |          | 0x07 HP Max                                                                                  |  |  |  |\n  1464â†’|        |          | 0xFF Nothing                                                                                 |  |  |  |\n  1465â†’| 0x0038 | 84 bytes | Unknown data. Seems to contain informations about<br>every action and attitude of the Enemy. |  |  |  |\n  1466â†’| 0x008C | 2 bytes  | Object you can win at the battle's end.                                                      |  |  |  |\n  1467â†’| 0x008F | 2 bytes  | Object you can steel. 0xFFFF if not.                                                         |  |  |  |\n  1468â†’| 0x0091 | 12 bytes | Unknown data                                                                                 |  |  |  |\n  1469â†’| 0x009D | 2 bytes  | Enemy's MP                                                                                   |  |  |  |\n  1470â†’| 0x009F | 2 bytes  | AP you receive when you finish the battle                                                    |  |  |  |\n  1471â†’| 0x00A1 | 2 bytes  | Enemy can be transformed to this object. 0xFFFF if not.                                      |  |  |  |\n  1472â†’| 0x00A3 | 2 bytes  | Usually 0x10 and 0xFF                                                                        |  |  |  |\n  1473â†’| 0x00A5 | 4 bytes  | Enemy's HP                                                                                   |  |  |  |\n  1474â†’| 0x00A9 | 4 bytes  | Exp you receive if you finish the battle                                                     |  |  |  |\n  1475â†’| 0x00AD | 4 bytes  | Gil you receive if you finish battle                                                         |  |  |  |\n  1476â†’| 0x00B1 | 4 bytes  | Usually 4 \"random\" numbers                                                                   |  |  |  |\n  1477â†’| 0x00B5 | 4 bytes  | Usually FF FF FF FF                                                                          |  |  |  |\n  1478â†’\n  1479â†’#### **Magic Scripting**\n  1480â†’\n  1481â†’Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\n  1482â†’\n  1483â†’#### **PSX 3D battle Scenes by Micky**\n  1484â†’\n  1485â†’Backgrounds are stored in probably the easiest model format used in FF7. I reconstructed this from the code for my background-to-Maya converter, so there could be errors. I haven't seen any other documentation on this, so please excuse any duplication...\n  1486â†’\n  1487â†’The backgrounds are stored in LZS files in the STAGE1 and STAGE2 directories. They are using the ff7-standard lzs compression.\n  1488â†’\n  1489â†’They begin with a directory: The first word is the number of sections, then there is one pointer for each sections. Each section contains a mesh for the background, except for the first that contains some unknown data and the last that contains the TIM-format texture and palettes.\n  1490â†’\n  1491â†’Each section starts with vertex data, followed by a triangle and a quad data.\n  1492â†’\n  1493â†’```\n  1494â†’Vertex data:\n  1495â†’1 u32 size of vertex data\n  1496â†’8 byte per vertex:\n  1497â†’3 u16 x,y,z\n  1498â†’1 u16 pad(?)\n  1499â†’Triangle data\n  1500â†’1 u16 number of triangles\n  1501â†’1 u16 texture page (among other flags)\n  1502â†’16 bytes per triangle:\n  1503â†’3 u16 offset into vertex table\n  1504â†’1 u16 unknown\n  1505â†’2 u8 u1, v1\n  1506â†’1 u16 palette (and some other flags)\n  1507â†’2 u8 u2, v2\n  1508â†’```\n  1509â†’\n  1510â†’Quad data\n  1511â†’\n  1512â†’2 u8 u3, v3\n  1513â†’\n  1514â†’- 1 u16 number of quads\n  1515â†’- 1 u16 texture page (among other flags)\n  1516â†’\n  1517â†’#### 20 bytes per quad:\n  1518â†’\n  1519â†’- 4 u16 offset into vertex table\n  1520â†’- 2 u8 u1, v1\n  1521â†’- 1 u16 palette\n  1522â†’- 2 u8 u2, v2\n  1523â†’- 2 u8 u3, v3\n  1524â†’- 2 u8 u4, v4\n  1525â†’- 1 u16 unknown\n  1526â†’\n  1527â†’Displaying the backgrounds is a bit tricky on modern graphics boards, as they don't support palletized textures anymore. Which is understandable given the large number of fetches that would be required for displaying a properly filtered texture - but not very helpful. I solved that by a pre-process that stores the palette on each pixel and then looks up the color during export.\n  1528â†’\n  1529â†’#### **PSX battle models structure by Cyberman**\n  1530â†’\n  1531â†’#### Terms\n  1532â†’\n  1533â†’BYTE - is an unsigned 8 bit binary string WORD - is an unsigned 16 bit binary string DOUBLE WORD - is an unsigned 32 bit binary string Values are SIGNED if they say so, otherwise they are assumable as unsigned.\n  1534â†’\n  1535â†’Many of the PSX files data files use LZS compression.\n  1536â†’\n  1537â†’#### Combat Models\n  1538â†’\n  1539â†’Combat Models occupy directories\n  1540â†’\n  1541â†’ENEMY1\n  1542â†’\n  1543â†’ENEMY2\n  1544â†’\n  1545â†’ENEMY3\n  1546â†’\n  1547â†’ENEMY4\n  1548â†’\n  1549â†’ENEMY5\n  1550â†’\n  1551â†’ENEMY6\n  1552â†’\n  1553â†’on the CD\n  1554â†’\n  1555â†’ENEMY6 contains the character models and their weapons, including the hires version of Cloud and Sepheroth.\n  1556â†’\n  1557â†’#### Model format\n  1558â†’\n  1559â†’The first 4 bytes of the LZS file contains the uncompressed size of the LZS compressed data, as a double word. The actual compressed data follows after this this double word.\n  1560â†’\n  1561â†’After the compressed information is decompressed in the model. The first double word contains the number of sections in the model file (SEC\\_COUNT). Following this is SEC\\_COUNT double words. This is an array of offsets to data sections within the model.\n  1562â†’\n  1563â†’```\n  1564â†’Format information\n  1565â†’[ DOUBLE WORD ] Section Count\n  1566â†’[ DOUBLE WORD ] OFFSET SECTION 1 \n  1567â†’[ DOUBLE WORD ] OFFSET SECTION 2\n  1568â†’... \n  1569â†’[ DOUBLE WORD ] OFFSET SECTION N\n  1570â†’```\n  1571â†’\n  1572â†’Section Identification, what they are.\n  1573â†’\n  1574â†’The first section of a model is the actual model information.\n  1575â†’\n  1576â†’There is ALWAYS a TIM image as one of the sections, you MUST find this TIM section before doing anything with the model. For models that have no textures applied to them, the TIM image consists of a 16 entry palette and a 1 unit tall 0 units wide 4bits per pixel image.\n  1577â†’\n  1578â†’All sections from section 2 to before the TIM image are animation sequences. This is nearly identical to the format used on the PC.\n  1579â†’\n  1580â†’On character models there are 16 sections past the TIM image, these are the weapon models. They have the same format as section 1.\n  1581â†’\n  1582â†’#### Section 1 format.\n  1583â†’\n  1584â†’Section 1 has several parts to it. It is important to VERY carefully look at the structure starting this section. The begining of the section is the BONE COUNT. The ROOT BONE follows this, it is NOT counted as a bone and is ALL ZEROs.\n  1585â†’\n  1586â†’A bone is a structure here it is in C/C++\n  1587â†’\n  1588â†’```\n  1589â†’typedef struct \n  1590â†’{ \n  1591â†’UINT16 Parent; \n  1592â†’INT16 Length; \n  1593â†’UINT32 Offset; \n  1594â†’} \n  1595â†’FF7_BONE;\n  1596â†’```\n  1597â†’\n  1598â†’Parent 0 is the root bone (the root bone is always relative to itself since it is the ROOT). Offset is the offset from the beginning of the section to the actual data for the polygons that makes on the 3d structure. A bone with an OFFSET of ZERO is a JOINT. It has NO physical shape. Objects are drawn from parent to child. All bone lengths are negative and should be drawn with this is mind (otherwise it will mess up rendering it).\n  1599â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"31561a43-8dba-4c12-932b-71694ffe3b4b","tool_use_result":{"type":"text","file":{"filePath":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","content":"|--------------|---------------------------------|\n| Effects:     | Halves all Physical damage      |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### MBarrier\n\nThe counterpart of Barrier, MBarrier simply halves the damage from all Magical attacks. Again, it only has a limited duration; the time left for MBarrier can be checked in the MBarrier gauge in the left window, next to the Character name.\n\n| Visuals      | MBarrier gauge is active        |\n|--------------|---------------------------------|\n| Effects:     | Halves all Magical damage       |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### Reflect\n\nOne of the most interesting Status Attributes, Reflect allows you to bounce away certain spells up to a maximum of four times per casting per character. A list of spells that cannot be reflected can be located in the next section.\n\n| Visuals      | None                                                                                                                                     |\n|--------------|------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Will reflect spells up to four times back at<br>caster, or random enemy if caster is an ally<br>Will only reflect certain magical spells |\n| Duration     | Until end of battle or exhausted                                                                                                         |\n| Protected by | 'Petrify', 'Peerless', 'Resist'                                                                                                          |\n| Cured by     | DeBarrier, DeSpell                                                                                                                       |\n\n#### Shield\n\nA very powerful defensive Status Attribute, second only to Peerless. It voids all normal attacks, and absorbs all Elemental Magic. However, it will not absorb Non-Elemental damage, and also, Items seem able to breach Shield and still cause full damage, whether they're Elemental items or not.\n\n| Visuals      | None                                                                                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Voids normal attacks<br>Absorbs Elemental Magic and Physical damage<br>Does not defend against Item damage or Non<br>Element Magic attacks |\n| Duration     | 17.5 units                                                                                                                                 |\n| Protected by | 'Petrify', 'Resist'                                                                                                                        |\n| Cured by     | DeBarrier, DeSpell                                                                                                                         |\n\n#### Death-sentence\n\nUnder this condition, a counter positioned above the character's head begins to count down to zero. If it does reach zero, then the Status Death is inflicted on the character, subject to protection from Death.\n\n| Visuals      | Character kneels/has timer above head                                                   |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | 60-unit Timer set on character<br>When Timer reaches 0, Death is inflicted on character |\n| Duration     | 60 units                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', 'Death Force', Ribbon,<br>Safety Bit                   |\n| Cured by     | None                                                                                    |\n\n#### Manipulate\n\nThe only Status Attribute that cannot be used on your party, Manipulate is a very useful tool. Using it on an enemy, if they're susceptible to it, will place the enemy under the character's command. Note that each character can only Manipulate one enemy at a time, and a single Physical hit will free the enemy from your control.\n\n| Visuals      | Character flashes Cyan                                         |\n|--------------|----------------------------------------------------------------|\n| Effects:     | Character is controlled by whomever used<br>Manipulate on them |\n| Duration     | Until end of battle                                            |\n| Protected by | 'Petrify', 'Resist', 'Sleep', 'Stop', 'Paralysed'              |\n| Cured by     | Any Physical hit, White Wind                                   |\n\n#### Berserk\n\nThis is a very risky Status Attribute. On the plus side, a character under this Attribute hits harder than usual with every attack. But on the minus, they cannot be controlled, and they randomly attack the enemy any time they can. It is also impossible to Critical Strike when under Berserk Status. Berserk has another use; it's an effective alternative to Silence when used on the enemy....\n\n| Visuals      | Character flashes Red                                                                                                                         |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character's Physical Damage is multiplied by 1.5<br>Character attacks random Enemy with Physical Attack<br>Impossible to get Critical Strikes |\n| Duration     | Until end of battle                                                                                                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring,<br>Mystify+Added Effect                                                                  |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper                                                                                                      |\n\n#### Peerless\n\nThe ultimate defensive Status Attribute. Unfortunately, only one character has the ability to use this: Aeris. When used, it fully voids all damage of any type, as well as acting like Resist with regards to Status Attributes. However, it has a limited duration, and the Void state makes it impossible to heal while under it, but it is still a formidable Attribute.\n\n| Visuals      | Character flashes Yellow                            |\n|--------------|-----------------------------------------------------|\n| Effects:     | Voids all damage<br>Immune to all Status Attributes |\n| Duration     | 17.5 units                                          |\n| Protected by | 'Petrify', 'Resist'                                 |\n| Cured by     | None                                                |\n\n#### Paralysed\n\nThe least powerful of the temporary 'Can't Act' Status Attributes, it's still a pain at times. It acts almost exactly like Sleep and while it lasts for a very short time, you can't cure it with a simple Physical attack.\n\n| Visuals      | Character kneels/Character animation speed paused |\n|--------------|---------------------------------------------------|\n| Effects:     | Character cannot Act                              |\n| Duration     | 8 units                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper          |\n\n#### Darkness\n\nA nuisance at best, Darkness simply reduces your attack accuracy, causing you to miss more often. It's easily cured, however, and it has little tactical use.\n\n| Visuals      | Character kneels/flashes Black                                      |\n|--------------|---------------------------------------------------------------------|\n| Effects:     | Character Accuracy% reduced                                         |\n| Duration     | Until end of battle                                                 |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Silver Glasses, Fairy Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Eye drop                  |\n\n### Dual\n\nThis extremely rare Status only turns up during one battle; that with Bottomswell. Whenever Bottomswell uses Waterpolo at you, both Imprisoned and Dual are placed on you. Dual is dangerous however; it acts like a reverse Regen. HP is drained over time, requiring swift attention.\n\n| Visuals      | None                                                                                  |\n|--------------|---------------------------------------------------------------------------------------|\n| Effects:     | Character steadily loses approximately 1/32 of<br>their Max HP over each unit of time |\n| Duration     | ???                                                                                   |\n| Protected by | ???                                                                                   |\n| Cured by     | Killing Waterpolo                                                                     |\n\n#### Death Force\n\nA useful status, which allows you to temporarily give yourself protection from Death until the end of the battle. Its usefulness stems from the fact that very few enemies actually use the Death Status. Recognize them, and you can possibly spare an Accessory slot or a few Materia slots and just rely on Death Force for protection when you need it. Of course, the disadvantage is that the immunity is temporary; if that character gets hit by DeSpell or White Wind or gets killed, then they will lose the immunity immediately.\n\n| Visuals      | None                |\n|--------------|---------------------|\n| Effects:     | Immune 'Death'      |\n| Duration     | Until end of battle |\n| Protected by | ???                 |\n| Cured by     | DeSpell, White Wind |\n\n#### Resist\n\nYou are never given any indication of when you have Resist, but its effects are quickly apparent; any Status change is prevented by the power of Resist. Unfortunately, that can also mean, for example, if you have Frog and then Resist is placed on you, you cannot then cure Frog without removing Resist first. Its best use is to trap enemies with certain Status Attributes so that they can't heal themselves. As a secondary use, it can be used as a temporary defense against nasty Statuses, but it's expensive, and not easy to remove.\n\n| Visuals      | None                            |\n|--------------|---------------------------------|\n| Effects:     | Immune to all Status Attributes |\n| Duration     | Until end of battle             |\n| Protected by | None                            |\n| Cured by     | DeSpell, White Wind             |\n\n#### Lucky Girl\n\nOnly one attack in the game can inflict this Status: Lucky Girl. This is one of the Limit Combinations in Cait Sith's Slot Limit. It is a somewhat useful status, causing all subsequent attacks to be Critical Strikes. However, this is offset by its rarity; most players will go through the game without ever seeing Lucky Girl.\n\n| Visuals      | None                                       |\n|--------------|--------------------------------------------|\n| Effects:     | All attacks are automatic Critical Strikes |\n| Duration     | ???                                        |\n| Protected by | ???                                        |\n| Cured by     | None                                       |\n\n#### Imprisoned\n\nThe final temporary 'Can't Act' Status. Unfortunately, the temporary nature of this status is dependant on what is causing it; various enemies have a few ways of dealing out this attribute, and each requires its own method of removing it. In addition, the character is flagged as 'Dead'. It is easily the worst of the four 'Can't Act' Statuses.\n\n| Visuals      | Character Animation speed paused                                                                      |\n|--------------|-------------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act<br>Character flagged as 'Dead'<br>Character cannot be targeted by attacks/spells |\n| Duration     | Until end of battle                                                                                   |\n| Protected by | None                                                                                                  |\n| Cured by     | Killing Pyramid, Waterpolo or Left Arm/Right Arm                                                      |\n\n#### **4.2 Special Notes On Statuses**\n\nIn addition to the above, the following notes must be taken into account.\n\n#### Colours\n\nThe different colors you flash have a priority system; if you currently have a Status that has a higher priority than another one you have, then you will flash the color of the higher priority Status. The priorities are:\n\n| Highest Priority |        |         |          | Lowest Priority |          |        |            |  |\n|------------------|--------|---------|----------|-----------------|----------|--------|------------|--|\n| Slow-numb        | Poison | Berserk | Peerless |                 | Darkness | Regen  | Manipulate |  |\n| GREY             | GREEN  | RED     | YELLOW   |                 | BLACK    | ORANGE | CYAN       |  |\n\nThus, if your character has both Darkness and Berserk on them, they'll flash Red rather than Black, because Berserk is the more important one to know about. (For instance, you don't want to mistake Slow-numb for Death-sentence just because you've got Regen on, do you?)\n\n#### Status Incompatibilities\n\nVarious statuses will cancel out other ones as soon as they're inflicted upon a character. The following table will demonstrate this:\n\n| Status Name | Cancels                                     |\n|-------------|---------------------------------------------|\n| Death       | All Status Attributes except Frog and Small |\n| Sleep       | Manipulate                                  |\n| Sadness     | Fury                                        |\n| Fury        | Sadness                                     |\n| Haste       | Slow                                        |\n| Slow        | Haste                                       |\n| Stop        | Manipulate                                  |\n\n| Status Name | Cancels               |\n|-------------|-----------------------|\n| Petrify     | Slow-numb, Manipulate |\n| Paralysed   | Manipulate            |\n\n#### Removing Conditions\n\nWhat follows are the various ways of removing multiple Status Attributes at the same time. Those not listed are self-explanatory (ie they tell you what they cure. Also, if something cures Petrify, then it also cures Slow-numb)\n\nNote: Healing spells and effects work in strict order, first healing HP, then removing Status Attributes from the top down. Thus, White Wind takes two tries to be able to remove, for example, Frog and Resist; the first time, it can't remove Frog because of Resist. The second try, Resist is gone, so it can finally remove Frog. Keep this in mind.\n\n| Status Name    | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n|----------------|-------|--------|-----------|---------|------------|---------------|\n| Death          | -     | -      | -         | -       | -          | O             |\n| Sleep          | O     | O      | -         | -       | O          | O             |\n| Poison         | O     | O      | -         | -       | O          | O             |\n| Sadness        | O     | O      | -         | -       | -          | -             |\n| Fury           | O     | O      | -         | -       | -          | -             |\n| Confusion      | O     | O      | -         | -       | O          | O             |\n| Silence        | O     | O      | -         | -       | O          | O             |\n| Haste          | -     | -      | -         | O       | -          | -             |\n| Slow           | -     | -      | -         | O       | O          | O             |\n| Stop           | -     | -      | -         | O       | O          | O             |\n| Frog           | O     | O      | -         | -       | O          | O             |\n| Small          | O     | O      | -         | -       | O          | O             |\n| Slow-numb      | O     | O      | -         | -       | O          | O             |\n| Petrify        | O     | O      | -         | -       | O          | O             |\n| Regen          | -     | -      | -         | O       | -          | -             |\n| Barrier        | -     | -      | O         | O       | -          | -             |\n| MBarrier       | -     | -      | O         | O       | -          | -             |\n| Reflect        | -     | -      | O         | O       | -          | -             |\n| Shield         | -     | -      | O         | O       | -          | -             |\n| Death-sentence | -     | -      | -         | -       | -          | -             |\n| Manipulate     | -     | -      | -         | -       | O          | -             |\n\n| Status Name | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n|-------------|-------|--------|-----------|---------|------------|---------------|\n| Berserk     | O     | O      | -         | -       | O          | O             |\n| Peerless    | -     | -      | -         | -       | -          | -             |\n| Paralysed   | O     | O      | -         | -       | O          | O             |\n| Darkness    | O     | O      | -         | -       | O          | O             |\n| Death Force | -     | -      | -         | O       | O          | -             |\n| Resist      | -     | -      | -         | O       | O          | -             |\n\nNote: Due to space constraints, it is difficult to fit any more abilities onto the above list. What's shown above are the most common ways of removing multiple statuses. The others can be summarized as such:\n\nHoly Torch: Cures everything DeSpell does except 'Death Force' and 'Resist'.\n\n#### Reflection\n\nFinally, the following skills can be reflected using the Status Reflect.\n\n#### Magic:\n\n| Cure   | Cure2 | Cure3 | Poisona | Esuna    | Resist | Life    | Life2 | Regen   | Fire    |\n|--------|-------|-------|---------|----------|--------|---------|-------|---------|---------|\n| Fire2  | Fire3 | Ice   | Ice2    | Ice3     | Bolt   | Bolt2   | Bolt3 | Quake   | Quake2  |\n| Quake3 | Bio   | Bio2  | Bio3    | Sleepel  | Confu  | Silence | Mini  | Toad    | Berserk |\n| Haste  | Slow  | Stop  | Barrier | MBarrier | Death  | Freeze  | Break | Tornado | Flare   |\n| Wall   |       |       |         |          |        |         |       |         |         |\n\n#### Enemy Skills:\n\n| Frog Song | L4 Suicide  | Magic Hammer | Death Force  | Flame Thrower |\n|-----------|-------------|--------------|--------------|---------------|\n| Laser     | Matra Magic | Aqualung     | Shadow Flare | Pandora's Box |\n\nAll Summons and Items are non-reflectable. As a companion to this section, here are the specific Magic and Enemy Skills that *CANNOT* be reflected.\n\n#### Magic:\n\n| Demi   | Demi2  | Demi3 | Reflect | DeBarrier | DeSpell |\n|--------|--------|-------|---------|-----------|---------|\n| Escape | Remove | Comet | Comet2  | FullCure  | Shield  |\n| Ultima |        |       |         |           |         |\n\n#### Enemy Skills:\n\n| White Wind   | Big Guard | Angel Whisper | Dragon Force | Bad Breath | Beta           | Trine    |\n|--------------|-----------|---------------|--------------|------------|----------------|----------|\n| Magic Breath | ????      | Goblin Punch  | Chocobuckle  | L5 Death   | Death Sentence | Roulette |\n\n#### **5. GAME OVER**\n\nThere are a number of ways to lose the game, most of which can only occur in battle.\n\nThe most common way is to have all three characters in your battle party flagged as 'Dead'. This involves losing each of your characters to any of the following situations:\n\n- 1. Gaining the Status 'Death'\n- 2. Gaining the Status 'Petrify'\n- 3. Gaining the Status 'Imprisoned'\n\n(This occurs if you are either picked up by one of Carry Armor's arms, or you are surrounded by Reno's Pyramid or Bottomswell's Waterpolo. You must destroy whatever is imprisoning the character to bring them back)\n\n4. Being knocked out of battle by Eat (used by Hungry), Goanni (used by Ghost Ship) or Whirlsand (used by Ruby Weapon). Midgar Zolom's Blown Away, Scissors(Upper)'s Scissor Tornado and Gighee's Sun Diver all knock you out of battle, but flag the character as escaped instead of dead; so instead, if all other characters die or are knocked out, the battle itself will count as an escape.\n\nIf you are still flagged as 'Dead' at the end of a successful battle, then that character will gain no EXP or AP from the battle. However, the Status 'Death' is the only one that lasts into the next battle if you don't cure it.\n\nYou will also lose the battle in one other special case: running out of time in the Emerald Weapon battle. This only occurs if you do not have the Underwater Materia equipped during that battle, however.\n\nNote that if you lose a battle in Battle Square, the Five Gods Pagoda or Fort Condor, you won't lose the game, just the battle. In all other cases, losing a battle means 'Game Over'.\n\nFinally, if you run out of time in the Mako Reactor 1 Mission, you will automatically lose the game, without having to be in battle.\n\n#### **6. CREDITS**\n\nA large majority of the work here is my own... but there are some people that I feel it is necessary to mention on this long road.\n\nThe Denizens of alt.games.final-fantasy.rpg:\n\nMy old haunt. More a shout-out rather than credit, but hey, it's where I began, really ^\\_^ It's also where I met...\n\n#### Qhimm:\n\n ...with whom I worked on the FF8 savemap with. Lots of fun, and we actually got something useful out of it: a working save editor that he programmed named Griever. It was also on his site that met others who took the same interest in this field. Which leads to....\n\nThe Denizens of Qhimm's Forum:\n\nThe SaiNt. Ficedula. Alhexx. And \\*especially\\* L.Spiro. There were others, of course, but those are\n\nthe names who stand out. Enemy Stats and Attack Properties would've been hell to compile without the effort made by those at Qhimm's Forum. I collected data myself, but understanding it? L.Spiro provided the first and most important step in deciphering the attack and enemy dumps.\n\nAnd... that's that, really. Hope you've enjoyed the show.\n\n**The FF7 Battle Mechanics, copyright 2001-2003 Terence Fergusson**\n\n#### **FF7 Party Mechanics**\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\n\n#### **FF7 Enemy Mechanics**\n\n#### **The Battle Scene**\n\n#### **1. ENEMY BATTLE SCENES (SCENE.BIN)**\n\nFF7 keeps each enemy battle configuration is a file called \"scene.bin\" This file is located in the following directories.\n\n| PSX Version            | PC Version        |  |  |\n|------------------------|-------------------|--|--|\n| /DATA/BATTLE/SCENE.BIN | /BATTLE/SCENE.BIN |  |  |\n\nThis file is exactly the same in both versions. This holds all the battle configurations for all enemies encountered in the game. It's format is as follows:\n\n#### **1.1 Scene.bin file format by Fremen**\n\nDate : September 30, 2003\n\nThese specifications are incomplete, so if you have got any idea about the unknown data blocks, please let me know. :)\n\nThe scene.bin file contains 256 gziped files which give us information for all the FF7 monsters. In order to find these files in scene.bin, you have to know that the file is structured with blocks exactly 0x2000 bytes in length. In the first table (scene.bin block), you will see what contains a block. Blocks are concatenated with each other to form the scene.bin file. So if you want to extract data from scene.bin, you'll need to find the correct blocks and to extract the gziped files from it. After that you simply ungzip those files and you'll find 256 files, with a length is 7808 bytes. Known information about those files can be found in the second table (The Data File specification).\n\nWe have 1024 possible battle numbers: 0 - 1023. Each group of \\*4\\* Battle Numbers refers to a particular Scene file: for instance, Battles 0-3 refer to File 0 in Scene.bin, Battles 4-7 refer to File 1 in Scene.bin, and so forth.\n\nScene.bin block (length : 0x2000 bytes)\n\n| Offset | Length  | Description                                                           |  |  |\n|--------|---------|-----------------------------------------------------------------------|--|--|\n| 0x0000 | 4 bytes | Pointer (in DWORD) of the first data file. Example :                  |  |  |\n|        |         | Offset_of_first_data_file_in_bytes = pointer*4                        |  |  |\n|        |         | pointer = 0xFFFFFFFF means that the end of block has been<br>reached. |  |  |\n| 0x0004 | 4 bytes | Second pointer of the second data file.                               |  |  |\n|        |         | pointer = 0xFFFFFFFF means that the end of block has been<br>reached. |  |  |\n|        |         |                                                                       |  |  |\n| 0x003C | 4 bytes | Last pointer. Usually 0xFFFFFFFF.                                     |  |  |\n\n| Offset          | Length                                | Description                                                                              |\n|-----------------|---------------------------------------|------------------------------------------------------------------------------------------|\n| 0x0040          | 4 * (pointer2-<br>pointer1) bytes     | First data file in block. It's a gziped file.                                            |\n|                 |                                       | Note : Sometimes it may finish by 0xFF bytes, because its size<br>must be multiple of 4. |\n| pointer2 * 4    | 4 * (pointer3-                        | Second data file in block. It's a gziped file.                                           |\n|                 | pointer2) bytes                       | Note : Sometimes it may finish by 0xFF bytes, because its size<br>must be multiple of 4. |\n| lastpointer * 4 | 4 * (0x2000-<br>lastpointer)<br>bytes | Last data file.                                                                          |\n|                 |                                       | Note : There's usually about 10 files in each block.                                     |\n|                 |                                       | Note : Each block finishes by 0xFF bytes, because its length must<br>be 0x2000 bytes.    |\n\nData File specifications (length : 7808 bytes)\n\n| Offset | Length   | Description                  |\n|--------|----------|------------------------------|\n| 0x0000 | 2 bytes  | Enemy ID 1                   |\n| 0x0002 | 2 bytes  | Enemy ID 2                   |\n| 0x0004 | 2 bytes  | Enemy ID 3                   |\n| 0x0006 | 2 bytes  | Padding (always 0xFFFF)      |\n| 0x0008 | 20 bytes | Battle set up 1, record 1    |\n| 0x001C | 20 bytes | Battle set up 1, record 2    |\n| 0x0030 | 20 bytes | Battle set up 1, record 3    |\n| 0x0044 | 20 bytes | Battle set up 1, record 4    |\n| 0x0058 | 48 bytes | Battle Setup 2, record 1     |\n| 0x0088 | 48 bytes | Battle Setup 2, record 2     |\n| 0x00B8 | 48 bytes | Battle Setup 2, record 3     |\n| 0x00E8 | 48 bytes | Battle Setup 2, record 4     |\n| 0x0118 | 16 bytes | Battle Formation 1, record 1 |\n| 0x0128 | 16 bytes | Battle Formation 1, record 2 |\n| 0x0138 | 16 bytes | Battle Formation 1, record 3 |\n| 0x0148 | 16 bytes | Battle Formation 1, record 4 |\n| 0x0158 | 16 bytes | Battle Formation 1, record 5 |\n| 0x0168 | 16 bytes | Battle Formation 1, record 6 |\n| 0x0178 | 16 bytes | Battle Formation 2, record 1 |\n| 0x0188 | 16 bytes | Battle Formation 2, record 2 |\n| 0x0198 | 16 bytes | Battle Formation 2, record 3 |\n| 0x01A8 | 16 bytes | Battle Formation 2, record 4 |\n| 0x01B8 | 16 bytes | Battle Formation 2, record 5 |\n\n| Offset | Length    | Description                  |\n|--------|-----------|------------------------------|\n| 0x01C8 | 16 bytes  | Battle Formation 2, record 6 |\n| 0x01D8 | 16 bytes  | Battle Formation 3, record 1 |\n| 0x01E8 | 16 bytes  | Battle Formation 3, record 2 |\n| 0x01F8 | 16 bytes  | Battle Formation 3, record 3 |\n| 0x0208 | 16 bytes  | Battle Formation 3, record 4 |\n| 0x0218 | 16 bytes  | Battle Formation 3, record 5 |\n| 0x0228 | 16 bytes  | Battle Formation 3, record 6 |\n| 0x0238 | 16 bytes  | Battle Formation 4, record 1 |\n| 0x0248 | 16 bytes  | Battle Formation 4, record 2 |\n| 0x0258 | 16 bytes  | Battle Formation 4, record 3 |\n| 0x0168 | 16 bytes  | Battle Formation 4, record 4 |\n| 0x0278 | 16 bytes  | Battle Formation 3, record 5 |\n| 0x0288 | 16 bytes  | Battle Formation 4, record 6 |\n| 0x0298 | 184 bytes | Enemy Data 1                 |\n| 0x0350 | 184 bytes | Enemy Data 2                 |\n| 0x0408 | 184 bytes | Enemy Data 3                 |\n| 0x04C0 | 28 bytes  | Attack Data 1                |\n| 0x04DC | 28 bytes  | Attack Data 2                |\n| 0x04F8 | 28 bytes  | Attack Data 3                |\n| 0x0514 | 28 bytes  | Attack Data 4                |\n| 0x0530 | 28 bytes  | Attack Data 5                |\n| 0x054C | 28 bytes  | Attack Data 6                |\n| 0x0568 | 28 bytes  | Attack Data 7                |\n| 0x0584 | 28 bytes  | Attack Data 8                |\n| 0x05A0 | 28 bytes  | Attack Data 9                |\n| 0x05BC | 28 bytes  | Attack Data 10               |\n| 0x05BC | 28 bytes  | Attack Data 11               |\n| 0x05F4 | 28 bytes  | Attack Data 12               |\n| 0x0610 | 28 bytes  | Attack Data 13               |\n| 0x062C | 28 bytes  | Attack Data 14               |\n| 0x0648 | 28 bytes  | Attack Data 15               |\n| 0x0664 | 28 bytes  | Attack Data 16               |\n| 0x0680 | 28 bytes  | Attack Data 17               |\n| 0x069C | 28 bytes  | Attack Data 18               |\n\n| Offset | Length   | Description    |\n|--------|----------|----------------|\n| 0x06B8 | 28 bytes | Attack Data 19 |\n| 0x06D4 | 28 bytes | Attack Data 20 |\n| 0x06F0 | 28 bytes | Attack Data 21 |\n| 0x070C | 28 bytes | Attack Data 22 |\n| 0x0728 | 28 bytes | Attack Data 23 |\n| 0x0744 | 28 bytes | Attack Data 24 |\n| 0x0760 | 28 bytes | Attack Data 25 |\n| 0x077C | 28 bytes | Attack Data 26 |\n| 0x0798 | 28 bytes | Attack Data 27 |\n| 0x07B4 | 28 bytes | Attack Data 28 |\n| 0x07D0 | 28 bytes | Attack Data 29 |\n| 0x07EC | 28 bytes | Attack Data 30 |\n| 0x0808 | 28 bytes | Attack Data 31 |\n| 0x0824 | 28 bytes | Attack Data 32 |\n| 0x0840 | 2 bytes  | Attack ID 1    |\n| 0x0842 | 2 bytes  | Attack ID 2    |\n| 0x0844 | 2 bytes  | Attack ID 3    |\n| 0x0846 | 2 bytes  | Attack ID 4    |\n| 0x0848 | 2 bytes  | Attack ID 5    |\n| 0x084A | 2 bytes  | Attack ID 6    |\n| 0x084C | 2 bytes  | Attack ID 7    |\n| 0x084E | 2 bytes  | Attack ID 8    |\n| 0x0850 | 2 bytes  | Attack ID 9    |\n| 0x0852 | 2 bytes  | Attack ID 10   |\n| 0x0854 | 2 bytes  | Attack ID 11   |\n| 0x0856 | 2 bytes  | Attack ID 12   |\n| 0x0858 | 2 bytes  | Attack ID 13   |\n| 0x085A | 2 bytes  | Attack ID 14   |\n| 0x085C | 2 bytes  | Attack ID 15   |\n| 0x085E | 2 bytes  | Attack ID 16   |\n| 0x0860 | 2 bytes  | Attack ID 17   |\n| 0x0862 | 2 bytes  | Attack ID 18   |\n| 0x0864 | 2 bytes  | Attack ID 19   |\n| 0x0866 | 2 bytes  | Attack ID 20   |\n\n| Offset | Length   | Description              |\n|--------|----------|--------------------------|\n| 0x0868 | 2 bytes  | Attack ID 21             |\n| 0x086A | 2 bytes  | Attack ID 22             |\n| 0x086C | 2 bytes  | Attack ID 23             |\n| 0x086E | 2 bytes  | Attack ID 24             |\n| 0x0870 | 2 bytes  | Attack ID 25             |\n| 0x0872 | 2 bytes  | Attack ID 26             |\n| 0x0874 | 2 bytes  | Attack ID 27             |\n| 0x0876 | 2 bytes  | Attack ID 28             |\n| 0x0878 | 2 bytes  | Attack ID 29             |\n| 0x087A | 2 bytes  | Attack ID 30             |\n| 0x087C | 2 bytes  | Attack ID 31             |\n| 0x087E | 2 bytes  | Attack ID 32             |\n| 0x0880 | 32 bytes | Attack name 1 (FF Text)  |\n| 0x08A0 | 32 bytes | Attack name 2 (FF Text)  |\n| 0x08C0 | 32 bytes | Attack name 3 (FF Text)  |\n| 0x08E0 | 32 bytes | Attack name 4 (FF Text)  |\n| 0x0900 | 32 bytes | Attack name 5 (FF Text)  |\n| 0x0920 | 32 bytes | Attack name 6 (FF Text)  |\n| 0x0940 | 32 bytes | Attack name 7 (FF Text)  |\n| 0x0960 | 32 bytes | Attack name 8 (FF Text)  |\n| 0x0980 | 32 bytes | Attack name 9 (FF Text)  |\n| 0x09A0 | 32 bytes | Attack name 10 (FF Text) |\n| 0x09C0 | 32 bytes | Attack name 11 (FF Text) |\n| 0x09E0 | 32 bytes | Attack name 12 (FF Text) |\n| 0x0A00 | 32 bytes | Attack name 13 (FF Text) |\n| 0x0A20 | 32 bytes | Attack name 14 (FF Text) |\n| 0x0A40 | 32 bytes | Attack name 15 (FF Text) |\n| 0x0A60 | 32 bytes | Attack name 16 (FF Text) |\n| 0x0A80 | 32 bytes | Attack name 17 (FF Text) |\n| 0x0AA0 | 32 bytes | Attack name 18 (FF Text) |\n| 0x0AC0 | 32 bytes | Attack name 19 (FF Text) |\n| 0x0AE0 | 32 bytes | Attack name 20 (FF Text) |\n| 0x0B00 | 32 bytes | Attack name 21 (FF Text) |\n| 0x0B20 | 32 bytes | Attack name 22 (FF Text) |\n\n| Offset | Length     | Description               |\n|--------|------------|---------------------------|\n| 0x0B40 | 32 bytes   | Attack name 23 (FF Text)  |\n| 0x0B60 | 32 bytes   | Attack name 24 (FF Text)  |\n| 0x0B80 | 32 bytes   | Attack name 25 (FF Text)  |\n| 0x0BA0 | 32 bytes   | Attack name 26 (FF Text)  |\n| 0x0BC0 | 32 bytes   | Attack name 27 (FF Text)  |\n| 0x0BE0 | 32 bytes   | Attack name 28 (FF Text)  |\n| 0x0C00 | 32 bytes   | Attack name 29 (FF Text)  |\n| 0x0C20 | 32 bytes   | Attack name 30 (FF Text)  |\n| 0x0C40 | 32 bytes   | Attack name 31 (FF Text)  |\n| 0x0C60 | 32 bytes   | Attack name 32 (FF Text)  |\n| 0x0C80 | 512 bytes  | FF Padding (0xFF)         |\n| 0x0E80 | 2 bytes    | Enemy AI Offset, record 1 |\n| 0x0E82 | 2 bytes    | Enemy AI Offset, record 2 |\n| 0x0E84 | 2 bytes    | Enemy AI Offset, record 3 |\n| 0x0E86 | 26 bytes   | Unknown                   |\n| 0x0EA0 | 4063 bytes | Beginning of AI Data      |\n|        |            | Starts with 6 bytes of FF |\n\nBattle Setup 1 Record format (length : 16 bytes)\n\n| Offset | Length  | Description                                 |\n|--------|---------|---------------------------------------------|\n| 0x0000 | 2 bytes | Battle Location, description is as follows: |\n|        |         | 0x0000: Blank                               |\n|        |         | 0x0001: Bizarro Battle - Center             |\n|        |         | 0x0002: Grassland                           |\n|        |         | 0x0003: Mt Nibel                            |\n|        |         | 0x0004: Forest                              |\n|        |         | 0x0005: Beach                               |\n|        |         | 0x0006: Desert                              |\n|        |         | 0x0007: Snow                                |\n|        |         | 0x0008: Swamp                               |\n|        |         | 0x0009: Sector 1 Train Station              |\n|        |         | 0x000A: Reactor 1                           |\n|        |         | 0x000B: Reactor 1 Core                      |\n|        |         | 0x000C: Reactor 1 Entrance                  |\n|        |         | 0x000D: Sector 4 Subway                     |\n\n| 0x000E: Nibel Caves or AForest Caves<br>0x000F: Shinra HQ<br>0x0010: Midgar Raid Subway<br>0x0011: Hojo's Lab<br>0x0012: Shinra Elevators<br>0x0013: Shinra Roof<br>0x0014: Midgar Highway<br>0x0015: Wutai Pagoda<br>0x0016: Church<br>0x0017: Coral Valley<br>0x0018: Midgar Slums<br>0x0019: Sector 4 Corridors or Junon Path<br>0x001A: Sector 4 Gantries or Midgar Underground<br>0x001B: Sector 7 Support Pillar Stairway<br>0x001C: Sector 7 Support Pillar Top<br>0x001D: Sector 8<br>0x001E: Sewers<br>0x001F: Mythril Mines<br>0x0020: Northern Crater - Floating Platforms<br>0x0021: Corel Mountain Path<br>0x0022: Junon Beach<br>0x0023: Junon Cargo Ship | Offset | Length | Description |  |\n|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|--------|-------------|--|\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |        |        |             |  |\n| 0x0024: Corel Prison                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |        |        |             |  |\n| 0x0025: Battle Square                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |        |        |             |  |\n| 0x0026: Da Chao - Rapps Battle                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |        |        |             |  |\n| 0x0027: Cid's Backyard                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n| 0x0028: Final Descent to Sephiroth                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |        |        |             |  |\n| 0x0029: Reactor 5 Entrance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |        |        |             |  |\n| 0x002A: Temple of the Ancients - Escher Room                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |        |        |             |  |\n| 0x002B: Shinra Mansion                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n| 0x002C: Junon Airship Dock                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |        |        |             |  |\n| 0x002D: Whirlwind Maze                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |        |        |             |  |\n| 0x002E: Junon Underwater Reactor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |        |        |             |  |\n| 0x002F: Gongaga Reactor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |        |             |  |\n\n| Offset | Length | Description                                            |  |  |\n|--------|--------|--------------------------------------------------------|--|--|\n|        |        | 0x0030: Gelnika                                        |  |  |\n|        |        | 0x0031: Train Graveyard                                |  |  |\n|        |        | 0x0032: Great Glacier Ice Caves & Gaea Cliffs - Inside |  |  |\n|        |        | 0x0033: Sister Ray                                     |  |  |\n|        |        | 0x0034: Sister Ray Base                                |  |  |\n|        |        | 0x0035: Forgotten City Altar                           |  |  |\n|        |        | 0x0036: Northern Crater - Initial Descent              |  |  |\n|        |        | 0x0037: Northern Crater - Hatchery                     |  |  |\n|        |        | 0x0038: Northern Crater - Water Area                   |  |  |\n|        |        | 0x0039: Safer Battle                                   |  |  |\n|        |        | 0x003A: Kalm Flashback - Dragon Battle                 |  |  |\n|        |        | 0x003B: Junon Underwater Pipe                          |  |  |\n|        |        | 0x003C: Blank                                          |  |  |\n|        |        | 0x003D: Corel Railway - Canyon                         |  |  |\n|        |        | 0x003E: Whirlwind Maze - Crater                        |  |  |\n|        |        | 0x003F: Corel Railway - Rollercoaster                  |  |  |\n|        |        | 0x0040: Wooden Bridge                                  |  |  |\n|        |        | 0x0041: Da Chao                                        |  |  |\n|        |        | 0x0042: Fort Condor                                    |  |  |\n|        |        | 0x0043: Dirt Wasteland                                 |  |  |\n|        |        | 0x0044: Bizarro Battle - Right Side                    |  |  |\n|        |        | 0x0045: Bizarro Battle - Left Side                     |  |  |\n|        |        | 0x0046: Jenova*SYNTHESIS Battle                        |  |  |\n|        |        | 0x0047: Corel Train Battle                             |  |  |\n|        |        | 0x0048: Cosmo Canyon                                   |  |  |\n|        |        | 0x0049: Caverns of the Gi                              |  |  |\n|        |        | 0x004A: Nibelheim Mansion Basement                     |  |  |\n|        |        | 0x004B: Temple of the Ancients - Demons Gate           |  |  |\n|        |        | 0x004C: Temple of the Ancients - Mural Room            |  |  |\n|        |        | 0x004D: Temple of the Ancients - Clock Passage         |  |  |\n|        |        | 0x004E: Final Battle - Sephiroth                       |  |  |\n|        |        | 0x004F: Jungle                                         |  |  |\n|        |        | 0x0050: Ultimate Weapon - Battle on Highwind           |  |  |\n|        |        | 0x0051: Corel Reactor                                  |  |  |\n|        |        |                                                        |  |  |\n\n| Offset | Length<br>Description |                                           |  |  |\n|--------|-----------------------|-------------------------------------------|--|--|\n|        |                       | 0x0052: Unused                            |  |  |\n|        |                       | 0x0053: Don Corneo's Mansion              |  |  |\n|        |                       | 0x0054: Emerald Weapon Battle             |  |  |\n|        |                       | 0x0055: Reactor 5                         |  |  |\n|        |                       | 0x0056: Shinra HQ - Escape                |  |  |\n|        |                       | 0x0057: Ultimate Weapon - Gongaga Reactor |  |  |\n|        |                       | 0x0058: Corel Prison - Dyne Battle        |  |  |\n|        |                       | 0x0059: Ultimate Weapon - Forest          |  |  |\n|        |                       |                                           |  |  |\n| 0x0002 | 14 bytes              | Unknown                                   |  |  |\n\nEnemy Data (length : 184 bytes)\n\n| Offset | Length   | Description                            |                 |  |  |\n|--------|----------|----------------------------------------|-----------------|--|--|\n| 0x0000 | 32 bytes | Enemy's name (completed by 0xFF bytes) |                 |  |  |\n| 0x0020 | 1 byte   | Enemy's level                          |                 |  |  |\n| 0x0021 | 1 byte   | Enemy's speed                          |                 |  |  |\n| 0x0022 | 1 byte   | Enemy's luck                           |                 |  |  |\n| 0x0023 | 1 byte   | Enemy's physical dodge                 |                 |  |  |\n| 0x0024 | 1 byte   | Enemy's strength                       |                 |  |  |\n| 0x0025 | 1 byte   | Enemy's physical defense               |                 |  |  |\n| 0x0026 | 1 byte   | Enemy's magic power                    |                 |  |  |\n| 0x0027 | 1 byte   | Enemy's magic defense                  |                 |  |  |\n| 0x0028 | 8 bytes  | Elements :                             |                 |  |  |\n|        |          | 0x00 Fire                              | 0x08 Scare      |  |  |\n|        |          | 0x01 Ice                               | 0x09 Health     |  |  |\n|        |          | 0x02 Bolt                              | 0x0A Cut        |  |  |\n|        |          | 0x03 Earth                             | 0x0B Hit        |  |  |\n|        |          | 0x04 Bio                               | 0x0C Punch      |  |  |\n|        |          | 0x05 Gravity                           | 0x0D Shoot      |  |  |\n|        |          | 0x06 Water                             | 0x0E Scream     |  |  |\n|        |          | 0x07 Wind                              | 0xFF No element |  |  |\n\n| Offset | Length   | Description                                                                                  |  |  |  |\n|--------|----------|----------------------------------------------------------------------------------------------|--|--|--|\n| 0x0030 | 8 bytes  | Describes the link between the enemy and the previous<br>elements (respectively) as follows: |  |  |  |\n|        |          | 0x00 Death                                                                                   |  |  |  |\n|        |          | 0x02 Weakness (200% damage)                                                                  |  |  |  |\n|        |          | 0x04 Resist (50% damage)                                                                     |  |  |  |\n|        |          | 0x05 Defense (0% damage)                                                                     |  |  |  |\n|        |          | 0x06 Absorb (-100% damage)                                                                   |  |  |  |\n|        |          | 0x07 HP Max                                                                                  |  |  |  |\n|        |          | 0xFF Nothing                                                                                 |  |  |  |\n| 0x0038 | 84 bytes | Unknown data. Seems to contain informations about<br>every action and attitude of the Enemy. |  |  |  |\n| 0x008C | 2 bytes  | Object you can win at the battle's end.                                                      |  |  |  |\n| 0x008F | 2 bytes  | Object you can steel. 0xFFFF if not.                                                         |  |  |  |\n| 0x0091 | 12 bytes | Unknown data                                                                                 |  |  |  |\n| 0x009D | 2 bytes  | Enemy's MP                                                                                   |  |  |  |\n| 0x009F | 2 bytes  | AP you receive when you finish the battle                                                    |  |  |  |\n| 0x00A1 | 2 bytes  | Enemy can be transformed to this object. 0xFFFF if not.                                      |  |  |  |\n| 0x00A3 | 2 bytes  | Usually 0x10 and 0xFF                                                                        |  |  |  |\n| 0x00A5 | 4 bytes  | Enemy's HP                                                                                   |  |  |  |\n| 0x00A9 | 4 bytes  | Exp you receive if you finish the battle                                                     |  |  |  |\n| 0x00AD | 4 bytes  | Gil you receive if you finish battle                                                         |  |  |  |\n| 0x00B1 | 4 bytes  | Usually 4 \"random\" numbers                                                                   |  |  |  |\n| 0x00B5 | 4 bytes  | Usually FF FF FF FF                                                                          |  |  |  |\n\n#### **Magic Scripting**\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.\n\n#### **PSX 3D battle Scenes by Micky**\n\nBackgrounds are stored in probably the easiest model format used in FF7. I reconstructed this from the code for my background-to-Maya converter, so there could be errors. I haven't seen any other documentation on this, so please excuse any duplication...\n\nThe backgrounds are stored in LZS files in the STAGE1 and STAGE2 directories. They are using the ff7-standard lzs compression.\n\nThey begin with a directory: The first word is the number of sections, then there is one pointer for each sections. Each section contains a mesh for the background, except for the first that contains some unknown data and the last that contains the TIM-format texture and palettes.\n\nEach section starts with vertex data, followed by a triangle and a quad data.\n\n```\nVertex data:\n1 u32 size of vertex data\n8 byte per vertex:\n3 u16 x,y,z\n1 u16 pad(?)\nTriangle data\n1 u16 number of triangles\n1 u16 texture page (among other flags)\n16 bytes per triangle:\n3 u16 offset into vertex table\n1 u16 unknown\n2 u8 u1, v1\n1 u16 palette (and some other flags)\n2 u8 u2, v2\n```\n\nQuad data\n\n2 u8 u3, v3\n\n- 1 u16 number of quads\n- 1 u16 texture page (among other flags)\n\n#### 20 bytes per quad:\n\n- 4 u16 offset into vertex table\n- 2 u8 u1, v1\n- 1 u16 palette\n- 2 u8 u2, v2\n- 2 u8 u3, v3\n- 2 u8 u4, v4\n- 1 u16 unknown\n\nDisplaying the backgrounds is a bit tricky on modern graphics boards, as they don't support palletized textures anymore. Which is understandable given the large number of fetches that would be required for displaying a properly filtered texture - but not very helpful. I solved that by a pre-process that stores the palette on each pixel and then looks up the color during export.\n\n#### **PSX battle models structure by Cyberman**\n\n#### Terms\n\nBYTE - is an unsigned 8 bit binary string WORD - is an unsigned 16 bit binary string DOUBLE WORD - is an unsigned 32 bit binary string Values are SIGNED if they say so, otherwise they are assumable as unsigned.\n\nMany of the PSX files data files use LZS compression.\n\n#### Combat Models\n\nCombat Models occupy directories\n\nENEMY1\n\nENEMY2\n\nENEMY3\n\nENEMY4\n\nENEMY5\n\nENEMY6\n\non the CD\n\nENEMY6 contains the character models and their weapons, including the hires version of Cloud and Sepheroth.\n\n#### Model format\n\nThe first 4 bytes of the LZS file contains the uncompressed size of the LZS compressed data, as a double word. The actual compressed data follows after this this double word.\n\nAfter the compressed information is decompressed in the model. The first double word contains the number of sections in the model file (SEC\\_COUNT). Following this is SEC\\_COUNT double words. This is an array of offsets to data sections within the model.\n\n```\nFormat information\n[ DOUBLE WORD ] Section Count\n[ DOUBLE WORD ] OFFSET SECTION 1 \n[ DOUBLE WORD ] OFFSET SECTION 2\n... \n[ DOUBLE WORD ] OFFSET SECTION N\n```\n\nSection Identification, what they are.\n\nThe first section of a model is the actual model information.\n\nThere is ALWAYS a TIM image as one of the sections, you MUST find this TIM section before doing anything with the model. For models that have no textures applied to them, the TIM image consists of a 16 entry palette and a 1 unit tall 0 units wide 4bits per pixel image.\n\nAll sections from section 2 to before the TIM image are animation sequences. This is nearly identical to the format used on the PC.\n\nOn character models there are 16 sections past the TIM image, these are the weapon models. They have the same format as section 1.\n\n#### Section 1 format.\n\nSection 1 has several parts to it. It is important to VERY carefully look at the structure starting this section. The begining of the section is the BONE COUNT. The ROOT BONE follows this, it is NOT counted as a bone and is ALL ZEROs.\n\nA bone is a structure here it is in C/C++\n\n```\ntypedef struct \n{ \nUINT16 Parent; \nINT16 Length; \nUINT32 Offset; \n} \nFF7_BONE;\n```\n\nParent 0 is the root bone (the root bone is always relative to itself since it is the ROOT). Offset is the offset from the beginning of the section to the actual data for the polygons that makes on the 3d structure. A bone with an OFFSET of ZERO is a JOINT. It has NO physical shape. Objects are drawn from parent to child. All bone lengths are negative and should be drawn with this is mind (otherwise it will mess up rendering it).\n","numLines":800,"startLine":800,"totalLines":1790}}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01B7puFXxAuBoed6stevxNkM","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Lx56CBSmaKG8FKdQXDDXhx","name":"Read","input":{"file_path":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","offset":1600,"limit":400}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":20206,"cache_read_input_tokens":82300,"cache_creation":{"ephemeral_5m_input_tokens":20206,"ephemeral_1h_input_tokens":0},"output_tokens":142,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"7b71462a-7ae6-472f-8b1a-22d70528a928"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Lx56CBSmaKG8FKdQXDDXhx","type":"tool_result","content":"  1600â†’#### Physical shape data:\n  1601â†’\n  1602â†’The bone offset points to a double word whose value is \\* 8 the vertex count (or it is the SIZE in bytes of the vertex pool and therefore is always a multiple of 8) After the vertex pool comes the texture triangle count and offset. This will be zero if there are no textures. Next come the textured triangles.\n  1603â†’\n  1604â†’```\n  1605â†’typedef struct \n  1606â†’{ \n  1607â†’UINT16 A; \n  1608â†’UINT16 B; \n  1609â†’UINT16 C; \n  1610â†’UINT16 D; \n  1611â†’} \n  1612â†’FF7_POLY; \n  1613â†’typedef struct \n  1614â†’{ \n  1615â†’FF7_POLY Vertexs; \n  1616â†’UINT8 U0, V0; \n  1617â†’UINT16 PAL; \n  1618â†’UINT8 U1, V1; \n  1619â†’UINT8 U2, V2; \n  1620â†’} \n  1621â†’FF7_TTRI;\n  1622â†’```\n  1623â†’\n  1624â†’Two structures are shown for a reason. FF7\\_POLY is a list of offsets into the Vertex pool for each vertex the triangle is made up of. Square follows the LEFT HAND RULE for there ordering to know which way the surface is facing. PAL is actually a bit field that includes information as to which palette the texture information for this triangle is using (see TIM format). U, V are the offset from the upper left corner of the image the coordinates of the texture are pined on.\n  1625â†’\n  1626â†’Next comes the textured Quads count and the textured quads. The textured quads are a structured as follows.\n  1627â†’\n  1628â†’```\n  1629â†’typedef struct \n  1630â†’{ \n  1631â†’FF7_POLY Vertexs; \n  1632â†’UINT8 U0, V0; \n  1633â†’UINT16 PAL; \n  1634â†’UINT8 U1, V1; \n  1635â†’UINT8 U2, V2; \n  1636â†’UINT8 U3, V3; \n  1637â†’UINT16 ZZ1; \n  1638â†’} \n  1639â†’FF7_TQUAD;\n  1640â†’```\n  1641â†’\n  1642â†’The purpose of ZZ1 in the Quadric version is UNKOWN. On ALL quads in the PSX version of FF7 the ordering of the vertices are A B D C. This is a result of the hardware on the PSX rendering a quadric using 2 triangles in hardware. It is again following the LEFT HAND rule of ordered vertices. To compute the palette number to use you tal PAL and shift it right 7 bits then and it with 7. These three bits are the palette to use for the texture for that triangle or quadric.\n  1643â†’\n  1644â†’Next comes the triangle count and the triangles, the format of the colored vertex triangles are as follows.\n  1645â†’\n  1646â†’```\n  1647â†’typedef struct \n  1648â†’{ \n  1649â†’UINT8 R; \n  1650â†’UINT8 G; \n  1651â†’UINT8 B; \n  1652â†’UINT8 U; \n  1653â†’} \n  1654â†’FF7_CLR; \n  1655â†’typedef struct \n  1656â†’{ \n  1657â†’FF7_POLY Vertexs; \n  1658â†’FF7_CLR Colors[3]; \n  1659â†’} \n  1660â†’FF7_TRI;\n  1661â†’```\n  1662â†’\n  1663â†’The vertices for these are again word sized offsets into the vertex pool. The game uses 24 bit colored vertices in spite of being shown in only 15bit color.\n  1664â†’\n  1665â†’Next comes the colored vertex quadric count and information there format is as follows.\n  1666â†’\n  1667â†’```\n  1668â†’typedef struct \n  1669â†’{ \n  1670â†’FF7_POLY Vertexs; \n  1671â†’FF7_CLR Colors[4]; \n  1672â†’} \n  1673â†’FF7_QUAD;\n  1674â†’```\n  1675â†’\n  1676â†’It has the same A B D C ordering as the textured quads, be sure to follow this or things will NOT come out right.\n  1677â†’\n  1678â†’There is NO more information after this save likely the vertex pool for the next bone.\n  1679â†’\n  1680â†’It is important to remember that the TIM image contains where to place the time data and often 1 to 3 palettes. The palettes are used in conjunction with the bit data. There are transparent pixels sometimes in textures. These choose the palette entry that has bit 15 set. This is the transparency bit on the PSX, ALWAYS REMEMBER that it makes that part of the texture transparent when trying to display the model.\n  1681â†’\n  1682â†’Animation format covered elsewhere.\n  1683â†’\n  1684â†’The TIM format is covered elsewhere.\n  1685â†’\n  1686â†’The battle models are IDENTICAL in format as the physical bone description. They consist of 1 bone with one vertex pool and NO textures, any special transparencies one might see in the game are handled by the game, it's not part of the model. The same code you would use to show a single bone, you can use to show a weapon.\n  1687â†’\n  1688â†’#### **PC battle models structure by Mirex**\n  1689â†’\n  1690â†’Final Fantasy 7 battle models are stored in file 'battle.lpg' under FF7/DATA/BATTLE directory. Data can be unpacked by my program Unmass (you can get it at my web, http://mirex.mypage.sk) or by other programs like Ficedula's LGPtools (at http://ficedula.cjb.net)\n  1691â†’\n  1692â†’The LPG file contains many small files with 4-letters long filenames. File classification can be determined by first two letters of the filename. Files with same first two letters belong to same 3d model. Files 'aa'-'of' are Enemy models, 'og'-'rr' are battle scenes, and 'rs'-'sm' are player models. For example files starting with 'rt' belong to Cloud's model. More info can be found in Alhexx's battle database (http://www.alhexx.com/descriptions/other/battle\\_database.txt) or in my database (http://mirex.mypage.sk/FILES/monsters.txt)\n  1693â†’\n  1694â†’Every character model has around 20-40 files, depends on its complexity. File type can be determined by 3rd and 4th character of filename. Files that end with 'aa', are skeleton informations, 'ac'-'al' are textures (.TEX files) 'am'-'cj' are body parts (.P files), 'ck'-'cz' are player's weapons(.P files), 'da' are animations files. I have no idea what is inside 'ab' file. For example 'rtck' is model file which contains Cloud's first weapon, Buster sword, because 'rt' = clouds files and 'ck' = 1st weapon file.\n  1695â†’\n  1696â†’Summon models are stored similarly to battle models, but they are stored in magic.lgp, and their filenames are different. Models (P-files) have names \"creature.p??\" where ?? is model part number, textures have names \"creature.t??\", skelet info has name \"creature.d\" and animations are in files \"creature.a??\".\n  1697â†’\n  1698â†’#### File Structure Info\n  1699â†’\n  1700â†’-- 'AA' - skeleton - file consists of these parts: --\n  1701â†’\n  1702â†’header - (see structure FF7AAheader below, 52 bytes) it is followed by bone info for each bone (FF7AAbone structure, 12 bytes each) And thats it. Nothing more there.\n  1703â†’\n  1704â†’If bone's parent is -1 then it begins at center of coordinate system. Else it is child of its parent bone\n  1705â†’\n  1706â†’```\n  1707â†’//offset\n  1708â†’struct {\n  1709â†’     unsigned long u1[3]; //0\n  1710â†’     unsigned long bones; //12 number of model bones\n  1711â†’     unsigned long u2[3]; //16\n  1712â†’     unsigned long a; //28\n  1713â†’     unsigned long b; //32 maybe number of body part models\n  1714â†’     unsigned long u3[4]; //36\n  1715â†’} FF7AAheader; //size is 52 bytes\n  1716â†’struct {\n  1717â†’     long parent; //0 index of parent bone, -1 = root node\n  1718â†’     float length; //4 length of bone, always is negative.\n  1719â†’     unsigned long model; //8 1=bone has body part, 0=has no body part\n  1720â†’} FF7AAbone; //size is 12 bytes\n  1721â†’```\n  1722â†’\n  1723â†’-- 'DA' - animations - file consists of these parts: -- First there is 4 bytes long integer which holds number of animations in the file\n  1724â†’\n  1725â†’Then for each animation there is:\n  1726â†’\n  1727â†’FF7AAanimHdr structure (see below) and animation data (see below too)\n  1728â†’\n  1729â†’```\n  1730â†’struct s_FF7AAanimHdr {\n  1731â†’    unsigned long rec_a; //0\n  1732â†’    unsigned long rec_b; //4\n  1733â†’    unsigned long block_len; //8\n  1734â†’    unsigned short block_a; //12\n  1735â†’    unsigned short real_data_len; //14\n  1736â†’    unsigned short translat[3]; //16\n  1737â†’    unsigned char u1; //22\n  1738â†’} FF7AAanimHdr; //size = 23 bytes\n  1739â†’```\n  1740â†’\n  1741â†’Size of animation data is ( FF7AAanimHdr.block\\_len - 11 ), because variables (block\\_a, real\\_data\\_len, translat, u1 are in it) are included in data length.\n  1742â†’\n  1743â†’#### Animation Data\n  1744â†’\n  1745â†’In the animation data there are rotation angles for each bone of the 3D model. Angles are not stored as its usual, in 4 byte floats, but in 12bit integers (that means one integer takes 1.5 byte, 3 angles (rotations for one bone) take up 4.5 bytes !). 4.5 bytes = 36 bits = 3 \\* 12 bits, so for example if model has 10 bones all rotations are stored in 45 bytes. 12bits can hold value from 0 to 4095. It can be translated into usual angles\n  1746â†’\n  1747â†’```\n  1748â†’0 euler = 0 degrees and 4096 euler = 360 degrees, so formula is degrees = euler * 360 / 4096\n  1749â†’```\n  1750â†’\n  1751â†’The animation data are not understood well yet, so usually only first frame and few other frames look as they should when you read them this way.\n  1752â†’\n  1753â†’Example of rotation data:\n  1754â†’\n  1755â†’#### Data in hex:\n  1756â†’\n  1757â†’| DC | BF | FE | 00 | 3E |\n  1758â†’|----|----|----|----|----|\n  1759â†’|----|----|----|----|----|\n  1760â†’\n  1761â†’#### Data in binary:\n  1762â†’\n  1763â†’| D       | C    | B    | F       | F    | E    | 0       | 0    | 3                             | E    |\n  1764â†’|---------|------|------|---------|------|------|---------|------|-------------------------------|------|\n  1765â†’| 1101    | 1100 | 1011 | 1111    | 1111 | 1110 | 0000    | 0000 | 0011                          | 1110 |\n  1766â†’| Angle X |      |      | Angle Y |      |      | Angle Z |      | Beginning of another rotation |      |\n  1767â†’\n  1768â†’| X   | Y   | Z   |   |\n  1769â†’|-----|-----|-----|---|\n  1770â†’| DCB | FFE | 003 | E |\n  1771â†’\n  1772â†’#### Data in decimal, euler\n  1773â†’\n  1774â†’| X    | Y    | Z |\n  1775â†’|------|------|---|\n  1776â†’| 3531 | 4094 | 3 |\n  1777â†’\n  1778â†’#### Data in degrees ( \\* 360 / 4096 )\n  1779â†’\n  1780â†’| X     | Y     | Z   |  |\n  1781â†’|-------|-------|-----|--|\n  1782â†’| 310.3 | 359.8 | 0.2 |  |\n  1783â†’\n  1784â†’#### **Data Organization**\n  1785â†’\n  1786â†’- -Textures\n  1787â†’- -Sprites\n  1788â†’- -Models\n  1789â†’\n  1790â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"8463133c-5fdb-4626-a65f-5b422bd3f2f9","tool_use_result":{"type":"text","file":{"filePath":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","content":"#### Physical shape data:\n\nThe bone offset points to a double word whose value is \\* 8 the vertex count (or it is the SIZE in bytes of the vertex pool and therefore is always a multiple of 8) After the vertex pool comes the texture triangle count and offset. This will be zero if there are no textures. Next come the textured triangles.\n\n```\ntypedef struct \n{ \nUINT16 A; \nUINT16 B; \nUINT16 C; \nUINT16 D; \n} \nFF7_POLY; \ntypedef struct \n{ \nFF7_POLY Vertexs; \nUINT8 U0, V0; \nUINT16 PAL; \nUINT8 U1, V1; \nUINT8 U2, V2; \n} \nFF7_TTRI;\n```\n\nTwo structures are shown for a reason. FF7\\_POLY is a list of offsets into the Vertex pool for each vertex the triangle is made up of. Square follows the LEFT HAND RULE for there ordering to know which way the surface is facing. PAL is actually a bit field that includes information as to which palette the texture information for this triangle is using (see TIM format). U, V are the offset from the upper left corner of the image the coordinates of the texture are pined on.\n\nNext comes the textured Quads count and the textured quads. The textured quads are a structured as follows.\n\n```\ntypedef struct \n{ \nFF7_POLY Vertexs; \nUINT8 U0, V0; \nUINT16 PAL; \nUINT8 U1, V1; \nUINT8 U2, V2; \nUINT8 U3, V3; \nUINT16 ZZ1; \n} \nFF7_TQUAD;\n```\n\nThe purpose of ZZ1 in the Quadric version is UNKOWN. On ALL quads in the PSX version of FF7 the ordering of the vertices are A B D C. This is a result of the hardware on the PSX rendering a quadric using 2 triangles in hardware. It is again following the LEFT HAND rule of ordered vertices. To compute the palette number to use you tal PAL and shift it right 7 bits then and it with 7. These three bits are the palette to use for the texture for that triangle or quadric.\n\nNext comes the triangle count and the triangles, the format of the colored vertex triangles are as follows.\n\n```\ntypedef struct \n{ \nUINT8 R; \nUINT8 G; \nUINT8 B; \nUINT8 U; \n} \nFF7_CLR; \ntypedef struct \n{ \nFF7_POLY Vertexs; \nFF7_CLR Colors[3]; \n} \nFF7_TRI;\n```\n\nThe vertices for these are again word sized offsets into the vertex pool. The game uses 24 bit colored vertices in spite of being shown in only 15bit color.\n\nNext comes the colored vertex quadric count and information there format is as follows.\n\n```\ntypedef struct \n{ \nFF7_POLY Vertexs; \nFF7_CLR Colors[4]; \n} \nFF7_QUAD;\n```\n\nIt has the same A B D C ordering as the textured quads, be sure to follow this or things will NOT come out right.\n\nThere is NO more information after this save likely the vertex pool for the next bone.\n\nIt is important to remember that the TIM image contains where to place the time data and often 1 to 3 palettes. The palettes are used in conjunction with the bit data. There are transparent pixels sometimes in textures. These choose the palette entry that has bit 15 set. This is the transparency bit on the PSX, ALWAYS REMEMBER that it makes that part of the texture transparent when trying to display the model.\n\nAnimation format covered elsewhere.\n\nThe TIM format is covered elsewhere.\n\nThe battle models are IDENTICAL in format as the physical bone description. They consist of 1 bone with one vertex pool and NO textures, any special transparencies one might see in the game are handled by the game, it's not part of the model. The same code you would use to show a single bone, you can use to show a weapon.\n\n#### **PC battle models structure by Mirex**\n\nFinal Fantasy 7 battle models are stored in file 'battle.lpg' under FF7/DATA/BATTLE directory. Data can be unpacked by my program Unmass (you can get it at my web, http://mirex.mypage.sk) or by other programs like Ficedula's LGPtools (at http://ficedula.cjb.net)\n\nThe LPG file contains many small files with 4-letters long filenames. File classification can be determined by first two letters of the filename. Files with same first two letters belong to same 3d model. Files 'aa'-'of' are Enemy models, 'og'-'rr' are battle scenes, and 'rs'-'sm' are player models. For example files starting with 'rt' belong to Cloud's model. More info can be found in Alhexx's battle database (http://www.alhexx.com/descriptions/other/battle\\_database.txt) or in my database (http://mirex.mypage.sk/FILES/monsters.txt)\n\nEvery character model has around 20-40 files, depends on its complexity. File type can be determined by 3rd and 4th character of filename. Files that end with 'aa', are skeleton informations, 'ac'-'al' are textures (.TEX files) 'am'-'cj' are body parts (.P files), 'ck'-'cz' are player's weapons(.P files), 'da' are animations files. I have no idea what is inside 'ab' file. For example 'rtck' is model file which contains Cloud's first weapon, Buster sword, because 'rt' = clouds files and 'ck' = 1st weapon file.\n\nSummon models are stored similarly to battle models, but they are stored in magic.lgp, and their filenames are different. Models (P-files) have names \"creature.p??\" where ?? is model part number, textures have names \"creature.t??\", skelet info has name \"creature.d\" and animations are in files \"creature.a??\".\n\n#### File Structure Info\n\n-- 'AA' - skeleton - file consists of these parts: --\n\nheader - (see structure FF7AAheader below, 52 bytes) it is followed by bone info for each bone (FF7AAbone structure, 12 bytes each) And thats it. Nothing more there.\n\nIf bone's parent is -1 then it begins at center of coordinate system. Else it is child of its parent bone\n\n```\n//offset\nstruct {\n     unsigned long u1[3]; //0\n     unsigned long bones; //12 number of model bones\n     unsigned long u2[3]; //16\n     unsigned long a; //28\n     unsigned long b; //32 maybe number of body part models\n     unsigned long u3[4]; //36\n} FF7AAheader; //size is 52 bytes\nstruct {\n     long parent; //0 index of parent bone, -1 = root node\n     float length; //4 length of bone, always is negative.\n     unsigned long model; //8 1=bone has body part, 0=has no body part\n} FF7AAbone; //size is 12 bytes\n```\n\n-- 'DA' - animations - file consists of these parts: -- First there is 4 bytes long integer which holds number of animations in the file\n\nThen for each animation there is:\n\nFF7AAanimHdr structure (see below) and animation data (see below too)\n\n```\nstruct s_FF7AAanimHdr {\n    unsigned long rec_a; //0\n    unsigned long rec_b; //4\n    unsigned long block_len; //8\n    unsigned short block_a; //12\n    unsigned short real_data_len; //14\n    unsigned short translat[3]; //16\n    unsigned char u1; //22\n} FF7AAanimHdr; //size = 23 bytes\n```\n\nSize of animation data is ( FF7AAanimHdr.block\\_len - 11 ), because variables (block\\_a, real\\_data\\_len, translat, u1 are in it) are included in data length.\n\n#### Animation Data\n\nIn the animation data there are rotation angles for each bone of the 3D model. Angles are not stored as its usual, in 4 byte floats, but in 12bit integers (that means one integer takes 1.5 byte, 3 angles (rotations for one bone) take up 4.5 bytes !). 4.5 bytes = 36 bits = 3 \\* 12 bits, so for example if model has 10 bones all rotations are stored in 45 bytes. 12bits can hold value from 0 to 4095. It can be translated into usual angles\n\n```\n0 euler = 0 degrees and 4096 euler = 360 degrees, so formula is degrees = euler * 360 / 4096\n```\n\nThe animation data are not understood well yet, so usually only first frame and few other frames look as they should when you read them this way.\n\nExample of rotation data:\n\n#### Data in hex:\n\n| DC | BF | FE | 00 | 3E |\n|----|----|----|----|----|\n|----|----|----|----|----|\n\n#### Data in binary:\n\n| D       | C    | B    | F       | F    | E    | 0       | 0    | 3                             | E    |\n|---------|------|------|---------|------|------|---------|------|-------------------------------|------|\n| 1101    | 1100 | 1011 | 1111    | 1111 | 1110 | 0000    | 0000 | 0011                          | 1110 |\n| Angle X |      |      | Angle Y |      |      | Angle Z |      | Beginning of another rotation |      |\n\n| X   | Y   | Z   |   |\n|-----|-----|-----|---|\n| DCB | FFE | 003 | E |\n\n#### Data in decimal, euler\n\n| X    | Y    | Z |\n|------|------|---|\n| 3531 | 4094 | 3 |\n\n#### Data in degrees ( \\* 360 / 4096 )\n\n| X     | Y     | Z   |  |\n|-------|-------|-----|--|\n| 310.3 | 359.8 | 0.2 |  |\n\n#### **Data Organization**\n\n- -Textures\n- -Sprites\n- -Models\n\n","numLines":191,"startLine":1600,"totalLines":1790}}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VnJBVnBaR8C4NxJuD9GCTf","type":"message","role":"assistant","content":[{"type":"text","text":"Now I have a complete understanding of the document structure. This is a large document (~1790 lines) containing Terence Fergusson's comprehensive damage formula documentation with additional battle-related content. Let me create the standardized version.\n\n`â˜… Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n**Key Observations about the Original Document:**\n1. **Heading Hierarchy Issues**: The document has significant heading level skips (e.g., H1â†’H4 transitions, inconsistent H2/H3/H4 usage)\n2. **Multiple Authors**: Contains Terence Fergusson's original work plus later additions by Fremen, Micky, Cyberman, and Mirex\n3. **Wiki-style anchors**: Uses `{#anchor_name}` format that needs standardization\n`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n\nLet me now create the standardized document:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":3706,"cache_read_input_tokens":102506,"cache_creation":{"ephemeral_5m_input_tokens":3706,"ephemeral_1h_input_tokens":0},"output_tokens":28108,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"cb3ef185-3ba4-4c46-b54d-9bd5642c7013"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01VnJBVnBaR8C4NxJuD9GCTf","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QcWRuPxMD4D6FknChEt11R","name":"Write","input":{"file_path":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md","content":"---\ntitle: \"FF7 Battle Damage Formulas\"\nmodule: \"Battle\"\ncreated: \"2025-11-29 00:00 JST\"\nmodified: \"2025-12-02 01:20 JST\"\nsession_id: \"925a8e3d-e852-4981-bb0f-e17592b1a9f3\"\nauthor: \"Generated by Claude Code Documentation Standardization Agent\"\nstatus: \"Complete\"\n\n# LLM-specific metadata (CRITICAL for routing)\nllm_summary: \"Comprehensive battle damage calculation formulas including physical/magical base damage, defense modifiers, elemental interactions, and all 31 status effects. LLMs should read this when implementing battle damage calculations, debugging damage output discrepancies, or understanding status effect mechanics.\"\nllm_tags: [\"battle-damage\", \"damage-formulas\", \"status-effects\", \"elemental-damage\", \"defense-calculation\", \"critical-hits\"]\nllm_primary_topics: [\"Base Damage Formulas\", \"Battle Damage Calculation Pipeline\", \"Status Effect Attributes\", \"Elemental Damage Modifiers\", \"Scene.bin File Format\"]\nllm_related_docs: [\"FF7_Battle_Battle_Mechanics.md\", \"FF7_Battle_Battle_Scenes.md\", \"FF7_Playstation_Battle_Model_Format.md\", \"FF7_Kernel.md\"]\n\n# Backlinks (leave empty - populated in pass 2)\nreferenced_by: []\n---\n\n<!--\nSTANDARDIZATION METADATA\nOriginal: FF7_Battle_Damage_Formulas.md\nSource: merged_with_pdf_content/FF7_Battle_Damage_Formulas.md\nStandardized: 2025-12-02 01:20 JST\nSession-ID: 925a8e3d-e852-4981-bb0f-e17592b1a9f3\nAgent: FF7 Documentation Standardization Agent v1.0\n\nPrevious Merge Metadata:\nMERGE METADATA\nCreated: 2025-11-29\nOriginal: FF7_Battle_Damage_Formulas.md (1779 lines)\nMajor section: 06_BATTLE_MODULE.md\nMerge decision: NO EXTRACTION PERFORMED\nReason: Individual file contains Terence Fergusson's comprehensive damage formula documentation\nStatus: COMPLETE - Original file copied as source of truth\n\nStandardization Changes Applied:\n- Added YAML frontmatter with LLM routing metadata\n- Fixed heading hierarchy: Corrected H1â†’H4 skips throughout document\n- Converted all wiki-style anchors {#anchor_name} to standard markdown format\n- Standardized heading levels: H2 for major sections, H3 for subsections, H4 for detail items\n- Removed duplicate paragraph content (lines 70-74 were duplicated)\n- Added language tags to all code blocks (c, text)\n- Preserved all technical content including formulas, tables, and data structures\n- Removed bold formatting from headings where inappropriate\n- Normalized asterisk emphasis to standard markdown format\n\nLLM CONTEXT BLOCK (Read this first for routing decisions):\nThis document is the authoritative reference for FF7 battle damage mechanics, authored by Terence Fergusson.\nIt covers the complete damage calculation pipeline from base damage formulas through defense, barriers,\nelemental modifiers, and the 9999 sanity check. Also includes comprehensive status effect documentation\n(31 statuses) with visual indicators, effects, durations, and cure methods. The latter sections contain\nScene.bin file format specifications and PSX/PC battle model structure documentation from community contributors.\nCross-reference with FF7_Battle_Battle_Mechanics.md for AI scripting and FF7_Battle_Battle_Scenes.md for\nscene configuration details.\n-->\n\n# FF7 Battle Damage Formulas\n\n## Table of Contents\n\n- [Version History](#version-history)\n- [Foreword](#foreword)\n- [Component Guides](#component-guides)\n- [Contents](#contents)\n- [1. Definitions](#1-definitions)\n- [2. Basic Damage Formulae](#2-basic-damage-formulae)\n- [3. Battle Damage](#3-battle-damage)\n- [4. Statuses](#4-statuses)\n- [5. Game Over](#5-game-over)\n\n## The Final Fantasy 7 Battle Mechanics by Terence Fergusson\n\nThis document is entirely my work, and was written and is owned by me, Terence Fergusson. All copyrights and trademarks are acknowledged where not specifically mentioned. If you wish to reproduce this document AS IS, you may do so without having to ask for my permission, providing that the entire document including this copyright notice is left intact, and preferably in ASCII text format.\n\n### Version History\n\nv0.8 : 23/03/02 : Original Release - Not accompanied by sister guides\n\n### Foreword\n\nThese guides have been a long time in the making.\n\nIt started with a webpage. Just a small private one that I created early in April 1999. It was more practice than anything else, and I put up most of my findings about the game at that time. Most of it was incorrect, but I had some basics down.\n\nI changed to pure text format soon after when I realized that a webpage was very difficult to update with the number of tables such a Mechanics document requires. Pure text is also a lot easier to simply add stuff to. Updates can be made in seconds.\n\nBut this was still a private thing. It's been private for years, in fact. But that's not to say it wasn't added to or the information wasn't utilized.\n\nDuring this time, I've met many people who share the same fascination that I have with this subject. We've helped each other too; some of the information included here is due to information that was pointed out to me in the memory dumps. I've learned from it, I've progressed. And the guide grew.\n\nRecently, it's become more and more apparent that this kind of information is not only useful, but also in demand. True, it doesn't help the average player, whose only concern is to get from A to B without too much trouble and just having fun along the way... but to others, it's fun to learn how the game works, and exactly what makes the monsters they fight tick.\n\nAs such, I have finally managed to complete this to my satisfaction. It may not be finished yet, and I may not ever find the time to update it so that it is complete... but at least it is whole.\n\nAnd this is it.\n\nNOTE (23/03/0003): This isn't a finished product. It may never be a finished product. As it stands, only this guide of the three planned is being released. Please do not e-mail asking on the progress of the other two; the Battle Mechanics guide is being released now as something to work on. The other two will follow when they're structurally complete, and not before.\n\n### Component Guides\n\n*The FF7 Game Mechanics Guides* are split into three files. This guide, the first, will detail the basic formulas, terms and statuses used in battle. The other two are:\n\n#### The FF7 Party Mechanics\n\nCovers the various battle formulas relating to the party, notably formulas regarding spell damage, materia use, and limit breaks.\n\n#### The FF7 Enemy Mechanics\n\nA list of enemies focusing on their attacks and attributes, and how the damage from those attacks are factored into the battle mechanics formulas.\n\nThe FF7 Battle Mechanics is the main one to start with, since it will define many terms that will be used in both Party and Enemy Mechanics.\n\nNote that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n\nNOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n\n### Contents\n\n- 1. Definitions\n- 1.1 Character Stats\n- 1.2 Special Term Definitions\n- 1.2.1 Basic Terms\n- 1.2.2 Types of Attack\n- 1.2.3 Target Types\n- 1.2.4 Equipment Modifiers\n- 2. Basic Damage Formulae\n- 3. Battle Damage\n- 4. Statuses\n- 4.1 Status Attributes\n- 4.2 Special Notes On Statuses\n- 5. Game Over\n\n## 1. Definitions\n\n### 1.1 Character Stats\n\nThere are seven Primary Stats and seven Derived Stats that make up your basic character. The Primary Stats are:\n\n| Str: Strength | Dex: Dexterity |\n|---------------|----------------|\n| Vit: Vitality | Mag: Magic     |\n| Spr: Spirit   | Lck: Luck      |\n| Lvl: Level    |                |\n\nThe Derived Stats are:\n\n| Atk: Attack     | At%: Attack%   |\n|-----------------|----------------|\n| Def: Defense    | Df%: Defense%  |\n| MAt: Magic atk  | MDf: Magic def |\n| MD%: Magic def% |                |\n\nNOTE! There is a bug in FF7 such that Armour MDefense Bonus is *not* added to Magic Def. This is reflected in many places, including the Status screen (but the bonus you are supposed to get is visible in the Equip screen). To my knowledge, it is definitely evident in both the PC version and the PSX version. You will take the same amount of magic damage regardless of your Armour's MDefense rating.\n\nThe Primary Stats dictate the overall strengths of your character. Level dictates exactly how powerful the character is, while the last six stats round off the character. Each character has a starting value for their Primary Stats, and every level, there is a chance that these stats will be raised by a random number of points. In addition, it's possible to further raise these stats permanently using Sources.\n\nThe Derived Stats are based from your Primary Stats and your currently worn equipment. They are derived as such:\n\n| Atk | Str + Weapon Attack Bonus               |\n|-----|-----------------------------------------|\n| At% | Weapon Attack% Bonus                    |\n| Def | Vit + Armour Defense Bonus              |\n| Df% | (Dexterity / 4) + Armour Defense% Bonus |\n| MAt | Magic                                   |\n| MDf | Spirit + Armour MDefense Bonus          |\n| MD% | Armour MDefense% Bonus                  |\n\nYour Derived Stats, along with a few of the Primary Stats(mostly Level and Luck), are what's used in every battle to determine battle damage, spell strength, and so on.\n\nIn addition to the above, many pieces of amour, weaponry and accessories will give you special bonuses to your Primary Stats which, in turn, affect your Derived Stats. You can only see these bonuses in effect on the Status screen though, not on the Equip screen. These bonuses are factored into battle, however.\n\nFrom now on, the three letter abbreviations next to each Stat will be used instead of their full names.\n\n### 1.2 Special Term Definitions\n\nThe following terms will be used throughout the Game Mechanics guides.\n\n#### 1.2.1 Basic Terms\n\n##### Base Damage\n\nThis is a special term which means the basic power of most basic types of attack. For physical attacks, Base Damage is dependent on Atk and Lvl. For magical attacks, it is dependent on MAt and Lvl. Most attacks will use Base Damage to determine the damage they do. In ability formulas, this will be listed as Base.\n\n##### NRV\n\nShort for No Random Variation, this means that the attack will not vary in power according to a random factor.\n\n##### Caster\n\nThe character that used the ability. Also known as the source of the attack's effect.\n\n##### Target\n\nThe character that is affected by the ability.\n\n##### BD (Before Defense) Modifier\n\nThis term applied to quite a number of abilities. The primary use for BD Modifiers is for Ultimate Weapons. In this case, the name which has been given to them is UW Modifier. As of writing, only one BD Modifier is known that is not connected to Ultimate Weapons, but the distinction, however slim, still stands. All BD Modifiers take the form of a fraction with a denominator of 16. (For example: 3/16) See below for details.\n\n##### UW (Ultimate Weapon) Modifier\n\nA subset of BD Modifiers. UW Modifiers are for Ultimate Weapons only. They are separated for clarity. Take note that UW Modifiers are only applied to Base Command skills, which are defined as: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow.\n\n##### Added Damage Effect\n\nThis term applies to certain weapons and abilities. It is a modifier that is multiplied to the damage during damage calculations. See below for details.\n\n##### Element\n\nSome attacks will use a special Element that will determine certain factors about the attack. Most enemies will have certain elemental weaknesses and strength; this factor will determine whether the attack will do extra damage or be defended against. For example, an attack described as a 'Elm: Fire' attack will do Fire Elemental damage.\n\n##### Common Elements\n\nNote that FF7 uses the following common Elements:\n\n| Fire   | Ice         | Lightning | Earth |\n|--------|-------------|-----------|-------|\n| Poison | Gravity     | Water     | Wind  |\n| Holy   | Restorative |           |       |\n\nThe absence of any Element is termed Non-Element, which, while not technically an element in itself, will be used to denote this state.\n\nAlso note that there are five more Elements that apply only to Physical Attacks. While FF7 is aware of them, they are not normally utilized in Elemental calculations because almost nothing is weak or defends against them:\n\n| Cut   | Hit   | Punch |\n|-------|-------|-------|\n| Shoot | Shout |       |\n\nAnd finally, there is a 16th Hidden Element that was obviously supposed to have been dummied out, but due to sloppy coding, has ended up having unexpected effects with the Elemental Materia and certain attacks.\n\nHidden\n\nOf the above Elements, Restorative, Cut, Hit, Punch, Shoot, Shout and Hidden are not made known to the player. They can be described as follows:\n\n| Element     | Description                                                                                                                                                                                                                                                                                                                |\n|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Restorative | See below for the definition of Restore. Restorative is the difference between the Cure and Life series of spells which give back HP, and the Holy Elemental attack spells like Alexander, which cause Holy Element damage. While Undead are often said to be Weak to Holy, they *Absorb* Restorative instead. |\n| Cut         | Used to describe an attack that uses an edged weapon.                                                                                                                                                                                                                                                                      |\n| Hit         | Used to describe an attack that uses a blunt weapon.                                                                                                                                                                                                                                                                       |\n| Punch       | Used to describe an attack that uses a piercing weapon.                                                                                                                                                                                                                                                                    |\n| Shoot       | Used to describe attacks that use projectile weapons.                                                                                                                                                                                                                                                                      |\n| Shout       | Used to describe attacks that are sonic or energy-based in nature.                                                                                                                                                                                                                                                         |\n| Hidden      | Unknown. Unlike the others, Hidden is the name I've given it. Very few attacks have this element. Any that do can be protected from by linking any non-Element Materia with the Elemental Materia in a character's armor.                                                                         |\n\n#### 1.2.2 Types of Attack\n\nWhen an attack type is given, the following terms will be used to describe them. These are the most common terms; unique terms will be described within the notes for the appropriate ability itself.\n\n| Type of Attack | Description                                                                                                                                                                                                           |\n|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Physical          | Any attack termed as Physical will use Att and Def as the primary damage calculating stats, and is affected by Barrier. It will also normally use the Physical Formula for Base Damage, unless noted otherwise. |\n| Magical           | Any attack termed as Magical will use MAt and MDf as the primary damage calculating stats, and is affected by MBarrier. It will also normally use the Magical Formula for Base Damage, unless noted otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| Piercing          | This means that the attack will ignore the target's Defense and Magic def stats when determining how much damage it will do to them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |\n| Attack            | Any attack with this modifier will cause damage to some stat. By default, this is HP, but this can be modified. For example, MP Attack would mean an ability that reduces the target's MP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |\n| Absorb            | The same as Attack, except that the caster benefits in some way from the damage given to the target. Unless otherwise noted, the benefit is equal and opposite to the damage dealt to the target                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |\n| LR                | Short for Long Range, this means that the ability will not factor Back Row modifiers into the formula. Thus, the ability will do full damage no matter what the distance. This also means that the ability can target enemies that are 'Can't reach'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |\n| Restore           | Restorative is a special Element that has the damage rules for Elements reversed. Specifically, with no Restorative affinity, targets will gain HP or MP from this Element. However, targets that are listed as Absorb Restorative will alternatively take damage from this element. If an attack is listed as Restorative, it will replace the Attack modifier. Restore is used just to remind that this is a healing ability; 'Elm: Restorative' will still be listed within the attack, and in all other ways, it is classed as an Attack.                                                                                                                                                                                         |\n| Recovery          | A special type of attack, this ability will completely refill the target's HP and MP. It can function without an Element, but if it does have one, then against any target that Absorbs the ability's Element, it will inflict Death status instead of restoring their HP and MP. The words 'Recovery' or 'Death' will flash up over the target to demonstrate which is being used.                                                                                                                                                                                                                                                                                                                                                      |\n| Change Status  | This attack type attempts to change the statuses on a target. Changes in Status are divided into three types: Cure, Inflict or Toggle. Cure will remove an instance of that Status. Inflict will attempt to give the target that Status. Toggle will either Inflict the Status on the target, or Cure it if the target already has that Status. If at any time a spell or ability is described as Curing, Inflicting or Toggling a Status, it will also have a number in square brackets. This number is the relative chance of success. (Example: [15] Inflict 'Death' is a Rating 15 chance of inflicting the Death Status. The exact formula is not yet known, but a rough guide is to think of the Rating as a chance out of 64. This approximation works well when used against enemies of equal level to you) A Change Status ability, like any other attack, will be either Physical or Magical; however, if Change Status is used, then this means that the attack itself does no damage. The only reason Physical or Magical is listed is for certain enemies that may react to one or the other. If the chance reads [63], then the Status Chance is as near enough to 100% as it's going to get. I've only ever seen a [63] Rating fail once thus far, and that was Death Dealer's Hidden One against a L99 Barret |\n| Misc              | Any ability that is not adequately described by the above categories falls under this category by default. Whatever effect the ability has will be depicted under Notes.    |\n\n#### 1.2.3 Target Types\n\nAny ability used will often require a target to be given. The following shorthand will be used:\n\n| Op  | Opponent                  |\n|-----|---------------------------|\n| Al  | Ally                      |\n| Tar | Target (Opponent or Ally) |\n\n##### 1 Tar\n\nThis means that the ability can only hit one selected target. Normally, this target will be selected by the player or enemy. Multi-hit attacks that only hit one selected target also fall under this category.\n\n##### n Tar\n\nThis special variation of the above means that the ability will hit n randomly selected targets in the chosen target group. For example, Omnislash will be listed as '15 Op', which means it will hit 15 randomly selected targets in a selected opponent target group.\n\n##### All Tar\n\nThis means that the ability will hit all targets within the selected target group once each. If this Target Type is used, the strength of the ability must be multiplied by 2/3; that strength is then used to determine the damage for each single target in the group. Note that if there is only one Target in the group, then the ability is used at full strength instead; it's counted as a 1 Tar attack.\n\n##### All Tar (NS)\n\nNS stands for No Split. This means that the strength of the ability is NOT multiplied by 2/3 when used against All Targets. It will thus do full damage to each and every single target in the group.\n\n##### Area\n\nThis means that the entire battlefield is a valid target for the ability. Both the party and the enemies will be affected.\n\n##### Random\n\nThis means that the target will actually be a randomly selected single target out of a valid group. Similar to n Tar, except that the valid group is what's being specified. Random [All] specifies a single random target out of a single target group. Random [Area] specifies a single random target out of all valid target groups in battle. (Example: Random [All Tar] would allow you to decide which target group to attack, and then a single target would be picked randomly from that group. Random [Area] would have no such choice, and the single target would be picked from all targetable characters in the battle.)\n\n#### 1.2.4 Equipment Modifiers\n\nThe following terms will be used as shorthand to describe various modifiers equipment and accessories may give.\n\n##### +?? Stat\n\nThis indicates that wearing the given equipment will give the indicated bonus to the described Basic Stat. In the Weapon List found in the FF7 Player Mechanics, there are columns already for Mag, Spr, Vit and Dex bonuses, so bonuses for those stats given by Weapons will be found in those columns instead.\n\n##### Half/Void/Absorb Elemental\n\nThe equipment will automatically allow you to either Halve, Void or Absorb damage from the relevant Elements. If you have a better Elemental Defense than the one given, it will not be affected; the better Defense automatically takes priority.\n\n##### Immune Status\n\nWearing this equipment will automatically make you immune to the given Status. Note that Immunity is really a Resist. If you are Immune to that Status, then it is also impossible to Cure that Status should you have it on you. This is best shown by wearing a Ribbon and using a Hyper outside of battle; you will gain the 'Fury' Status, but nothing will be able to remove that Status while you are inside battle.\n\n##### Start with Status\n\nThis means that wearing the piece of equipment will make sure you begin each battle with the named Status(es). You cannot protect yourself from this initial infliction.\n\n## 2. Basic Damage Formulae\n\nFirst, it is important that you are familiar with the [x] convention. Basically, [x] is the greatest integer equal to or less than x. Thus, [4.5] would be 4. This convention will be used throughout the guides, and is very important for battle damage. In addition, you should also be familiar with the following convention - x ... y - which defines an integer random number between x and y inclusive. For example, 3 ... 8 would be a random number out of 3, 4, 5, 6, 7 and 8.\n\nFinally, a function Rnd is defined here, since it is also required by this guide. Rnd picks a random number between 0 and 1 inclusive. It is not known yet what precision of accuracy Rnd uses at this point.\n\nThe Base Damage formula is the most important battle formula in the game, so it will be listed here.\n\nThe Physical Formula for Base Damage is defined as such:\n\nBase Damage = Att + [(Att + Lvl) / 32] * [(Att * Lvl) / 32]\n\nThe Magical Formula for Base Damage is defined likewise:\n\nBase Damage = 6 * (MAt + Lvl)\n\nNote that while Att and MAt are used in the above formulas, it is possible for FF7 abilities to be coded to use each formula with the opposite attack stat (using MAt instead of Att in the Physical Formula, for instance). However, this is purely academic, since no known ability has been found within the game code that does this.\n\n## 3. Battle Damage\n\nNow that the basic terms and formulae have been covered, the basic battle process of determining damage can be defined. Note that certain abilities may skip certain aspects of this procedure; for example, Mindblow will never need to work out either Base Damage, DefMod or Random Variation, because it is a Piercing attack with NRV, and uses a formula that doesn't need Base.\n\n### Step 1: Define Negative Damage\n\nA boolean flag named 'Negative Damage' shall be defined at this point. The only factor it checks at this stage is whether the attack contains the Restorative Element. If it does, then Negative Damage is true. Otherwise, it begins as false. The purpose of this flag shall become clear later.\n\n### Step 2: Find Base Damage\n\nFirst, for most attacks, Base Damage must be worked out. If the formula used for the ability does not use Base, then this part may be skipped. The Base Damage formulae are listed in the previous section, and depend on whether the attack is Physical or Magical.\n\nIf the character is 'Small', then Base Damage must be worked out with Att = 0.\n\nFinally, the character's Physical Base Mod and Magical Base Mod are checked. Hero Drinks (as an example) raise both of these by 30 each time you drink them, to a maximum of 100.\n\nIf the attack is physical:\n\n```text\nBase Damage = [Base Damage * (100 + Physical Base Mod) / 100\n```\n\nIf the attack is magical:\n\n```text\nBase Damage = [Base Damage * (100 + Magical Base Mod) / 100]\n```\n\n### Step 3: Use the Appropriate Formula\n\nNext, the formula for the attack is worked out. This is usually either an independent formula or a multiple of Base. This gives us the power of the attack. FF7 has several formulas that it may use:\n\n- Physical Base Damage Formula * Power of Attack\n- Magical Base Damage Formula * Power of Attack\n- Percentage of Target's HP\n- Percentage of Target's Max HP\n- Magical Formula + Power of Attack (the Cure Formula)\n- Fixed Power of Attack\n- Recovery\n- Special Formulas\n\nThe last in that list refers to formulas that require special variables that aren't normally checked in battle, like for Chocobuckle, which requires the number of times the party has escaped from battle as a defining variable.\n\nIn addition, there are many different Fixed Power formulas. Since this is not a hex debug document, no attempt will be made to further explain this; the formulas used will instead be listed next to each ability in the FF7 Party Mechanics and the FF7 Enemy Mechanics.\n\nMany abilities will have either the Non-Damaging formula or a Power of 0. Thus, they may skip this part, since these are generally abilities that change statuses or do other non-damage related abilities. Element checking may still take place though to determine success of certain abilities.\n\nAt this point:\n\ndam = [dam]\n\n### Step 4: Factor in the BD (Before Defense) Modifiers\n\nBD Modifiers are factored in now, since they're a measure of your base damage. Note that UW (Ultimate Weapon) Modifiers are classified as BD Modifiers.\n\nBD Modifiers on weapons *ONLY* take effect if the ability used is a BASE Command skill. These commands are: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow. Limit, Magic, Summon, Item and E. Skill are exempt from this (thus, an Ultimate Weapon will not lend its added damage capability to a Limit Break, for example). In addition, attacks that don't use Base Damage or use their own formula (like Throw) are also exempt from this.\n\nThe key thing is to note how two BD Modifiers are put together (this should only be necessary when using Morph with most Ultimate Weapons, but the method is listed here just in case). The formula is:\n\nNew BDM = [(BD1 * BD2 * 16) + (15 / 16)] / 16\n\nThis may seem confusing, but what we're actually doing is every time we multiply two BD Modifiers together, we have to round *up* to the nearest 1/16th. For example:\n\n9/16 * 2/16 = 18/256 = 9/128\n\nWhich rounds up to 2/16 or 1/8.\n\nIf we use the formula to check this, we get:\n\n```text\nNew BDM = [(9/16 * 2/16 * 16) + (15 / 16)] / 16\n= [(9 * 2/16) + 15/16] / 16\n= [18/16 + 15/16] / 16\n= [33/16] / 16\n= [2 + 1/16] / 16\n= 2 / 16\n```\n\nBy going through the BD Modifiers as above, you should eventually end up with one final BD Modifier. This is applied to the damage like so:\n\ndam = [BD Modifier * dam]\n\n### Step 5: Calculate All Tar if Appropriate\n\nAttacks that target All Targets are granted a modification now. If the attack is No Split (listed as All Tar (NS)), then this section is skipped. In addition, if there is only 1 target in the group, then this section is skipped (it counts as if it was only used against 1 Tar instead).\n\nWhether an ability is No Split or not depends on the formula and valid target data for the ability in question. Attacks that use the Physical Formula will always split their damage (they can never have the No Split ability). Attacks that use the Magical Formula are only No Split if they cannot be switched between All Tar and 1 Tar. Any ability that works with the All Materia will thus automatically be denied No Split. The exception here is the Cure Formula, which always splits no matter what the valid target data. The rest of the formulas will generally be No Split, but exceptions will be noted.\n\nIf the attack is not No Split:\n\ndam = [dam * 2 / 3]\n\n### Step 6: Calculate Quadra Magic if Available\n\nIf the ability is linked to Quadra Magic and Quadra Magic works with it, then:\n\ndam = [dam / 2]\n\nThis happens no matter what, unless the ability does not do any kind of damage or healing. (Demi and FullCure are affected as well)\n\n### Step 7: Calculate Defense\n\nDefense comes next, if warranted. If the attack is Piercing, then this part is ignored. If the attack is Physical, then the target's Def stat is used; otherwise, if the attack is Magical, the MDf stat is used.\n\nThe Defense Mod and MDefense Mod of the character is checked at this point. This is a special battle-only stat that is modified by Hero Drinks and Dragon Force (as examples). Each Hero Drink raises both Mods by 30. Each Dragon Force raises both Mods by 50. Neither Mod can ever exceed 100. The two values are applied as such:\n\nIf attack is Physical:\n\nDefNum = [Def * (100 + Defense Mod) / 100]\n\nIf attack is Magical:\n\nDefNum = [MDf * (100 + MDefense Mod) / 100]\n\nAnd finally, we apply the damage reduction:\n\n```text\ndam = [dam * (512 - DefNum) / 512]\n```\n\n### Step 8: Calculate Berserk and Critical Strike\n\nIf the character is in 'Berserk' and the ability uses a Physical Base, then:\n\ndam = [dam * 1.5]\n\nCritical Strikes and Deathblow damage are also done at this point. If the attack is a Critical Strike (either through luck, via the Deathblow command, the Lucky Girl status, or any other move that has automatic Criticals), and the ability uses a Physical Base then:\n\ndam = dam * 2\n\n### Step 9: Frog Check\n\nAt this point, after Critical Strike, if the Caster is a 'Frog' and the attack utilises Physical Base Damage, then:\n\ndam = [dam / 4]\n\n### Step 10: MP Turbo Check\n\nMP Turbo also gets a look in at this point if the ability is compatible and is currently paired with the requisite Materia. Depending on the level of the MP Turbo Materia, damage is adjusted accordingly:\n\ndam = [dam * (1 + (MP Turbo Level / 10))]\n\n### Step 11: Back Row Check\n\nBack Row modifier occurs now. If the attack is Magical or is Long Range, then this part is ignored. If either the Caster or the Target is in the back row, then:\n\ndam = [dam / 2]\n\nNote that the above applies even if attacking an ally or even yourself. It is only applied once though; you will do 1/2 rather than 1/4 damage if you attack yourself with a non-LR physical attack while in the back row.\n\n### Step 12: Barrier and MBarrier Check\n\nBarrier and MBarrier are now looked at. If the target has Barrier and the attack is Physical and does not have the No Barrier attribute, then:\n\ndam = [dam / 2]\n\nThe same goes for MBarrier; if the target has MBarrier and the attack is Magical and does not have the No Barrier attribute, then:\n\ndam = [dam / 2]\n\nGenerally, only the Physical Formula, the Magical Formula and the Cure Formula attacks are affected by Barrier and MBarrier. The rest will usually be No Barrier. As always, exceptions will be noted as and when we come to them.\n\n### Step 13: Sadness Check\n\nSadness is skipped if the ability is NRV, a Restore or from an Item.\n\nIf the target has the Status 'Sadness', then the damage is modified accordingly:\n\ndam = dam - [dam * 79 / 256]\n\n### Step 14: Random Variation Factored In\n\nIf the ability being used is listed as NRV, then we skip this part:\n\nRandom Variation comes next. Thus, the following is applied:\n\ndam = [dam * (15 + Rnd) / 16]\n\n### Step 15: Lower Bound Sanity Check\n\nLower bound sanity checking takes place at this point. Thus:\n\nIf (dam < 1) Then: dam = 1\n\nDamage greater than 9999 is left unchanged at this point.\n\n### Step 16: Added Damage Effects\n\nAdded Damage Effects are now done. These are simple integer multipliers.\n\nAdded Damage Effects on weapons, like BD Modifiers above, *ONLY* take effect if the ability used is a BASE Command skill. No doubling up of Yoshiyuki with Goblin Punch, for example.\n\nIn any case, for all Added Damage Effects that must be done:\n\ndam = dam * Added Damage Effect\n\n### Step 17: Elemental Damage and Final Status Checks\n\nFinally, Elemental Damage and Final Status Checks takes place. Once one Elemental is found in the order of priority, the others will be skipped. Note that Poison Element is special; if you're Immune to the status, then you also count as being Immune to the element (but Asrb: Poison will always be checked first).\n\nWithin this section, checks against Shield, Peerless and certain special abilities of enemies are also made. It is impossible to be sure of the order this happens in, so no attempt will be made to integrate these checks into the below Elemental system. However, relative notes on the subject can be found in the respective Status descriptions and the specific enemy attributes this applies to.\n\nAlso, once again, any Elemental affinity the player has on their weapon is only taken into consideration for base Command abilities. You can't have a Fire-element Omnislash, for example, or Throw Gravity-element Mythril Sabers.\n\nFirst, check if the target Absorbs one of the Elements of the attack. If so, then the Negative Damage flag is toggled (if Negative Damage was true, it's now false; and vice versa).\n\nIf the target doesn't Absorb any of the Elements, but does Void it, then:\n\ndam = 0\n\nIf the target doesn't Absorb or Void any of the Elements, but does Half it, then:\n\ndam = [(dam + 1) / 2]\n\nFinally, if the target hasn't Absorbed, Voided or Halved any of the Elements already, then Weak is checked. If the target is Weak against any of the Elements, then:\n\ndam = dam * 2\n\n### Step 18: The 9999 Sanity Check\n\nAfter all this, only one thing remains.\n\nIf (dam > 9999) Then: dam = 9999\n\nIf the attack does damage to MP and the target does not have the 'HP<->MP' Materia equipped, then the sanity check is instead:\n\nIf (dam > 999) Then: dam = 999\n\nThe 999 'Sanity Check' is also used if the target *does* have 'HP<->MP' equipped and the damage is dealt to HP instead of MP (the 'HP<->MP' Materia not only reverses HP and MP, but it also reverses the max damage allowed against that target).\n\n### Step 19: Negative Damage\n\nThe final damage has, at that point, been calculated. All that remains is to check the status of the Negative Damage flag.\n\nIf Negative Damage is true, then the amount 'dam' will be healed to the target. The type of the attack will define what exactly is healed and what else is done with the 'dam' variable.\n\nIf Negative Damage is false, then the amount 'dam' will be used as damage against the target's appropriate stat (usually HP).\n\n### Battle Damage Summary\n\nThe above sequence can be summarized as such:\n\n1. Small Check\n2. Base Formula\n3. Hero Drink Check\n4. BD Modifier\n5. All Tar Reduction\n6. Quadra Magic\n7. Defense\n8. Berserk / Critical Strike\n9. Frog Check\n10. MP Turbo Check\n11. Back Row / Long Range\n12. Barrier / MBarrier\n13. Sadness Check\n14. Random Variation\n15. Damage < 1\n16. Added Damage Effects\n17. Elemental Damage and Final Status Checks\n18. Damage > 9999\n19. Negative Damage\n\nNote: This order may not be 100% accurate. There are too many combinations of factors to test them all, and without seeing the code for the battle algorithms, a lot of what is displayed here are educated guesses derived from results seen. It is presumed accurate enough for 99% of all results at this present time though.\n\n## 4. Statuses\n\nThere are 31 major Statuses in the game, although a few of them are not shown on the Status screen and are sometimes transparent to the user. The statuses available are thus:\n\n| Death     | Near-death | Sleep   | Poison      | Sadness        | Fury       | Confusion  | Silence  |\n|-----------|------------|---------|-------------|----------------|------------|------------|----------|\n| Haste     | Slow       | Stop    | Frog        | Small          | Slow-numb  | Petrify    | Regen    |\n| Barrier   | MBarrier   | Reflect | Shield      | Death-sentence | Manipulate | Berserk    | Peerless |\n| Paralysed | Darkness   | Dual    | Death Force | Resist         | Lucky Girl | Imprisoned |          |\n\nOf those, Death Force, Resist and Lucky Girl are nearly transparent to the player, and a few of the others (like Imprisoned) are completely invisible save for their effect. Several are not listed on the Status screen; these are: *Dual*, *Death Force*, *Resist*, *Lucky Girl* and *Imprisoned*.\n\nWhat follows is a breakdown of the statuses visual effects and gameplay attributes.\n\n### 4.1 Status Attributes\n\n#### Death\n\nThe ultimate offensive Status Attribute. If you're successfully hit with it, you are immediately reduced to 0 HP. Death is also the state of having 0 HP.\n\nYou can protect from it, fortunately. That is, you can protect yourself from 'Sudden Death', which is any attack that causes you to instantly die, regardless of how much HP you have or how much damage the attack actually caused. However, if you are reduced to 0 HP by taking too much damage... well, you can't protect against that at all.\n\n| Visuals      | Character lies down                                                                                  |\n|--------------|------------------------------------------------------------------------------------------------------|\n| Effects:     | Character flagged as 'Dead'. Removes all Statuses except for 'Frog' and 'Small'                    |\n| Duration     | Until cured                                                                                          |\n| Protected by | Petrify', 'Peerless', 'Resist', Safety Bit, Destruct+Added Effect, Odin+Added Effect, Death Force |\n| Cured by     | Life, Life2, Phoenix Down, Angel Whisper, Phoenix                                                    |\n\n#### Near-Death\n\nWhen your character is heavily wounded, but still able to fight, they are classed as Near-death. They kneel down and their HP indicator turns yellow to notify of this. Otherwise, this Status Attribute means nothing else; it occurs only when your HP is 25% or less of your current Max HP, and you are not yet dead.\n\n| Visuals      | Character kneels                                          |\n|--------------|-----------------------------------------------------------|\n| Effects:     | None                                                      |\n| Duration     | Until cured                                               |\n| Protected by | Anything that prevents HP loss                            |\n| Cured by     | Anything that serves to boost your HP above 25% of Max HP |\n\n#### Sleep\n\nThis nasty affliction is one of four temporary 'Can't Act' Status Attributes in FF7. Once under this Status, the character is asleep, and cannot fight normally. However, Sleep is easily reversed; any Physical hit is enough to wake up a sleeping character.\n\n| Visuals      | Character kneels/has Zzz above head                                                     |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act                                                                    |\n| Duration     | 26 units                                                                                |\n| Protected by | Petrify', 'Peerless', 'Resist', Ribbon, Headband, Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                              |\n\n#### Poison\n\nAny character inflicted with this Status will continually take Poison Elemental damage throughout the battle. It won't be purged naturally until the battle ends.\n\n| Visuals      | Character kneels/flashes Green                                                                                                          |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes [1/32 of Max HP] of Physical Poison Elemental damage every 2.5 units of time (ignores Def, Barrier and is NRV) |\n| Duration     | Until end of battle                                                                                                                     |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Poison Ring, Star Pendant, Fairy Ring, Poison+Added Effect, Hades+Added Effect        |\n| Cured by     | Poisona, Esuna, Remedy, White Wind, Angel Whisper, Antidote                                                                          |\n\nNote: The Status Attribute Poison is different from the Element Poison. But, if you Void or Absorb Poison Elemental, any attack that does Poison damage will no longer inflict the Poison Attribute. However, you will still be vulnerable to things like Bad Breath, which causes various Status Attributes without causing damage. The reverse also has effects; being Immune to the Status Attribute Poison will mean that you are also considered Immune to the element.\n\n#### Sadness\n\nA character inflicted with Sadness is more subdued and careful in battle. They tend to take less damage from attacks, but they find it difficult to get angry at anything. Hence, the growth of their Limit Bar is severely reduced. The Limit Bar turns blue to notify you of this condition.\n\n| Visuals      | Limit bar is blue                                                                                                                          |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes approximately 177/256x damage from most attacks (see Section 3: Battle Damage for details), Limit Bar growth halved. |\n| Duration     | Until cured                                                                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring                                                                                        |\n| Cured by     | Hyper, Esuna, Remedy                                                                                                                       |\n\n#### Fury\n\nAnyone in Fury status is more prone to rushing the enemy, and attacking them with greater fervour. As such, while they don't benefit from the reduced damage of Sadness, they instead get an increase in the growth of their Limit Bar, allowing them to pull of Limit Breaks with greater frequency. However, their attacks are more erratic, and miss more often. The Limit Bar turns red to notify you of this condition.\n\n| Visuals      | Limit bar is red                                      |\n|--------------|-------------------------------------------------------|\n| Effects:     | Character Attack% reduced. Limit Bar growth doubled |\n| Duration     | Until cured                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring   |\n| Cured by     | Tranquilizer, Esuna, Remedy                           |\n\n#### Confusion\n\nThe pure opposite of Berserk, despite the fact that the character suffering from Confusion doesn't have any increased damage potential. You immediately lose control of the character, and they will randomly attack their allies, even themselves. Fortunately, it's easy to cure; a single Physical hit will take care of it. However, a recently Confused character will always carry out the last command they were asked to irregardless; but it will always be against you.\n\n| Visuals      | Character continually spins in place                                                                                   |\n|--------------|------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character randomly attacks allies                                                                                      |\n| Duration     | Until end of battle                                                                                                    |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Contain+Added Effect, Mystify+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                                                             |\n\n#### Silence\n\nThe power of this affliction is often underestimated. While under its influence, you are unable to cast any Magic, Enemy Skills or Summons. However, your other commands are untouched. Its usefulness lies in using it on the enemy; many of them have attacks that would be better left sealed with Silence.\n\n| Visuals      | Character kneels/has speech bubble over head                                      |\n|--------------|-----------------------------------------------------------------------------------|\n| Effects:     | Character cannot use Magic/Enemy Skills/Summons                                |\n| Duration     | Until end of battle                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Echo Screen                          |\n\n#### Haste\n\nOne of the best Status Attributes, Haste has your time bar filling up twice as fast as normal. However, on the flip-side, all timed effects like Slow-numb, Barrier and so forth, will run out twice as quickly. But, the pros far outweigh the cons in this instance.\n\n| Visuals      | Character Animation speed doubled |\n|--------------|-----------------------------------|\n| Effects:     | Time Unit speed doubled           |\n| Duration     | Until end of battle               |\n| Protected by | 'Petrify', 'Peerless', 'Resist'   |\n| Cured by     | DeSpell                           |\n\n#### Slow\n\nThe complete opposite of Haste, Slow causes your time bar to fill up twice as slow as normal. But, it has its good side; Barrier, MBarrier, Slow-numb, Death-sentence... all those take far longer to run out of time.\n\n| Visuals      | Character Animation speed halved                   |\n|--------------|----------------------------------------------------|\n| Effects:     | Time Unit speed halved                             |\n| Duration     | Until end of battle                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Time+Added Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                 |\n\n#### Stop\n\nThe second worst of the four temporary 'Can't Act' Status Attributes, Stop completely shuts off the Time counter for that character. However, on the other hand, things like Barrier, MBarrier, Regen and so on will not count down during this time, until Stop has worn off or it's been dispelled.\n\n| Visuals      | Character Animation speed paused                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------|\n| Effects:     | Time Unit speed reduced to zero. Character cannot Act                                                |\n| Duration     | 15 units                                                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Contain+Added Effect, Time+Added Effect, Choco/Mog+Added Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                                                                     |\n\n#### Frog\n\nPerhaps the worst of the transformation Statuses, Frog both reduces your attack power, as well as preventing you from using almost all of your Materia. The only options available to you are Fight, Item, and if you have it equipped, the Magic Spell 'Toad'. You can't even perform Limit Breaks while transformed into a frog.\n\n| Visuals      | Character is a frog!                                                                                                            |\n|--------------|---------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | All Physical attacks do 1/4 of Base Damage. Character can only use Fight (not Limit), Item (including W-Item) or cast Toad |\n| Duration     | Until end of battle                                                                                                             |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White Cape, Transform+Added Effect, Hades+Added Effect                               |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Toad, Maiden's Kiss, Impaler                                                       |\n\n#### Small\n\nWhile not as bad as Frog, this is still a terrible condition. While Magic is still wide open to you, every physical attack you do will have an Attack of 0; you will do 1 HP damage until modifications added after the random variation are added. Elemental attacks and Added Damage Effects will use the 1 HP damage as the basis for their calculations.\n\n| Visuals      | Character size is significantly reduced                                                           |\n|--------------|---------------------------------------------------------------------------------------------------|\n| Effects:     | Character Attack reduced to 0                                                                     |\n| Duration     | Until end of battle                                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White Cape, Transform+Added Effect, Hades+Added Effect |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Mini, Cornucopia, Shrivel                            |\n\n#### Slow-numb\n\nOne of the banes of the beginner player, Slow-numb can easily take out a character within moments if you're not prepared for it. Essentially, it's a countdown to petrify; you have 30 units of time (as shown by the counter above the character's head) to cure them of the affliction, or end the battle. Otherwise, they are inflicted by the Status Petrify.\n\n| Visuals      | Character has timer above head/flashes Grey                                               |\n|--------------|-------------------------------------------------------------------------------------------|\n| Effects:     | 30-unit Timer set on character. When Timer reaches 0, Petrify is inflicted on character |\n| Duration     | 30 units                                                                                  |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit                             |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                            |\n\n#### Petrify\n\nCompletely turned to stone, this is a very bad Status Attribute to earn. You can't act, and even worse, you're flagged as 'Dead'; if everyone in your party is flagged as 'Dead', then the game is over. However, it's easily curable, and while Petrified, you cannot be inflicted with any other Status Attributes, or take damage in any way at all. However, that also means you can't have damage healed while Petrified either.\n\n| Visuals      | Character Animation speed paused/Character coloured Grey                                           |\n|--------------|----------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act. Character flagged as 'Dead'. Voids all damage. Prevents Status changes |\n| Duration     | Until end of battle                                                                                |\n| Protected by | 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit, Contain+Added Effect                        |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                                     |\n\n#### Regen\n\nAn alternative to the standard healing spells, Regen has the potential to be greater than any of them, for half the cost of Cure3. However, its healing ability takes place over time, and it heals at a rate proportional to your current Max HP value. In addition, it has a short duration, and it can be DeSpelled.\n\n| Visuals      | Character flashes Orange                                                              |\n|--------------|---------------------------------------------------------------------------------------|\n| Effects:     | Character steadily gains approximately 1/32 of their Max HP over each unit of time |\n| Duration     | 32 units                                                                              |\n| Protected by | 'Petrify', 'Peerless', 'Resist'                                                       |\n| Cured by     | DeSpell                                                                               |\n\n#### Barrier\n\nA protective Status Attribute, and the first available to you. It halves the damage from all Physical attacks, but it has a limited duration. The time left for Barrier can be checked in the Barrier gauge in the left window, next to the character name.\n\n| Visuals      | Barrier gauge is active         |\n|--------------|---------------------------------|\n| Effects:     | Halves all Physical damage      |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### MBarrier\n\nThe counterpart of Barrier, MBarrier simply halves the damage from all Magical attacks. Again, it only has a limited duration; the time left for MBarrier can be checked in the MBarrier gauge in the left window, next to the Character name.\n\n| Visuals      | MBarrier gauge is active        |\n|--------------|---------------------------------|\n| Effects:     | Halves all Magical damage       |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### Reflect\n\nOne of the most interesting Status Attributes, Reflect allows you to bounce away certain spells up to a maximum of four times per casting per character. A list of spells that cannot be reflected can be located in the next section.\n\n| Visuals      | None                                                                                                                                     |\n|--------------|------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Will reflect spells up to four times back at caster, or random enemy if caster is an ally. Will only reflect certain magical spells |\n| Duration     | Until end of battle or exhausted                                                                                                         |\n| Protected by | 'Petrify', 'Peerless', 'Resist'                                                                                                          |\n| Cured by     | DeBarrier, DeSpell                                                                                                                       |\n\n#### Shield\n\nA very powerful defensive Status Attribute, second only to Peerless. It voids all normal attacks, and absorbs all Elemental Magic. However, it will not absorb Non-Elemental damage, and also, Items seem able to breach Shield and still cause full damage, whether they're Elemental items or not.\n\n| Visuals      | None                                                                                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Voids normal attacks. Absorbs Elemental Magic and Physical damage. Does not defend against Item damage or Non Element Magic attacks |\n| Duration     | 17.5 units                                                                                                                                 |\n| Protected by | 'Petrify', 'Resist'                                                                                                                        |\n| Cured by     | DeBarrier, DeSpell                                                                                                                         |\n\n#### Death-sentence\n\nUnder this condition, a counter positioned above the character's head begins to count down to zero. If it does reach zero, then the Status Death is inflicted on the character, subject to protection from Death.\n\n| Visuals      | Character kneels/has timer above head                                                   |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | 60-unit Timer set on character. When Timer reaches 0, Death is inflicted on character |\n| Duration     | 60 units                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', 'Death Force', Ribbon, Safety Bit                   |\n| Cured by     | None                                                                                    |\n\n#### Manipulate\n\nThe only Status Attribute that cannot be used on your party, Manipulate is a very useful tool. Using it on an enemy, if they're susceptible to it, will place the enemy under the character's command. Note that each character can only Manipulate one enemy at a time, and a single Physical hit will free the enemy from your control.\n\n| Visuals      | Character flashes Cyan                                         |\n|--------------|----------------------------------------------------------------|\n| Effects:     | Character is controlled by whomever used Manipulate on them |\n| Duration     | Until end of battle                                            |\n| Protected by | 'Petrify', 'Resist', 'Sleep', 'Stop', 'Paralysed'              |\n| Cured by     | Any Physical hit, White Wind                                   |\n\n#### Berserk\n\nThis is a very risky Status Attribute. On the plus side, a character under this Attribute hits harder than usual with every attack. But on the minus, they cannot be controlled, and they randomly attack the enemy any time they can. It is also impossible to Critical Strike when under Berserk Status. Berserk has another use; it's an effective alternative to Silence when used on the enemy....\n\n| Visuals      | Character flashes Red                                                                                                                         |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character's Physical Damage is multiplied by 1.5. Character attacks random Enemy with Physical Attack. Impossible to get Critical Strikes |\n| Duration     | Until end of battle                                                                                                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Mystify+Added Effect                                                                  |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper                                                                                                      |\n\n#### Peerless\n\nThe ultimate defensive Status Attribute. Unfortunately, only one character has the ability to use this: Aeris. When used, it fully voids all damage of any type, as well as acting like Resist with regards to Status Attributes. However, it has a limited duration, and the Void state makes it impossible to heal while under it, but it is still a formidable Attribute.\n\n| Visuals      | Character flashes Yellow                            |\n|--------------|-----------------------------------------------------|\n| Effects:     | Voids all damage. Immune to all Status Attributes |\n| Duration     | 17.5 units                                          |\n| Protected by | 'Petrify', 'Resist'                                 |\n| Cured by     | None                                                |\n\n#### Paralysed\n\nThe least powerful of the temporary 'Can't Act' Status Attributes, it's still a pain at times. It acts almost exactly like Sleep and while it lasts for a very short time, you can't cure it with a simple Physical attack.\n\n| Visuals      | Character kneels/Character animation speed paused |\n|--------------|---------------------------------------------------|\n| Effects:     | Character cannot Act                              |\n| Duration     | 8 units                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper          |\n\n#### Darkness\n\nA nuisance at best, Darkness simply reduces your attack accuracy, causing you to miss more often. It's easily cured, however, and it has little tactical use.\n\n| Visuals      | Character kneels/flashes Black                                      |\n|--------------|---------------------------------------------------------------------|\n| Effects:     | Character Accuracy% reduced                                         |\n| Duration     | Until end of battle                                                 |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Silver Glasses, Fairy Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Eye drop                  |\n\n#### Dual\n\nThis extremely rare Status only turns up during one battle; that with Bottomswell. Whenever Bottomswell uses Waterpolo at you, both Imprisoned and Dual are placed on you. Dual is dangerous however; it acts like a reverse Regen. HP is drained over time, requiring swift attention.\n\n| Visuals      | None                                                                                  |\n|--------------|---------------------------------------------------------------------------------------|\n| Effects:     | Character steadily loses approximately 1/32 of their Max HP over each unit of time |\n| Duration     | ???                                                                                   |\n| Protected by | ???                                                                                   |\n| Cured by     | Killing Waterpolo                                                                     |\n\n#### Death Force\n\nA useful status, which allows you to temporarily give yourself protection from Death until the end of the battle. Its usefulness stems from the fact that very few enemies actually use the Death Status. Recognize them, and you can possibly spare an Accessory slot or a few Materia slots and just rely on Death Force for protection when you need it. Of course, the disadvantage is that the immunity is temporary; if that character gets hit by DeSpell or White Wind or gets killed, then they will lose the immunity immediately.\n\n| Visuals      | None                |\n|--------------|---------------------|\n| Effects:     | Immune 'Death'      |\n| Duration     | Until end of battle |\n| Protected by | ???                 |\n| Cured by     | DeSpell, White Wind |\n\n#### Resist\n\nYou are never given any indication of when you have Resist, but its effects are quickly apparent; any Status change is prevented by the power of Resist. Unfortunately, that can also mean, for example, if you have Frog and then Resist is placed on you, you cannot then cure Frog without removing Resist first. Its best use is to trap enemies with certain Status Attributes so that they can't heal themselves. As a secondary use, it can be used as a temporary defense against nasty Statuses, but it's expensive, and not easy to remove.\n\n| Visuals      | None                            |\n|--------------|---------------------------------|\n| Effects:     | Immune to all Status Attributes |\n| Duration     | Until end of battle             |\n| Protected by | None                            |\n| Cured by     | DeSpell, White Wind             |\n\n#### Lucky Girl\n\nOnly one attack in the game can inflict this Status: Lucky Girl. This is one of the Limit Combinations in Cait Sith's Slot Limit. It is a somewhat useful status, causing all subsequent attacks to be Critical Strikes. However, this is offset by its rarity; most players will go through the game without ever seeing Lucky Girl.\n\n| Visuals      | None                                       |\n|--------------|--------------------------------------------|\n| Effects:     | All attacks are automatic Critical Strikes |\n| Duration     | ???                                        |\n| Protected by | ???                                        |\n| Cured by     | None                                       |\n\n#### Imprisoned\n\nThe final temporary 'Can't Act' Status. Unfortunately, the temporary nature of this status is dependant on what is causing it; various enemies have a few ways of dealing out this attribute, and each requires its own method of removing it. In addition, the character is flagged as 'Dead'. It is easily the worst of the four 'Can't Act' Statuses.\n\n| Visuals      | Character Animation speed paused                                                                      |\n|--------------|-------------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act. Character flagged as 'Dead'. Character cannot be targeted by attacks/spells |\n| Duration     | Until end of battle                                                                                   |\n| Protected by | None                                                                                                  |\n| Cured by     | Killing Pyramid, Waterpolo or Left Arm/Right Arm                                                      |\n\n### 4.2 Special Notes On Statuses\n\nIn addition to the above, the following notes must be taken into account.\n\n#### Colours\n\nThe different colors you flash have a priority system; if you currently have a Status that has a higher priority than another one you have, then you will flash the color of the higher priority Status. The priorities are:\n\n| Highest Priority |        |         |          | Lowest Priority |          |        |            |\n|------------------|--------|---------|----------|-----------------|----------|--------|------------|\n| Slow-numb        | Poison | Berserk | Peerless |                 | Darkness | Regen  | Manipulate |\n| GREY             | GREEN  | RED     | YELLOW   |                 | BLACK    | ORANGE | CYAN       |\n\nThus, if your character has both Darkness and Berserk on them, they'll flash Red rather than Black, because Berserk is the more important one to know about. (For instance, you don't want to mistake Slow-numb for Death-sentence just because you've got Regen on, do you?)\n\n#### Status Incompatibilities\n\nVarious statuses will cancel out other ones as soon as they're inflicted upon a character. The following table will demonstrate this:\n\n| Status Name | Cancels                                     |\n|-------------|---------------------------------------------|\n| Death       | All Status Attributes except Frog and Small |\n| Sleep       | Manipulate                                  |\n| Sadness     | Fury                                        |\n| Fury        | Sadness                                     |\n| Haste       | Slow                                        |\n| Slow        | Haste                                       |\n| Stop        | Manipulate                                  |\n| Petrify     | Slow-numb, Manipulate                       |\n| Paralysed   | Manipulate                                  |\n\n#### Removing Conditions\n\nWhat follows are the various ways of removing multiple Status Attributes at the same time. Those not listed are self-explanatory (ie they tell you what they cure. Also, if something cures Petrify, then it also cures Slow-numb)\n\nNote: Healing spells and effects work in strict order, first healing HP, then removing Status Attributes from the top down. Thus, White Wind takes two tries to be able to remove, for example, Frog and Resist; the first time, it can't remove Frog because of Resist. The second try, Resist is gone, so it can finally remove Frog. Keep this in mind.\n\n| Status Name    | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n|----------------|-------|--------|-----------|---------|------------|---------------|\n| Death          | -     | -      | -         | -       | -          | O             |\n| Sleep          | O     | O      | -         | -       | O          | O             |\n| Poison         | O     | O      | -         | -       | O          | O             |\n| Sadness        | O     | O      | -         | -       | -          | -             |\n| Fury           | O     | O      | -         | -       | -          | -             |\n| Confusion      | O     | O      | -         | -       | O          | O             |\n| Silence        | O     | O      | -         | -       | O          | O             |\n| Haste          | -     | -      | -         | O       | -          | -             |\n| Slow           | -     | -      | -         | O       | O          | O             |\n| Stop           | -     | -      | -         | O       | O          | O             |\n| Frog           | O     | O      | -         | -       | O          | O             |\n| Small          | O     | O      | -         | -       | O          | O             |\n| Slow-numb      | O     | O      | -         | -       | O          | O             |\n| Petrify        | O     | O      | -         | -       | O          | O             |\n| Regen          | -     | -      | -         | O       | -          | -             |\n| Barrier        | -     | -      | O         | O       | -          | -             |\n| MBarrier       | -     | -      | O         | O       | -          | -             |\n| Reflect        | -     | -      | O         | O       | -          | -             |\n| Shield         | -     | -      | O         | O       | -          | -             |\n| Death-sentence | -     | -      | -         | -       | -          | -             |\n| Manipulate     | -     | -      | -         | -       | O          | -             |\n| Berserk        | O     | O      | -         | -       | O          | O             |\n| Peerless       | -     | -      | -         | -       | -          | -             |\n| Paralysed      | O     | O      | -         | -       | O          | O             |\n| Darkness       | O     | O      | -         | -       | O          | O             |\n| Death Force    | -     | -      | -         | O       | O          | -             |\n| Resist         | -     | -      | -         | O       | O          | -             |\n\nNote: Due to space constraints, it is difficult to fit any more abilities onto the above list. What's shown above are the most common ways of removing multiple statuses. The others can be summarized as such:\n\nHoly Torch: Cures everything DeSpell does except 'Death Force' and 'Resist'.\n\n#### Reflection\n\nFinally, the following skills can be reflected using the Status Reflect.\n\n##### Reflectable Magic\n\n| Cure   | Cure2 | Cure3 | Poisona | Esuna    | Resist | Life    | Life2 | Regen   | Fire    |\n|--------|-------|-------|---------|----------|--------|---------|-------|---------|---------|\n| Fire2  | Fire3 | Ice   | Ice2    | Ice3     | Bolt   | Bolt2   | Bolt3 | Quake   | Quake2  |\n| Quake3 | Bio   | Bio2  | Bio3    | Sleepel  | Confu  | Silence | Mini  | Toad    | Berserk |\n| Haste  | Slow  | Stop  | Barrier | MBarrier | Death  | Freeze  | Break | Tornado | Flare   |\n| Wall   |       |       |         |          |        |         |       |         |         |\n\n##### Reflectable Enemy Skills\n\n| Frog Song | L4 Suicide  | Magic Hammer | Death Force  | Flame Thrower |\n|-----------|-------------|--------------|--------------|---------------|\n| Laser     | Matra Magic | Aqualung     | Shadow Flare | Pandora's Box |\n\nAll Summons and Items are non-reflectable. As a companion to this section, here are the specific Magic and Enemy Skills that *CANNOT* be reflected.\n\n##### Non-Reflectable Magic\n\n| Demi   | Demi2  | Demi3 | Reflect | DeBarrier | DeSpell |\n|--------|--------|-------|---------|-----------|---------|\n| Escape | Remove | Comet | Comet2  | FullCure  | Shield  |\n| Ultima |        |       |         |           |         |\n\n##### Non-Reflectable Enemy Skills\n\n| White Wind   | Big Guard | Angel Whisper | Dragon Force | Bad Breath | Beta           | Trine    |\n|--------------|-----------|---------------|--------------|------------|----------------|----------|\n| Magic Breath | ????      | Goblin Punch  | Chocobuckle  | L5 Death   | Death Sentence | Roulette |\n\n## 5. Game Over\n\nThere are a number of ways to lose the game, most of which can only occur in battle.\n\nThe most common way is to have all three characters in your battle party flagged as 'Dead'. This involves losing each of your characters to any of the following situations:\n\n1. Gaining the Status 'Death'\n2. Gaining the Status 'Petrify'\n3. Gaining the Status 'Imprisoned'\n\n(This occurs if you are either picked up by one of Carry Armor's arms, or you are surrounded by Reno's Pyramid or Bottomswell's Waterpolo. You must destroy whatever is imprisoning the character to bring them back)\n\n4. Being knocked out of battle by Eat (used by Hungry), Goanni (used by Ghost Ship) or Whirlsand (used by Ruby Weapon). Midgar Zolom's Blown Away, Scissors(Upper)'s Scissor Tornado and Gighee's Sun Diver all knock you out of battle, but flag the character as escaped instead of dead; so instead, if all other characters die or are knocked out, the battle itself will count as an escape.\n\nIf you are still flagged as 'Dead' at the end of a successful battle, then that character will gain no EXP or AP from the battle. However, the Status 'Death' is the only one that lasts into the next battle if you don't cure it.\n\nYou will also lose the battle in one other special case: running out of time in the Emerald Weapon battle. This only occurs if you do not have the Underwater Materia equipped during that battle, however.\n\nNote that if you lose a battle in Battle Square, the Five Gods Pagoda or Fort Condor, you won't lose the game, just the battle. In all other cases, losing a battle means 'Game Over'.\n\nFinally, if you run out of time in the Mako Reactor 1 Mission, you will automatically lose the game, without having to be in battle.\n\n## 6. Credits\n\nA large majority of the work here is my own... but there are some people that I feel it is necessary to mention on this long road.\n\nThe Denizens of alt.games.final-fantasy.rpg:\n\nMy old haunt. More a shout-out rather than credit, but hey, it's where I began, really ^_^ It's also where I met...\n\n### Qhimm\n\n...with whom I worked on the FF8 savemap with. Lots of fun, and we actually got something useful out of it: a working save editor that he programmed named Griever. It was also on his site that met others who took the same interest in this field. Which leads to....\n\nThe Denizens of Qhimm's Forum:\n\nThe SaiNt. Ficedula. Alhexx. And *especially* L.Spiro. There were others, of course, but those are the names who stand out. Enemy Stats and Attack Properties would've been hell to compile without the effort made by those at Qhimm's Forum. I collected data myself, but understanding it? L.Spiro provided the first and most important step in deciphering the attack and enemy dumps.\n\nAnd... that's that, really. Hope you've enjoyed the show.\n\n**The FF7 Battle Mechanics, copyright 2001-2003 Terence Fergusson**\n\n---\n\n## Appendix A: Enemy Battle Scenes (Scene.bin)\n\nFF7 keeps each enemy battle configuration in a file called \"scene.bin\" This file is located in the following directories.\n\n| PSX Version            | PC Version        |\n|------------------------|-------------------|\n| /DATA/BATTLE/SCENE.BIN | /BATTLE/SCENE.BIN |\n\nThis file is exactly the same in both versions. This holds all the battle configurations for all enemies encountered in the game. Its format is as follows:\n\n### Scene.bin File Format by Fremen\n\nDate: September 30, 2003\n\nThese specifications are incomplete, so if you have got any idea about the unknown data blocks, please let me know. :)\n\nThe scene.bin file contains 256 gziped files which give us information for all the FF7 monsters. In order to find these files in scene.bin, you have to know that the file is structured with blocks exactly 0x2000 bytes in length. In the first table (scene.bin block), you will see what contains a block. Blocks are concatenated with each other to form the scene.bin file. So if you want to extract data from scene.bin, you'll need to find the correct blocks and to extract the gziped files from it. After that you simply ungzip those files and you'll find 256 files, with a length is 7808 bytes. Known information about those files can be found in the second table (The Data File specification).\n\nWe have 1024 possible battle numbers: 0 - 1023. Each group of *4* Battle Numbers refers to a particular Scene file: for instance, Battles 0-3 refer to File 0 in Scene.bin, Battles 4-7 refer to File 1 in Scene.bin, and so forth.\n\n#### Scene.bin Block Structure\n\nScene.bin block (length: 0x2000 bytes)\n\n| Offset | Length  | Description                                                           |\n|--------|---------|-----------------------------------------------------------------------|\n| 0x0000 | 4 bytes | Pointer (in DWORD) of the first data file. Example: Offset_of_first_data_file_in_bytes = pointer*4. pointer = 0xFFFFFFFF means that the end of block has been reached. |\n| 0x0004 | 4 bytes | Second pointer of the second data file. pointer = 0xFFFFFFFF means that the end of block has been reached. |\n| 0x003C | 4 bytes | Last pointer. Usually 0xFFFFFFFF. |\n| 0x0040 | 4 * (pointer2-pointer1) bytes | First data file in block. It's a gziped file. Note: Sometimes it may finish by 0xFF bytes, because its size must be multiple of 4. |\n| pointer2 * 4 | 4 * (pointer3-pointer2) bytes | Second data file in block. It's a gziped file. Note: Sometimes it may finish by 0xFF bytes, because its size must be multiple of 4. |\n| lastpointer * 4 | 4 * (0x2000-lastpointer) bytes | Last data file. Note: There's usually about 10 files in each block. Note: Each block finishes by 0xFF bytes, because its length must be 0x2000 bytes. |\n\n#### Data File Specification\n\nData File specifications (length: 7808 bytes)\n\n| Offset | Length   | Description                  |\n|--------|----------|------------------------------|\n| 0x0000 | 2 bytes  | Enemy ID 1                   |\n| 0x0002 | 2 bytes  | Enemy ID 2                   |\n| 0x0004 | 2 bytes  | Enemy ID 3                   |\n| 0x0006 | 2 bytes  | Padding (always 0xFFFF)      |\n| 0x0008 | 20 bytes | Battle set up 1, record 1    |\n| 0x001C | 20 bytes | Battle set up 1, record 2    |\n| 0x0030 | 20 bytes | Battle set up 1, record 3    |\n| 0x0044 | 20 bytes | Battle set up 1, record 4    |\n| 0x0058 | 48 bytes | Battle Setup 2, record 1     |\n| 0x0088 | 48 bytes | Battle Setup 2, record 2     |\n| 0x00B8 | 48 bytes | Battle Setup 2, record 3     |\n| 0x00E8 | 48 bytes | Battle Setup 2, record 4     |\n| 0x0118 | 16 bytes | Battle Formation 1, record 1 |\n| 0x0128 | 16 bytes | Battle Formation 1, record 2 |\n| 0x0138 | 16 bytes | Battle Formation 1, record 3 |\n| 0x0148 | 16 bytes | Battle Formation 1, record 4 |\n| 0x0158 | 16 bytes | Battle Formation 1, record 5 |\n| 0x0168 | 16 bytes | Battle Formation 1, record 6 |\n| 0x0178 | 16 bytes | Battle Formation 2, record 1 |\n| 0x0188 | 16 bytes | Battle Formation 2, record 2 |\n| 0x0198 | 16 bytes | Battle Formation 2, record 3 |\n| 0x01A8 | 16 bytes | Battle Formation 2, record 4 |\n| 0x01B8 | 16 bytes | Battle Formation 2, record 5 |\n| 0x01C8 | 16 bytes | Battle Formation 2, record 6 |\n| 0x01D8 | 16 bytes | Battle Formation 3, record 1 |\n| 0x01E8 | 16 bytes | Battle Formation 3, record 2 |\n| 0x01F8 | 16 bytes | Battle Formation 3, record 3 |\n| 0x0208 | 16 bytes | Battle Formation 3, record 4 |\n| 0x0218 | 16 bytes | Battle Formation 3, record 5 |\n| 0x0228 | 16 bytes | Battle Formation 3, record 6 |\n| 0x0238 | 16 bytes | Battle Formation 4, record 1 |\n| 0x0248 | 16 bytes | Battle Formation 4, record 2 |\n| 0x0258 | 16 bytes | Battle Formation 4, record 3 |\n| 0x0168 | 16 bytes | Battle Formation 4, record 4 |\n| 0x0278 | 16 bytes | Battle Formation 3, record 5 |\n| 0x0288 | 16 bytes | Battle Formation 4, record 6 |\n| 0x0298 | 184 bytes | Enemy Data 1                 |\n| 0x0350 | 184 bytes | Enemy Data 2                 |\n| 0x0408 | 184 bytes | Enemy Data 3                 |\n| 0x04C0 | 28 bytes  | Attack Data 1                |\n| 0x04DC | 28 bytes  | Attack Data 2                |\n| 0x04F8 | 28 bytes  | Attack Data 3                |\n| 0x0514 | 28 bytes  | Attack Data 4                |\n| 0x0530 | 28 bytes  | Attack Data 5                |\n| 0x054C | 28 bytes  | Attack Data 6                |\n| 0x0568 | 28 bytes  | Attack Data 7                |\n| 0x0584 | 28 bytes  | Attack Data 8                |\n| 0x05A0 | 28 bytes  | Attack Data 9                |\n| 0x05BC | 28 bytes  | Attack Data 10               |\n| 0x05BC | 28 bytes  | Attack Data 11               |\n| 0x05F4 | 28 bytes  | Attack Data 12               |\n| 0x0610 | 28 bytes  | Attack Data 13               |\n| 0x062C | 28 bytes  | Attack Data 14               |\n| 0x0648 | 28 bytes  | Attack Data 15               |\n| 0x0664 | 28 bytes  | Attack Data 16               |\n| 0x0680 | 28 bytes  | Attack Data 17               |\n| 0x069C | 28 bytes  | Attack Data 18               |\n| 0x06B8 | 28 bytes  | Attack Data 19               |\n| 0x06D4 | 28 bytes  | Attack Data 20               |\n| 0x06F0 | 28 bytes  | Attack Data 21               |\n| 0x070C | 28 bytes  | Attack Data 22               |\n| 0x0728 | 28 bytes  | Attack Data 23               |\n| 0x0744 | 28 bytes  | Attack Data 24               |\n| 0x0760 | 28 bytes  | Attack Data 25               |\n| 0x077C | 28 bytes  | Attack Data 26               |\n| 0x0798 | 28 bytes  | Attack Data 27               |\n| 0x07B4 | 28 bytes  | Attack Data 28               |\n| 0x07D0 | 28 bytes  | Attack Data 29               |\n| 0x07EC | 28 bytes  | Attack Data 30               |\n| 0x0808 | 28 bytes  | Attack Data 31               |\n| 0x0824 | 28 bytes  | Attack Data 32               |\n| 0x0840 | 2 bytes   | Attack ID 1                  |\n| 0x0842 | 2 bytes   | Attack ID 2                  |\n| ... | ... | ... |\n| 0x087E | 2 bytes   | Attack ID 32                 |\n| 0x0880 | 32 bytes  | Attack name 1 (FF Text)      |\n| 0x08A0 | 32 bytes  | Attack name 2 (FF Text)      |\n| ... | ... | ... |\n| 0x0C60 | 32 bytes  | Attack name 32 (FF Text)     |\n| 0x0C80 | 512 bytes | FF Padding (0xFF)            |\n| 0x0E80 | 2 bytes   | Enemy AI Offset, record 1    |\n| 0x0E82 | 2 bytes   | Enemy AI Offset, record 2    |\n| 0x0E84 | 2 bytes   | Enemy AI Offset, record 3    |\n| 0x0E86 | 26 bytes  | Unknown                      |\n| 0x0EA0 | 4063 bytes | Beginning of AI Data. Starts with 6 bytes of FF |\n\n#### Battle Location Codes\n\n| Code   | Location                                    |\n|--------|---------------------------------------------|\n| 0x0000 | Blank                                       |\n| 0x0001 | Bizarro Battle - Center                     |\n| 0x0002 | Grassland                                   |\n| 0x0003 | Mt Nibel                                    |\n| 0x0004 | Forest                                      |\n| 0x0005 | Beach                                       |\n| 0x0006 | Desert                                      |\n| 0x0007 | Snow                                        |\n| 0x0008 | Swamp                                       |\n| 0x0009 | Sector 1 Train Station                      |\n| 0x000A | Reactor 1                                   |\n| 0x000B | Reactor 1 Core                              |\n| 0x000C | Reactor 1 Entrance                          |\n| 0x000D | Sector 4 Subway                             |\n| 0x000E | Nibel Caves or Forest Caves                 |\n| 0x000F | Shinra HQ                                   |\n| 0x0010 | Midgar Raid Subway                          |\n| 0x0011 | Hojo's Lab                                  |\n| 0x0012 | Shinra Elevators                            |\n| 0x0013 | Shinra Roof                                 |\n| 0x0014 | Midgar Highway                              |\n| 0x0015 | Wutai Pagoda                                |\n| 0x0016 | Church                                      |\n| 0x0017 | Coral Valley                                |\n| 0x0018 | Midgar Slums                                |\n| 0x0019 | Sector 4 Corridors or Junon Path            |\n| 0x001A | Sector 4 Gantries or Midgar Underground     |\n| 0x001B | Sector 7 Support Pillar Stairway            |\n| 0x001C | Sector 7 Support Pillar Top                 |\n| 0x001D | Sector 8                                    |\n| 0x001E | Sewers                                      |\n| 0x001F | Mythril Mines                               |\n| 0x0020 | Northern Crater - Floating Platforms        |\n| 0x0021 | Corel Mountain Path                         |\n| 0x0022 | Junon Beach                                 |\n| 0x0023 | Junon Cargo Ship                            |\n| 0x0024 | Corel Prison                                |\n| 0x0025 | Battle Square                               |\n| 0x0026 | Da Chao - Rapps Battle                      |\n| 0x0027 | Cid's Backyard                              |\n| 0x0028 | Final Descent to Sephiroth                  |\n| 0x0029 | Reactor 5 Entrance                          |\n| 0x002A | Temple of the Ancients - Escher Room        |\n| 0x002B | Shinra Mansion                              |\n| 0x002C | Junon Airship Dock                          |\n| 0x002D | Whirlwind Maze                              |\n| 0x002E | Junon Underwater Reactor                    |\n| 0x002F | Gongaga Reactor                             |\n| 0x0030 | Gelnika                                     |\n| 0x0031 | Train Graveyard                             |\n| 0x0032 | Great Glacier Ice Caves & Gaea Cliffs       |\n| 0x0033 | Sister Ray                                  |\n| 0x0034 | Sister Ray Base                             |\n| 0x0035 | Forgotten City Altar                        |\n| 0x0036 | Northern Crater - Initial Descent           |\n| 0x0037 | Northern Crater - Hatchery                  |\n| 0x0038 | Northern Crater - Water Area                |\n| 0x0039 | Safer Battle                                |\n| 0x003A | Kalm Flashback - Dragon Battle              |\n| 0x003B | Junon Underwater Pipe                       |\n| 0x003C | Blank                                       |\n| 0x003D | Corel Railway - Canyon                      |\n| 0x003E | Whirlwind Maze - Crater                     |\n| 0x003F | Corel Railway - Rollercoaster               |\n| 0x0040 | Wooden Bridge                               |\n| 0x0041 | Da Chao                                     |\n| 0x0042 | Fort Condor                                 |\n| 0x0043 | Dirt Wasteland                              |\n| 0x0044 | Bizarro Battle - Right Side                 |\n| 0x0045 | Bizarro Battle - Left Side                  |\n| 0x0046 | Jenova*SYNTHESIS Battle                     |\n| 0x0047 | Corel Train Battle                          |\n| 0x0048 | Cosmo Canyon                                |\n| 0x0049 | Caverns of the Gi                           |\n| 0x004A | Nibelheim Mansion Basement                  |\n| 0x004B | Temple of the Ancients - Demons Gate        |\n| 0x004C | Temple of the Ancients - Mural Room         |\n| 0x004D | Temple of the Ancients - Clock Passage      |\n| 0x004E | Final Battle - Sephiroth                    |\n| 0x004F | Jungle                                      |\n| 0x0050 | Ultimate Weapon - Battle on Highwind        |\n| 0x0051 | Corel Reactor                               |\n| 0x0052 | Unused                                      |\n| 0x0053 | Don Corneo's Mansion                        |\n| 0x0054 | Emerald Weapon Battle                       |\n| 0x0055 | Reactor 5                                   |\n| 0x0056 | Shinra HQ - Escape                          |\n| 0x0057 | Ultimate Weapon - Gongaga Reactor           |\n| 0x0058 | Corel Prison - Dyne Battle                  |\n| 0x0059 | Ultimate Weapon - Forest                    |\n\n#### Enemy Data Format\n\nEnemy Data (length: 184 bytes)\n\n| Offset | Length   | Description                            |\n|--------|----------|----------------------------------------|\n| 0x0000 | 32 bytes | Enemy's name (completed by 0xFF bytes) |\n| 0x0020 | 1 byte   | Enemy's level                          |\n| 0x0021 | 1 byte   | Enemy's speed                          |\n| 0x0022 | 1 byte   | Enemy's luck                           |\n| 0x0023 | 1 byte   | Enemy's physical dodge                 |\n| 0x0024 | 1 byte   | Enemy's strength                       |\n| 0x0025 | 1 byte   | Enemy's physical defense               |\n| 0x0026 | 1 byte   | Enemy's magic power                    |\n| 0x0027 | 1 byte   | Enemy's magic defense                  |\n| 0x0028 | 8 bytes  | Elements (see element codes below)     |\n| 0x0030 | 8 bytes  | Element affinities (see affinity codes)|\n| 0x0038 | 84 bytes | Unknown data (action/attitude info)    |\n| 0x008C | 2 bytes  | Object you can win at battle's end     |\n| 0x008F | 2 bytes  | Object you can steal (0xFFFF if none)  |\n| 0x0091 | 12 bytes | Unknown data                           |\n| 0x009D | 2 bytes  | Enemy's MP                             |\n| 0x009F | 2 bytes  | AP you receive when finishing battle   |\n| 0x00A1 | 2 bytes  | Morph target item (0xFFFF if none)     |\n| 0x00A3 | 2 bytes  | Usually 0x10 and 0xFF                  |\n| 0x00A5 | 4 bytes  | Enemy's HP                             |\n| 0x00A9 | 4 bytes  | EXP you receive if you finish battle   |\n| 0x00AD | 4 bytes  | Gil you receive if you finish battle   |\n| 0x00B1 | 4 bytes  | Usually 4 \"random\" numbers             |\n| 0x00B5 | 4 bytes  | Usually FF FF FF FF                    |\n\n##### Element Codes\n\n| Code | Element   |\n|------|-----------|\n| 0x00 | Fire      |\n| 0x01 | Ice       |\n| 0x02 | Bolt      |\n| 0x03 | Earth     |\n| 0x04 | Bio       |\n| 0x05 | Gravity   |\n| 0x06 | Water     |\n| 0x07 | Wind      |\n| 0x08 | Scare     |\n| 0x09 | Health    |\n| 0x0A | Cut       |\n| 0x0B | Hit       |\n| 0x0C | Punch     |\n| 0x0D | Shoot     |\n| 0x0E | Scream    |\n| 0xFF | No element|\n\n##### Element Affinity Codes\n\n| Code | Affinity              |\n|------|-----------------------|\n| 0x00 | Death                 |\n| 0x02 | Weakness (200% damage)|\n| 0x04 | Resist (50% damage)   |\n| 0x05 | Defense (0% damage)   |\n| 0x06 | Absorb (-100% damage) |\n| 0x07 | HP Max                |\n| 0xFF | Nothing               |\n\n---\n\n## Appendix B: PSX 3D Battle Scenes\n\n*By Micky*\n\nBackgrounds are stored in probably the easiest model format used in FF7. I reconstructed this from the code for my background-to-Maya converter, so there could be errors. I haven't seen any other documentation on this, so please excuse any duplication...\n\nThe backgrounds are stored in LZS files in the STAGE1 and STAGE2 directories. They are using the ff7-standard lzs compression.\n\nThey begin with a directory: The first word is the number of sections, then there is one pointer for each sections. Each section contains a mesh for the background, except for the first that contains some unknown data and the last that contains the TIM-format texture and palettes.\n\nEach section starts with vertex data, followed by triangle and quad data.\n\n### Vertex Data Format\n\n```text\n1 u32 size of vertex data\n8 byte per vertex:\n3 u16 x,y,z\n1 u16 pad(?)\n```\n\n### Triangle Data Format\n\n```text\n1 u16 number of triangles\n1 u16 texture page (among other flags)\n16 bytes per triangle:\n3 u16 offset into vertex table\n1 u16 unknown\n2 u8 u1, v1\n1 u16 palette (and some other flags)\n2 u8 u2, v2\n2 u8 u3, v3\n```\n\n### Quad Data Format\n\n```text\n1 u16 number of quads\n1 u16 texture page (among other flags)\n20 bytes per quad:\n4 u16 offset into vertex table\n2 u8 u1, v1\n1 u16 palette\n2 u8 u2, v2\n2 u8 u3, v3\n2 u8 u4, v4\n1 u16 unknown\n```\n\nDisplaying the backgrounds is a bit tricky on modern graphics boards, as they don't support palletized textures anymore. Which is understandable given the large number of fetches that would be required for displaying a properly filtered texture - but not very helpful. I solved that by a pre-process that stores the palette on each pixel and then looks up the color during export.\n\n---\n\n## Appendix C: PSX Battle Models Structure\n\n*By Cyberman*\n\n### Terms\n\n- BYTE - is an unsigned 8 bit binary string\n- WORD - is an unsigned 16 bit binary string\n- DOUBLE WORD - is an unsigned 32 bit binary string\n\nValues are SIGNED if they say so, otherwise they are assumable as unsigned.\n\nMany of the PSX files data files use LZS compression.\n\n### Combat Models Directory Structure\n\nCombat Models occupy directories:\n\n- ENEMY1\n- ENEMY2\n- ENEMY3\n- ENEMY4\n- ENEMY5\n- ENEMY6\n\non the CD\n\nENEMY6 contains the character models and their weapons, including the hires version of Cloud and Sephiroth.\n\n### Model Format\n\nThe first 4 bytes of the LZS file contains the uncompressed size of the LZS compressed data, as a double word. The actual compressed data follows after this double word.\n\nAfter the compressed information is decompressed in the model. The first double word contains the number of sections in the model file (SEC_COUNT). Following this is SEC_COUNT double words. This is an array of offsets to data sections within the model.\n\n```c\nFormat information\n[ DOUBLE WORD ] Section Count\n[ DOUBLE WORD ] OFFSET SECTION 1\n[ DOUBLE WORD ] OFFSET SECTION 2\n...\n[ DOUBLE WORD ] OFFSET SECTION N\n```\n\n#### Section Identification\n\nThe first section of a model is the actual model information.\n\nThere is ALWAYS a TIM image as one of the sections, you MUST find this TIM section before doing anything with the model. For models that have no textures applied to them, the TIM image consists of a 16 entry palette and a 1 unit tall 0 units wide 4bits per pixel image.\n\nAll sections from section 2 to before the TIM image are animation sequences. This is nearly identical to the format used on the PC.\n\nOn character models there are 16 sections past the TIM image, these are the weapon models. They have the same format as section 1.\n\n### Section 1 Format (Bone Structure)\n\nSection 1 has several parts to it. It is important to VERY carefully look at the structure starting this section. The beginning of the section is the BONE COUNT. The ROOT BONE follows this, it is NOT counted as a bone and is ALL ZEROs.\n\nA bone is a structure:\n\n```c\ntypedef struct\n{\n    UINT16 Parent;\n    INT16 Length;\n    UINT32 Offset;\n}\nFF7_BONE;\n```\n\nParent 0 is the root bone (the root bone is always relative to itself since it is the ROOT). Offset is the offset from the beginning of the section to the actual data for the polygons that makes on the 3d structure. A bone with an OFFSET of ZERO is a JOINT. It has NO physical shape. Objects are drawn from parent to child. All bone lengths are negative and should be drawn with this is mind (otherwise it will mess up rendering it).\n\n### Physical Shape Data\n\nThe bone offset points to a double word whose value is * 8 the vertex count (or it is the SIZE in bytes of the vertex pool and therefore is always a multiple of 8) After the vertex pool comes the texture triangle count and offset. This will be zero if there are no textures. Next come the textured triangles.\n\n```c\ntypedef struct\n{\n    UINT16 A;\n    UINT16 B;\n    UINT16 C;\n    UINT16 D;\n}\nFF7_POLY;\n\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    UINT8 U0, V0;\n    UINT16 PAL;\n    UINT8 U1, V1;\n    UINT8 U2, V2;\n}\nFF7_TTRI;\n```\n\nTwo structures are shown for a reason. FF7_POLY is a list of offsets into the Vertex pool for each vertex the triangle is made up of. Square follows the LEFT HAND RULE for there ordering to know which way the surface is facing. PAL is actually a bit field that includes information as to which palette the texture information for this triangle is using (see TIM format). U, V are the offset from the upper left corner of the image the coordinates of the texture are pined on.\n\nNext comes the textured Quads count and the textured quads:\n\n```c\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    UINT8 U0, V0;\n    UINT16 PAL;\n    UINT8 U1, V1;\n    UINT8 U2, V2;\n    UINT8 U3, V3;\n    UINT16 ZZ1;\n}\nFF7_TQUAD;\n```\n\nThe purpose of ZZ1 in the Quadric version is UNKNOWN. On ALL quads in the PSX version of FF7 the ordering of the vertices are A B D C. This is a result of the hardware on the PSX rendering a quadric using 2 triangles in hardware. It is again following the LEFT HAND rule of ordered vertices. To compute the palette number to use you take PAL and shift it right 7 bits then and it with 7. These three bits are the palette to use for the texture for that triangle or quadric.\n\nNext comes the triangle count and the triangles, the format of the colored vertex triangles:\n\n```c\ntypedef struct\n{\n    UINT8 R;\n    UINT8 G;\n    UINT8 B;\n    UINT8 U;\n}\nFF7_CLR;\n\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    FF7_CLR Colors[3];\n}\nFF7_TRI;\n```\n\nThe vertices for these are again word sized offsets into the vertex pool. The game uses 24 bit colored vertices in spite of being shown in only 15bit color.\n\nNext comes the colored vertex quadric count and information:\n\n```c\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    FF7_CLR Colors[4];\n}\nFF7_QUAD;\n```\n\nIt has the same A B D C ordering as the textured quads, be sure to follow this or things will NOT come out right.\n\nThere is NO more information after this save likely the vertex pool for the next bone.\n\nIt is important to remember that the TIM image contains where to place the time data and often 1 to 3 palettes. The palettes are used in conjunction with the bit data. There are transparent pixels sometimes in textures. These choose the palette entry that has bit 15 set. This is the transparency bit on the PSX, ALWAYS REMEMBER that it makes that part of the texture transparent when trying to display the model.\n\nAnimation format covered elsewhere.\n\nThe TIM format is covered elsewhere.\n\nThe battle models are IDENTICAL in format as the physical bone description. They consist of 1 bone with one vertex pool and NO textures, any special transparencies one might see in the game are handled by the game, it's not part of the model. The same code you would use to show a single bone, you can use to show a weapon.\n\n---\n\n## Appendix D: PC Battle Models Structure\n\n*By Mirex*\n\nFinal Fantasy 7 battle models are stored in file 'battle.lgp' under FF7/DATA/BATTLE directory. Data can be unpacked by my program Unmass (you can get it at my web, http://mirex.mypage.sk) or by other programs like Ficedula's LGPtools (at http://ficedula.cjb.net)\n\nThe LGP file contains many small files with 4-letters long filenames. File classification can be determined by first two letters of the filename. Files with same first two letters belong to same 3d model. Files 'aa'-'of' are Enemy models, 'og'-'rr' are battle scenes, and 'rs'-'sm' are player models. For example files starting with 'rt' belong to Cloud's model. More info can be found in Alhexx's battle database or in my database (http://mirex.mypage.sk/FILES/monsters.txt)\n\nEvery character model has around 20-40 files, depends on its complexity. File type can be determined by 3rd and 4th character of filename. Files that end with 'aa', are skeleton information, 'ac'-'al' are textures (.TEX files) 'am'-'cj' are body parts (.P files), 'ck'-'cz' are player's weapons(.P files), 'da' are animations files. I have no idea what is inside 'ab' file. For example 'rtck' is model file which contains Cloud's first weapon, Buster sword, because 'rt' = clouds files and 'ck' = 1st weapon file.\n\nSummon models are stored similarly to battle models, but they are stored in magic.lgp, and their filenames are different. Models (P-files) have names \"creature.p??\" where ?? is model part number, textures have names \"creature.t??\", skeleton info has name \"creature.d\" and animations are in files \"creature.a??\".\n\n### File Structure Info\n\n**'AA' - skeleton** - file consists of these parts:\n\nheader - (see structure FF7AAheader below, 52 bytes) it is followed by bone info for each bone (FF7AAbone structure, 12 bytes each) And thats it. Nothing more there.\n\nIf bone's parent is -1 then it begins at center of coordinate system. Else it is child of its parent bone\n\n```c\n//offset\nstruct {\n     unsigned long u1[3]; //0\n     unsigned long bones; //12 number of model bones\n     unsigned long u2[3]; //16\n     unsigned long a; //28\n     unsigned long b; //32 maybe number of body part models\n     unsigned long u3[4]; //36\n} FF7AAheader; //size is 52 bytes\n\nstruct {\n     long parent; //0 index of parent bone, -1 = root node\n     float length; //4 length of bone, always is negative.\n     unsigned long model; //8 1=bone has body part, 0=has no body part\n} FF7AAbone; //size is 12 bytes\n```\n\n**'DA' - animations** - file consists of these parts:\n\nFirst there is 4 bytes long integer which holds number of animations in the file\n\nThen for each animation there is:\n\nFF7AAanimHdr structure (see below) and animation data (see below too)\n\n```c\nstruct s_FF7AAanimHdr {\n    unsigned long rec_a; //0\n    unsigned long rec_b; //4\n    unsigned long block_len; //8\n    unsigned short block_a; //12\n    unsigned short real_data_len; //14\n    unsigned short translat[3]; //16\n    unsigned char u1; //22\n} FF7AAanimHdr; //size = 23 bytes\n```\n\nSize of animation data is ( FF7AAanimHdr.block_len - 11 ), because variables (block_a, real_data_len, translat, u1 are in it) are included in data length.\n\n### Animation Data\n\nIn the animation data there are rotation angles for each bone of the 3D model. Angles are not stored as its usual, in 4 byte floats, but in 12bit integers (that means one integer takes 1.5 byte, 3 angles (rotations for one bone) take up 4.5 bytes !). 4.5 bytes = 36 bits = 3 * 12 bits, so for example if model has 10 bones all rotations are stored in 45 bytes. 12bits can hold value from 0 to 4095. It can be translated into usual angles\n\n```text\n0 euler = 0 degrees and 4096 euler = 360 degrees, so formula is degrees = euler * 360 / 4096\n```\n\nThe animation data are not understood well yet, so usually only first frame and few other frames look as they should when you read them this way.\n\n#### Example Rotation Data\n\nData in hex:\n\n| DC | BF | FE | 00 | 3E |\n|----|----|----|----|----|\n\nData in binary:\n\n| D    | C    | B    | F    | F    | E    | 0    | 0    | 3    | E    |\n|------|------|------|------|------|------|------|------|------|------|\n| 1101 | 1100 | 1011 | 1111 | 1111 | 1110 | 0000 | 0000 | 0011 | 1110 |\n| Angle X |   |      | Angle Y |   |      | Angle Z |   | Beginning of another rotation | |\n\n| X   | Y   | Z   |\n|-----|-----|-----|\n| DCB | FFE | 003 |\n\nData in decimal, euler:\n\n| X    | Y    | Z |\n|------|------|---|\n| 3531 | 4094 | 3 |\n\nData in degrees (* 360 / 4096):\n\n| X     | Y     | Z   |\n|-------|-------|-----|\n| 310.3 | 359.8 | 0.2 |\n\n### Data Organization\n\n- Textures\n- Sprites\n- Models\n"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":3706,"cache_read_input_tokens":102506,"cache_creation":{"ephemeral_5m_input_tokens":3706,"ephemeral_1h_input_tokens":0},"output_tokens":28108,"service_tier":"standard"},"context_management":{"applied_edits":[]}},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"ca8fec40-b8fb-4fdb-abc4-0e90b49c7716"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QcWRuPxMD4D6FknChEt11R","type":"tool_result","content":"File created successfully at: /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md"}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"c2cc7824-4df0-435b-98ea-1f56a62bbed8","tool_use_result":{"type":"create","filePath":"/Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md","content":"---\ntitle: \"FF7 Battle Damage Formulas\"\nmodule: \"Battle\"\ncreated: \"2025-11-29 00:00 JST\"\nmodified: \"2025-12-02 01:20 JST\"\nsession_id: \"925a8e3d-e852-4981-bb0f-e17592b1a9f3\"\nauthor: \"Generated by Claude Code Documentation Standardization Agent\"\nstatus: \"Complete\"\n\n# LLM-specific metadata (CRITICAL for routing)\nllm_summary: \"Comprehensive battle damage calculation formulas including physical/magical base damage, defense modifiers, elemental interactions, and all 31 status effects. LLMs should read this when implementing battle damage calculations, debugging damage output discrepancies, or understanding status effect mechanics.\"\nllm_tags: [\"battle-damage\", \"damage-formulas\", \"status-effects\", \"elemental-damage\", \"defense-calculation\", \"critical-hits\"]\nllm_primary_topics: [\"Base Damage Formulas\", \"Battle Damage Calculation Pipeline\", \"Status Effect Attributes\", \"Elemental Damage Modifiers\", \"Scene.bin File Format\"]\nllm_related_docs: [\"FF7_Battle_Battle_Mechanics.md\", \"FF7_Battle_Battle_Scenes.md\", \"FF7_Playstation_Battle_Model_Format.md\", \"FF7_Kernel.md\"]\n\n# Backlinks (leave empty - populated in pass 2)\nreferenced_by: []\n---\n\n<!--\nSTANDARDIZATION METADATA\nOriginal: FF7_Battle_Damage_Formulas.md\nSource: merged_with_pdf_content/FF7_Battle_Damage_Formulas.md\nStandardized: 2025-12-02 01:20 JST\nSession-ID: 925a8e3d-e852-4981-bb0f-e17592b1a9f3\nAgent: FF7 Documentation Standardization Agent v1.0\n\nPrevious Merge Metadata:\nMERGE METADATA\nCreated: 2025-11-29\nOriginal: FF7_Battle_Damage_Formulas.md (1779 lines)\nMajor section: 06_BATTLE_MODULE.md\nMerge decision: NO EXTRACTION PERFORMED\nReason: Individual file contains Terence Fergusson's comprehensive damage formula documentation\nStatus: COMPLETE - Original file copied as source of truth\n\nStandardization Changes Applied:\n- Added YAML frontmatter with LLM routing metadata\n- Fixed heading hierarchy: Corrected H1â†’H4 skips throughout document\n- Converted all wiki-style anchors {#anchor_name} to standard markdown format\n- Standardized heading levels: H2 for major sections, H3 for subsections, H4 for detail items\n- Removed duplicate paragraph content (lines 70-74 were duplicated)\n- Added language tags to all code blocks (c, text)\n- Preserved all technical content including formulas, tables, and data structures\n- Removed bold formatting from headings where inappropriate\n- Normalized asterisk emphasis to standard markdown format\n\nLLM CONTEXT BLOCK (Read this first for routing decisions):\nThis document is the authoritative reference for FF7 battle damage mechanics, authored by Terence Fergusson.\nIt covers the complete damage calculation pipeline from base damage formulas through defense, barriers,\nelemental modifiers, and the 9999 sanity check. Also includes comprehensive status effect documentation\n(31 statuses) with visual indicators, effects, durations, and cure methods. The latter sections contain\nScene.bin file format specifications and PSX/PC battle model structure documentation from community contributors.\nCross-reference with FF7_Battle_Battle_Mechanics.md for AI scripting and FF7_Battle_Battle_Scenes.md for\nscene configuration details.\n-->\n\n# FF7 Battle Damage Formulas\n\n## Table of Contents\n\n- [Version History](#version-history)\n- [Foreword](#foreword)\n- [Component Guides](#component-guides)\n- [Contents](#contents)\n- [1. Definitions](#1-definitions)\n- [2. Basic Damage Formulae](#2-basic-damage-formulae)\n- [3. Battle Damage](#3-battle-damage)\n- [4. Statuses](#4-statuses)\n- [5. Game Over](#5-game-over)\n\n## The Final Fantasy 7 Battle Mechanics by Terence Fergusson\n\nThis document is entirely my work, and was written and is owned by me, Terence Fergusson. All copyrights and trademarks are acknowledged where not specifically mentioned. If you wish to reproduce this document AS IS, you may do so without having to ask for my permission, providing that the entire document including this copyright notice is left intact, and preferably in ASCII text format.\n\n### Version History\n\nv0.8 : 23/03/02 : Original Release - Not accompanied by sister guides\n\n### Foreword\n\nThese guides have been a long time in the making.\n\nIt started with a webpage. Just a small private one that I created early in April 1999. It was more practice than anything else, and I put up most of my findings about the game at that time. Most of it was incorrect, but I had some basics down.\n\nI changed to pure text format soon after when I realized that a webpage was very difficult to update with the number of tables such a Mechanics document requires. Pure text is also a lot easier to simply add stuff to. Updates can be made in seconds.\n\nBut this was still a private thing. It's been private for years, in fact. But that's not to say it wasn't added to or the information wasn't utilized.\n\nDuring this time, I've met many people who share the same fascination that I have with this subject. We've helped each other too; some of the information included here is due to information that was pointed out to me in the memory dumps. I've learned from it, I've progressed. And the guide grew.\n\nRecently, it's become more and more apparent that this kind of information is not only useful, but also in demand. True, it doesn't help the average player, whose only concern is to get from A to B without too much trouble and just having fun along the way... but to others, it's fun to learn how the game works, and exactly what makes the monsters they fight tick.\n\nAs such, I have finally managed to complete this to my satisfaction. It may not be finished yet, and I may not ever find the time to update it so that it is complete... but at least it is whole.\n\nAnd this is it.\n\nNOTE (23/03/0003): This isn't a finished product. It may never be a finished product. As it stands, only this guide of the three planned is being released. Please do not e-mail asking on the progress of the other two; the Battle Mechanics guide is being released now as something to work on. The other two will follow when they're structurally complete, and not before.\n\n### Component Guides\n\n*The FF7 Game Mechanics Guides* are split into three files. This guide, the first, will detail the basic formulas, terms and statuses used in battle. The other two are:\n\n#### The FF7 Party Mechanics\n\nCovers the various battle formulas relating to the party, notably formulas regarding spell damage, materia use, and limit breaks.\n\n#### The FF7 Enemy Mechanics\n\nA list of enemies focusing on their attacks and attributes, and how the damage from those attacks are factored into the battle mechanics formulas.\n\nThe FF7 Battle Mechanics is the main one to start with, since it will define many terms that will be used in both Party and Enemy Mechanics.\n\nNote that this guide is based on the PC version. While most alleged gameplay differences between the PC and PSX versions have been proven false, more may exist.\n\nNOTE (23/03/0003): Only the Battle Mechanics Guide has been released as of this point. The other two will follow when they are done, which may not be soon. Please don't hold your breath waiting for them.\n\n### Contents\n\n- 1. Definitions\n- 1.1 Character Stats\n- 1.2 Special Term Definitions\n- 1.2.1 Basic Terms\n- 1.2.2 Types of Attack\n- 1.2.3 Target Types\n- 1.2.4 Equipment Modifiers\n- 2. Basic Damage Formulae\n- 3. Battle Damage\n- 4. Statuses\n- 4.1 Status Attributes\n- 4.2 Special Notes On Statuses\n- 5. Game Over\n\n## 1. Definitions\n\n### 1.1 Character Stats\n\nThere are seven Primary Stats and seven Derived Stats that make up your basic character. The Primary Stats are:\n\n| Str: Strength | Dex: Dexterity |\n|---------------|----------------|\n| Vit: Vitality | Mag: Magic     |\n| Spr: Spirit   | Lck: Luck      |\n| Lvl: Level    |                |\n\nThe Derived Stats are:\n\n| Atk: Attack     | At%: Attack%   |\n|-----------------|----------------|\n| Def: Defense    | Df%: Defense%  |\n| MAt: Magic atk  | MDf: Magic def |\n| MD%: Magic def% |                |\n\nNOTE! There is a bug in FF7 such that Armour MDefense Bonus is *not* added to Magic Def. This is reflected in many places, including the Status screen (but the bonus you are supposed to get is visible in the Equip screen). To my knowledge, it is definitely evident in both the PC version and the PSX version. You will take the same amount of magic damage regardless of your Armour's MDefense rating.\n\nThe Primary Stats dictate the overall strengths of your character. Level dictates exactly how powerful the character is, while the last six stats round off the character. Each character has a starting value for their Primary Stats, and every level, there is a chance that these stats will be raised by a random number of points. In addition, it's possible to further raise these stats permanently using Sources.\n\nThe Derived Stats are based from your Primary Stats and your currently worn equipment. They are derived as such:\n\n| Atk | Str + Weapon Attack Bonus               |\n|-----|-----------------------------------------|\n| At% | Weapon Attack% Bonus                    |\n| Def | Vit + Armour Defense Bonus              |\n| Df% | (Dexterity / 4) + Armour Defense% Bonus |\n| MAt | Magic                                   |\n| MDf | Spirit + Armour MDefense Bonus          |\n| MD% | Armour MDefense% Bonus                  |\n\nYour Derived Stats, along with a few of the Primary Stats(mostly Level and Luck), are what's used in every battle to determine battle damage, spell strength, and so on.\n\nIn addition to the above, many pieces of amour, weaponry and accessories will give you special bonuses to your Primary Stats which, in turn, affect your Derived Stats. You can only see these bonuses in effect on the Status screen though, not on the Equip screen. These bonuses are factored into battle, however.\n\nFrom now on, the three letter abbreviations next to each Stat will be used instead of their full names.\n\n### 1.2 Special Term Definitions\n\nThe following terms will be used throughout the Game Mechanics guides.\n\n#### 1.2.1 Basic Terms\n\n##### Base Damage\n\nThis is a special term which means the basic power of most basic types of attack. For physical attacks, Base Damage is dependent on Atk and Lvl. For magical attacks, it is dependent on MAt and Lvl. Most attacks will use Base Damage to determine the damage they do. In ability formulas, this will be listed as Base.\n\n##### NRV\n\nShort for No Random Variation, this means that the attack will not vary in power according to a random factor.\n\n##### Caster\n\nThe character that used the ability. Also known as the source of the attack's effect.\n\n##### Target\n\nThe character that is affected by the ability.\n\n##### BD (Before Defense) Modifier\n\nThis term applied to quite a number of abilities. The primary use for BD Modifiers is for Ultimate Weapons. In this case, the name which has been given to them is UW Modifier. As of writing, only one BD Modifier is known that is not connected to Ultimate Weapons, but the distinction, however slim, still stands. All BD Modifiers take the form of a fraction with a denominator of 16. (For example: 3/16) See below for details.\n\n##### UW (Ultimate Weapon) Modifier\n\nA subset of BD Modifiers. UW Modifiers are for Ultimate Weapons only. They are separated for clarity. Take note that UW Modifiers are only applied to Base Command skills, which are defined as: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow.\n\n##### Added Damage Effect\n\nThis term applies to certain weapons and abilities. It is a modifier that is multiplied to the damage during damage calculations. See below for details.\n\n##### Element\n\nSome attacks will use a special Element that will determine certain factors about the attack. Most enemies will have certain elemental weaknesses and strength; this factor will determine whether the attack will do extra damage or be defended against. For example, an attack described as a 'Elm: Fire' attack will do Fire Elemental damage.\n\n##### Common Elements\n\nNote that FF7 uses the following common Elements:\n\n| Fire   | Ice         | Lightning | Earth |\n|--------|-------------|-----------|-------|\n| Poison | Gravity     | Water     | Wind  |\n| Holy   | Restorative |           |       |\n\nThe absence of any Element is termed Non-Element, which, while not technically an element in itself, will be used to denote this state.\n\nAlso note that there are five more Elements that apply only to Physical Attacks. While FF7 is aware of them, they are not normally utilized in Elemental calculations because almost nothing is weak or defends against them:\n\n| Cut   | Hit   | Punch |\n|-------|-------|-------|\n| Shoot | Shout |       |\n\nAnd finally, there is a 16th Hidden Element that was obviously supposed to have been dummied out, but due to sloppy coding, has ended up having unexpected effects with the Elemental Materia and certain attacks.\n\nHidden\n\nOf the above Elements, Restorative, Cut, Hit, Punch, Shoot, Shout and Hidden are not made known to the player. They can be described as follows:\n\n| Element     | Description                                                                                                                                                                                                                                                                                                                |\n|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Restorative | See below for the definition of Restore. Restorative is the difference between the Cure and Life series of spells which give back HP, and the Holy Elemental attack spells like Alexander, which cause Holy Element damage. While Undead are often said to be Weak to Holy, they *Absorb* Restorative instead. |\n| Cut         | Used to describe an attack that uses an edged weapon.                                                                                                                                                                                                                                                                      |\n| Hit         | Used to describe an attack that uses a blunt weapon.                                                                                                                                                                                                                                                                       |\n| Punch       | Used to describe an attack that uses a piercing weapon.                                                                                                                                                                                                                                                                    |\n| Shoot       | Used to describe attacks that use projectile weapons.                                                                                                                                                                                                                                                                      |\n| Shout       | Used to describe attacks that are sonic or energy-based in nature.                                                                                                                                                                                                                                                         |\n| Hidden      | Unknown. Unlike the others, Hidden is the name I've given it. Very few attacks have this element. Any that do can be protected from by linking any non-Element Materia with the Elemental Materia in a character's armor.                                                                         |\n\n#### 1.2.2 Types of Attack\n\nWhen an attack type is given, the following terms will be used to describe them. These are the most common terms; unique terms will be described within the notes for the appropriate ability itself.\n\n| Type of Attack | Description                                                                                                                                                                                                           |\n|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Physical          | Any attack termed as Physical will use Att and Def as the primary damage calculating stats, and is affected by Barrier. It will also normally use the Physical Formula for Base Damage, unless noted otherwise. |\n| Magical           | Any attack termed as Magical will use MAt and MDf as the primary damage calculating stats, and is affected by MBarrier. It will also normally use the Magical Formula for Base Damage, unless noted otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| Piercing          | This means that the attack will ignore the target's Defense and Magic def stats when determining how much damage it will do to them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |\n| Attack            | Any attack with this modifier will cause damage to some stat. By default, this is HP, but this can be modified. For example, MP Attack would mean an ability that reduces the target's MP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |\n| Absorb            | The same as Attack, except that the caster benefits in some way from the damage given to the target. Unless otherwise noted, the benefit is equal and opposite to the damage dealt to the target                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |\n| LR                | Short for Long Range, this means that the ability will not factor Back Row modifiers into the formula. Thus, the ability will do full damage no matter what the distance. This also means that the ability can target enemies that are 'Can't reach'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |\n| Restore           | Restorative is a special Element that has the damage rules for Elements reversed. Specifically, with no Restorative affinity, targets will gain HP or MP from this Element. However, targets that are listed as Absorb Restorative will alternatively take damage from this element. If an attack is listed as Restorative, it will replace the Attack modifier. Restore is used just to remind that this is a healing ability; 'Elm: Restorative' will still be listed within the attack, and in all other ways, it is classed as an Attack.                                                                                                                                                                                         |\n| Recovery          | A special type of attack, this ability will completely refill the target's HP and MP. It can function without an Element, but if it does have one, then against any target that Absorbs the ability's Element, it will inflict Death status instead of restoring their HP and MP. The words 'Recovery' or 'Death' will flash up over the target to demonstrate which is being used.                                                                                                                                                                                                                                                                                                                                                      |\n| Change Status  | This attack type attempts to change the statuses on a target. Changes in Status are divided into three types: Cure, Inflict or Toggle. Cure will remove an instance of that Status. Inflict will attempt to give the target that Status. Toggle will either Inflict the Status on the target, or Cure it if the target already has that Status. If at any time a spell or ability is described as Curing, Inflicting or Toggling a Status, it will also have a number in square brackets. This number is the relative chance of success. (Example: [15] Inflict 'Death' is a Rating 15 chance of inflicting the Death Status. The exact formula is not yet known, but a rough guide is to think of the Rating as a chance out of 64. This approximation works well when used against enemies of equal level to you) A Change Status ability, like any other attack, will be either Physical or Magical; however, if Change Status is used, then this means that the attack itself does no damage. The only reason Physical or Magical is listed is for certain enemies that may react to one or the other. If the chance reads [63], then the Status Chance is as near enough to 100% as it's going to get. I've only ever seen a [63] Rating fail once thus far, and that was Death Dealer's Hidden One against a L99 Barret |\n| Misc              | Any ability that is not adequately described by the above categories falls under this category by default. Whatever effect the ability has will be depicted under Notes.    |\n\n#### 1.2.3 Target Types\n\nAny ability used will often require a target to be given. The following shorthand will be used:\n\n| Op  | Opponent                  |\n|-----|---------------------------|\n| Al  | Ally                      |\n| Tar | Target (Opponent or Ally) |\n\n##### 1 Tar\n\nThis means that the ability can only hit one selected target. Normally, this target will be selected by the player or enemy. Multi-hit attacks that only hit one selected target also fall under this category.\n\n##### n Tar\n\nThis special variation of the above means that the ability will hit n randomly selected targets in the chosen target group. For example, Omnislash will be listed as '15 Op', which means it will hit 15 randomly selected targets in a selected opponent target group.\n\n##### All Tar\n\nThis means that the ability will hit all targets within the selected target group once each. If this Target Type is used, the strength of the ability must be multiplied by 2/3; that strength is then used to determine the damage for each single target in the group. Note that if there is only one Target in the group, then the ability is used at full strength instead; it's counted as a 1 Tar attack.\n\n##### All Tar (NS)\n\nNS stands for No Split. This means that the strength of the ability is NOT multiplied by 2/3 when used against All Targets. It will thus do full damage to each and every single target in the group.\n\n##### Area\n\nThis means that the entire battlefield is a valid target for the ability. Both the party and the enemies will be affected.\n\n##### Random\n\nThis means that the target will actually be a randomly selected single target out of a valid group. Similar to n Tar, except that the valid group is what's being specified. Random [All] specifies a single random target out of a single target group. Random [Area] specifies a single random target out of all valid target groups in battle. (Example: Random [All Tar] would allow you to decide which target group to attack, and then a single target would be picked randomly from that group. Random [Area] would have no such choice, and the single target would be picked from all targetable characters in the battle.)\n\n#### 1.2.4 Equipment Modifiers\n\nThe following terms will be used as shorthand to describe various modifiers equipment and accessories may give.\n\n##### +?? Stat\n\nThis indicates that wearing the given equipment will give the indicated bonus to the described Basic Stat. In the Weapon List found in the FF7 Player Mechanics, there are columns already for Mag, Spr, Vit and Dex bonuses, so bonuses for those stats given by Weapons will be found in those columns instead.\n\n##### Half/Void/Absorb Elemental\n\nThe equipment will automatically allow you to either Halve, Void or Absorb damage from the relevant Elements. If you have a better Elemental Defense than the one given, it will not be affected; the better Defense automatically takes priority.\n\n##### Immune Status\n\nWearing this equipment will automatically make you immune to the given Status. Note that Immunity is really a Resist. If you are Immune to that Status, then it is also impossible to Cure that Status should you have it on you. This is best shown by wearing a Ribbon and using a Hyper outside of battle; you will gain the 'Fury' Status, but nothing will be able to remove that Status while you are inside battle.\n\n##### Start with Status\n\nThis means that wearing the piece of equipment will make sure you begin each battle with the named Status(es). You cannot protect yourself from this initial infliction.\n\n## 2. Basic Damage Formulae\n\nFirst, it is important that you are familiar with the [x] convention. Basically, [x] is the greatest integer equal to or less than x. Thus, [4.5] would be 4. This convention will be used throughout the guides, and is very important for battle damage. In addition, you should also be familiar with the following convention - x ... y - which defines an integer random number between x and y inclusive. For example, 3 ... 8 would be a random number out of 3, 4, 5, 6, 7 and 8.\n\nFinally, a function Rnd is defined here, since it is also required by this guide. Rnd picks a random number between 0 and 1 inclusive. It is not known yet what precision of accuracy Rnd uses at this point.\n\nThe Base Damage formula is the most important battle formula in the game, so it will be listed here.\n\nThe Physical Formula for Base Damage is defined as such:\n\nBase Damage = Att + [(Att + Lvl) / 32] * [(Att * Lvl) / 32]\n\nThe Magical Formula for Base Damage is defined likewise:\n\nBase Damage = 6 * (MAt + Lvl)\n\nNote that while Att and MAt are used in the above formulas, it is possible for FF7 abilities to be coded to use each formula with the opposite attack stat (using MAt instead of Att in the Physical Formula, for instance). However, this is purely academic, since no known ability has been found within the game code that does this.\n\n## 3. Battle Damage\n\nNow that the basic terms and formulae have been covered, the basic battle process of determining damage can be defined. Note that certain abilities may skip certain aspects of this procedure; for example, Mindblow will never need to work out either Base Damage, DefMod or Random Variation, because it is a Piercing attack with NRV, and uses a formula that doesn't need Base.\n\n### Step 1: Define Negative Damage\n\nA boolean flag named 'Negative Damage' shall be defined at this point. The only factor it checks at this stage is whether the attack contains the Restorative Element. If it does, then Negative Damage is true. Otherwise, it begins as false. The purpose of this flag shall become clear later.\n\n### Step 2: Find Base Damage\n\nFirst, for most attacks, Base Damage must be worked out. If the formula used for the ability does not use Base, then this part may be skipped. The Base Damage formulae are listed in the previous section, and depend on whether the attack is Physical or Magical.\n\nIf the character is 'Small', then Base Damage must be worked out with Att = 0.\n\nFinally, the character's Physical Base Mod and Magical Base Mod are checked. Hero Drinks (as an example) raise both of these by 30 each time you drink them, to a maximum of 100.\n\nIf the attack is physical:\n\n```text\nBase Damage = [Base Damage * (100 + Physical Base Mod) / 100\n```\n\nIf the attack is magical:\n\n```text\nBase Damage = [Base Damage * (100 + Magical Base Mod) / 100]\n```\n\n### Step 3: Use the Appropriate Formula\n\nNext, the formula for the attack is worked out. This is usually either an independent formula or a multiple of Base. This gives us the power of the attack. FF7 has several formulas that it may use:\n\n- Physical Base Damage Formula * Power of Attack\n- Magical Base Damage Formula * Power of Attack\n- Percentage of Target's HP\n- Percentage of Target's Max HP\n- Magical Formula + Power of Attack (the Cure Formula)\n- Fixed Power of Attack\n- Recovery\n- Special Formulas\n\nThe last in that list refers to formulas that require special variables that aren't normally checked in battle, like for Chocobuckle, which requires the number of times the party has escaped from battle as a defining variable.\n\nIn addition, there are many different Fixed Power formulas. Since this is not a hex debug document, no attempt will be made to further explain this; the formulas used will instead be listed next to each ability in the FF7 Party Mechanics and the FF7 Enemy Mechanics.\n\nMany abilities will have either the Non-Damaging formula or a Power of 0. Thus, they may skip this part, since these are generally abilities that change statuses or do other non-damage related abilities. Element checking may still take place though to determine success of certain abilities.\n\nAt this point:\n\ndam = [dam]\n\n### Step 4: Factor in the BD (Before Defense) Modifiers\n\nBD Modifiers are factored in now, since they're a measure of your base damage. Note that UW (Ultimate Weapon) Modifiers are classified as BD Modifiers.\n\nBD Modifiers on weapons *ONLY* take effect if the ability used is a BASE Command skill. These commands are: Attack, 2x-Cut, 4x-Cut, Slash-All, Mug, Morph and D. blow. Limit, Magic, Summon, Item and E. Skill are exempt from this (thus, an Ultimate Weapon will not lend its added damage capability to a Limit Break, for example). In addition, attacks that don't use Base Damage or use their own formula (like Throw) are also exempt from this.\n\nThe key thing is to note how two BD Modifiers are put together (this should only be necessary when using Morph with most Ultimate Weapons, but the method is listed here just in case). The formula is:\n\nNew BDM = [(BD1 * BD2 * 16) + (15 / 16)] / 16\n\nThis may seem confusing, but what we're actually doing is every time we multiply two BD Modifiers together, we have to round *up* to the nearest 1/16th. For example:\n\n9/16 * 2/16 = 18/256 = 9/128\n\nWhich rounds up to 2/16 or 1/8.\n\nIf we use the formula to check this, we get:\n\n```text\nNew BDM = [(9/16 * 2/16 * 16) + (15 / 16)] / 16\n= [(9 * 2/16) + 15/16] / 16\n= [18/16 + 15/16] / 16\n= [33/16] / 16\n= [2 + 1/16] / 16\n= 2 / 16\n```\n\nBy going through the BD Modifiers as above, you should eventually end up with one final BD Modifier. This is applied to the damage like so:\n\ndam = [BD Modifier * dam]\n\n### Step 5: Calculate All Tar if Appropriate\n\nAttacks that target All Targets are granted a modification now. If the attack is No Split (listed as All Tar (NS)), then this section is skipped. In addition, if there is only 1 target in the group, then this section is skipped (it counts as if it was only used against 1 Tar instead).\n\nWhether an ability is No Split or not depends on the formula and valid target data for the ability in question. Attacks that use the Physical Formula will always split their damage (they can never have the No Split ability). Attacks that use the Magical Formula are only No Split if they cannot be switched between All Tar and 1 Tar. Any ability that works with the All Materia will thus automatically be denied No Split. The exception here is the Cure Formula, which always splits no matter what the valid target data. The rest of the formulas will generally be No Split, but exceptions will be noted.\n\nIf the attack is not No Split:\n\ndam = [dam * 2 / 3]\n\n### Step 6: Calculate Quadra Magic if Available\n\nIf the ability is linked to Quadra Magic and Quadra Magic works with it, then:\n\ndam = [dam / 2]\n\nThis happens no matter what, unless the ability does not do any kind of damage or healing. (Demi and FullCure are affected as well)\n\n### Step 7: Calculate Defense\n\nDefense comes next, if warranted. If the attack is Piercing, then this part is ignored. If the attack is Physical, then the target's Def stat is used; otherwise, if the attack is Magical, the MDf stat is used.\n\nThe Defense Mod and MDefense Mod of the character is checked at this point. This is a special battle-only stat that is modified by Hero Drinks and Dragon Force (as examples). Each Hero Drink raises both Mods by 30. Each Dragon Force raises both Mods by 50. Neither Mod can ever exceed 100. The two values are applied as such:\n\nIf attack is Physical:\n\nDefNum = [Def * (100 + Defense Mod) / 100]\n\nIf attack is Magical:\n\nDefNum = [MDf * (100 + MDefense Mod) / 100]\n\nAnd finally, we apply the damage reduction:\n\n```text\ndam = [dam * (512 - DefNum) / 512]\n```\n\n### Step 8: Calculate Berserk and Critical Strike\n\nIf the character is in 'Berserk' and the ability uses a Physical Base, then:\n\ndam = [dam * 1.5]\n\nCritical Strikes and Deathblow damage are also done at this point. If the attack is a Critical Strike (either through luck, via the Deathblow command, the Lucky Girl status, or any other move that has automatic Criticals), and the ability uses a Physical Base then:\n\ndam = dam * 2\n\n### Step 9: Frog Check\n\nAt this point, after Critical Strike, if the Caster is a 'Frog' and the attack utilises Physical Base Damage, then:\n\ndam = [dam / 4]\n\n### Step 10: MP Turbo Check\n\nMP Turbo also gets a look in at this point if the ability is compatible and is currently paired with the requisite Materia. Depending on the level of the MP Turbo Materia, damage is adjusted accordingly:\n\ndam = [dam * (1 + (MP Turbo Level / 10))]\n\n### Step 11: Back Row Check\n\nBack Row modifier occurs now. If the attack is Magical or is Long Range, then this part is ignored. If either the Caster or the Target is in the back row, then:\n\ndam = [dam / 2]\n\nNote that the above applies even if attacking an ally or even yourself. It is only applied once though; you will do 1/2 rather than 1/4 damage if you attack yourself with a non-LR physical attack while in the back row.\n\n### Step 12: Barrier and MBarrier Check\n\nBarrier and MBarrier are now looked at. If the target has Barrier and the attack is Physical and does not have the No Barrier attribute, then:\n\ndam = [dam / 2]\n\nThe same goes for MBarrier; if the target has MBarrier and the attack is Magical and does not have the No Barrier attribute, then:\n\ndam = [dam / 2]\n\nGenerally, only the Physical Formula, the Magical Formula and the Cure Formula attacks are affected by Barrier and MBarrier. The rest will usually be No Barrier. As always, exceptions will be noted as and when we come to them.\n\n### Step 13: Sadness Check\n\nSadness is skipped if the ability is NRV, a Restore or from an Item.\n\nIf the target has the Status 'Sadness', then the damage is modified accordingly:\n\ndam = dam - [dam * 79 / 256]\n\n### Step 14: Random Variation Factored In\n\nIf the ability being used is listed as NRV, then we skip this part:\n\nRandom Variation comes next. Thus, the following is applied:\n\ndam = [dam * (15 + Rnd) / 16]\n\n### Step 15: Lower Bound Sanity Check\n\nLower bound sanity checking takes place at this point. Thus:\n\nIf (dam < 1) Then: dam = 1\n\nDamage greater than 9999 is left unchanged at this point.\n\n### Step 16: Added Damage Effects\n\nAdded Damage Effects are now done. These are simple integer multipliers.\n\nAdded Damage Effects on weapons, like BD Modifiers above, *ONLY* take effect if the ability used is a BASE Command skill. No doubling up of Yoshiyuki with Goblin Punch, for example.\n\nIn any case, for all Added Damage Effects that must be done:\n\ndam = dam * Added Damage Effect\n\n### Step 17: Elemental Damage and Final Status Checks\n\nFinally, Elemental Damage and Final Status Checks takes place. Once one Elemental is found in the order of priority, the others will be skipped. Note that Poison Element is special; if you're Immune to the status, then you also count as being Immune to the element (but Asrb: Poison will always be checked first).\n\nWithin this section, checks against Shield, Peerless and certain special abilities of enemies are also made. It is impossible to be sure of the order this happens in, so no attempt will be made to integrate these checks into the below Elemental system. However, relative notes on the subject can be found in the respective Status descriptions and the specific enemy attributes this applies to.\n\nAlso, once again, any Elemental affinity the player has on their weapon is only taken into consideration for base Command abilities. You can't have a Fire-element Omnislash, for example, or Throw Gravity-element Mythril Sabers.\n\nFirst, check if the target Absorbs one of the Elements of the attack. If so, then the Negative Damage flag is toggled (if Negative Damage was true, it's now false; and vice versa).\n\nIf the target doesn't Absorb any of the Elements, but does Void it, then:\n\ndam = 0\n\nIf the target doesn't Absorb or Void any of the Elements, but does Half it, then:\n\ndam = [(dam + 1) / 2]\n\nFinally, if the target hasn't Absorbed, Voided or Halved any of the Elements already, then Weak is checked. If the target is Weak against any of the Elements, then:\n\ndam = dam * 2\n\n### Step 18: The 9999 Sanity Check\n\nAfter all this, only one thing remains.\n\nIf (dam > 9999) Then: dam = 9999\n\nIf the attack does damage to MP and the target does not have the 'HP<->MP' Materia equipped, then the sanity check is instead:\n\nIf (dam > 999) Then: dam = 999\n\nThe 999 'Sanity Check' is also used if the target *does* have 'HP<->MP' equipped and the damage is dealt to HP instead of MP (the 'HP<->MP' Materia not only reverses HP and MP, but it also reverses the max damage allowed against that target).\n\n### Step 19: Negative Damage\n\nThe final damage has, at that point, been calculated. All that remains is to check the status of the Negative Damage flag.\n\nIf Negative Damage is true, then the amount 'dam' will be healed to the target. The type of the attack will define what exactly is healed and what else is done with the 'dam' variable.\n\nIf Negative Damage is false, then the amount 'dam' will be used as damage against the target's appropriate stat (usually HP).\n\n### Battle Damage Summary\n\nThe above sequence can be summarized as such:\n\n1. Small Check\n2. Base Formula\n3. Hero Drink Check\n4. BD Modifier\n5. All Tar Reduction\n6. Quadra Magic\n7. Defense\n8. Berserk / Critical Strike\n9. Frog Check\n10. MP Turbo Check\n11. Back Row / Long Range\n12. Barrier / MBarrier\n13. Sadness Check\n14. Random Variation\n15. Damage < 1\n16. Added Damage Effects\n17. Elemental Damage and Final Status Checks\n18. Damage > 9999\n19. Negative Damage\n\nNote: This order may not be 100% accurate. There are too many combinations of factors to test them all, and without seeing the code for the battle algorithms, a lot of what is displayed here are educated guesses derived from results seen. It is presumed accurate enough for 99% of all results at this present time though.\n\n## 4. Statuses\n\nThere are 31 major Statuses in the game, although a few of them are not shown on the Status screen and are sometimes transparent to the user. The statuses available are thus:\n\n| Death     | Near-death | Sleep   | Poison      | Sadness        | Fury       | Confusion  | Silence  |\n|-----------|------------|---------|-------------|----------------|------------|------------|----------|\n| Haste     | Slow       | Stop    | Frog        | Small          | Slow-numb  | Petrify    | Regen    |\n| Barrier   | MBarrier   | Reflect | Shield      | Death-sentence | Manipulate | Berserk    | Peerless |\n| Paralysed | Darkness   | Dual    | Death Force | Resist         | Lucky Girl | Imprisoned |          |\n\nOf those, Death Force, Resist and Lucky Girl are nearly transparent to the player, and a few of the others (like Imprisoned) are completely invisible save for their effect. Several are not listed on the Status screen; these are: *Dual*, *Death Force*, *Resist*, *Lucky Girl* and *Imprisoned*.\n\nWhat follows is a breakdown of the statuses visual effects and gameplay attributes.\n\n### 4.1 Status Attributes\n\n#### Death\n\nThe ultimate offensive Status Attribute. If you're successfully hit with it, you are immediately reduced to 0 HP. Death is also the state of having 0 HP.\n\nYou can protect from it, fortunately. That is, you can protect yourself from 'Sudden Death', which is any attack that causes you to instantly die, regardless of how much HP you have or how much damage the attack actually caused. However, if you are reduced to 0 HP by taking too much damage... well, you can't protect against that at all.\n\n| Visuals      | Character lies down                                                                                  |\n|--------------|------------------------------------------------------------------------------------------------------|\n| Effects:     | Character flagged as 'Dead'. Removes all Statuses except for 'Frog' and 'Small'                    |\n| Duration     | Until cured                                                                                          |\n| Protected by | Petrify', 'Peerless', 'Resist', Safety Bit, Destruct+Added Effect, Odin+Added Effect, Death Force |\n| Cured by     | Life, Life2, Phoenix Down, Angel Whisper, Phoenix                                                    |\n\n#### Near-Death\n\nWhen your character is heavily wounded, but still able to fight, they are classed as Near-death. They kneel down and their HP indicator turns yellow to notify of this. Otherwise, this Status Attribute means nothing else; it occurs only when your HP is 25% or less of your current Max HP, and you are not yet dead.\n\n| Visuals      | Character kneels                                          |\n|--------------|-----------------------------------------------------------|\n| Effects:     | None                                                      |\n| Duration     | Until cured                                               |\n| Protected by | Anything that prevents HP loss                            |\n| Cured by     | Anything that serves to boost your HP above 25% of Max HP |\n\n#### Sleep\n\nThis nasty affliction is one of four temporary 'Can't Act' Status Attributes in FF7. Once under this Status, the character is asleep, and cannot fight normally. However, Sleep is easily reversed; any Physical hit is enough to wake up a sleeping character.\n\n| Visuals      | Character kneels/has Zzz above head                                                     |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act                                                                    |\n| Duration     | 26 units                                                                                |\n| Protected by | Petrify', 'Peerless', 'Resist', Ribbon, Headband, Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                              |\n\n#### Poison\n\nAny character inflicted with this Status will continually take Poison Elemental damage throughout the battle. It won't be purged naturally until the battle ends.\n\n| Visuals      | Character kneels/flashes Green                                                                                                          |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes [1/32 of Max HP] of Physical Poison Elemental damage every 2.5 units of time (ignores Def, Barrier and is NRV) |\n| Duration     | Until end of battle                                                                                                                     |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Poison Ring, Star Pendant, Fairy Ring, Poison+Added Effect, Hades+Added Effect        |\n| Cured by     | Poisona, Esuna, Remedy, White Wind, Angel Whisper, Antidote                                                                          |\n\nNote: The Status Attribute Poison is different from the Element Poison. But, if you Void or Absorb Poison Elemental, any attack that does Poison damage will no longer inflict the Poison Attribute. However, you will still be vulnerable to things like Bad Breath, which causes various Status Attributes without causing damage. The reverse also has effects; being Immune to the Status Attribute Poison will mean that you are also considered Immune to the element.\n\n#### Sadness\n\nA character inflicted with Sadness is more subdued and careful in battle. They tend to take less damage from attacks, but they find it difficult to get angry at anything. Hence, the growth of their Limit Bar is severely reduced. The Limit Bar turns blue to notify you of this condition.\n\n| Visuals      | Limit bar is blue                                                                                                                          |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character takes approximately 177/256x damage from most attacks (see Section 3: Battle Damage for details), Limit Bar growth halved. |\n| Duration     | Until cured                                                                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring                                                                                        |\n| Cured by     | Hyper, Esuna, Remedy                                                                                                                       |\n\n#### Fury\n\nAnyone in Fury status is more prone to rushing the enemy, and attacking them with greater fervour. As such, while they don't benefit from the reduced damage of Sadness, they instead get an increase in the growth of their Limit Bar, allowing them to pull of Limit Breaks with greater frequency. However, their attacks are more erratic, and miss more often. The Limit Bar turns red to notify you of this condition.\n\n| Visuals      | Limit bar is red                                      |\n|--------------|-------------------------------------------------------|\n| Effects:     | Character Attack% reduced. Limit Bar growth doubled |\n| Duration     | Until cured                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring   |\n| Cured by     | Tranquilizer, Esuna, Remedy                           |\n\n#### Confusion\n\nThe pure opposite of Berserk, despite the fact that the character suffering from Confusion doesn't have any increased damage potential. You immediately lose control of the character, and they will randomly attack their allies, even themselves. Fortunately, it's easy to cure; a single Physical hit will take care of it. However, a recently Confused character will always carry out the last command they were asked to irregardless; but it will always be against you.\n\n| Visuals      | Character continually spins in place                                                                                   |\n|--------------|------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character randomly attacks allies                                                                                      |\n| Duration     | Until end of battle                                                                                                    |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Contain+Added Effect, Mystify+Added Effect, Hades+Added Effect |\n| Cured by     | Any Physical Hit, Esuna, Remedy, White Wind, Angel Whisper                                                             |\n\n#### Silence\n\nThe power of this affliction is often underestimated. While under its influence, you are unable to cast any Magic, Enemy Skills or Summons. However, your other commands are untouched. Its usefulness lies in using it on the enemy; many of them have attacks that would be better left sealed with Silence.\n\n| Visuals      | Character kneels/has speech bubble over head                                      |\n|--------------|-----------------------------------------------------------------------------------|\n| Effects:     | Character cannot use Magic/Enemy Skills/Summons                                |\n| Duration     | Until end of battle                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Seal+Added Effect, Hades+Added Effect |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Echo Screen                          |\n\n#### Haste\n\nOne of the best Status Attributes, Haste has your time bar filling up twice as fast as normal. However, on the flip-side, all timed effects like Slow-numb, Barrier and so forth, will run out twice as quickly. But, the pros far outweigh the cons in this instance.\n\n| Visuals      | Character Animation speed doubled |\n|--------------|-----------------------------------|\n| Effects:     | Time Unit speed doubled           |\n| Duration     | Until end of battle               |\n| Protected by | 'Petrify', 'Peerless', 'Resist'   |\n| Cured by     | DeSpell                           |\n\n#### Slow\n\nThe complete opposite of Haste, Slow causes your time bar to fill up twice as slow as normal. But, it has its good side; Barrier, MBarrier, Slow-numb, Death-sentence... all those take far longer to run out of time.\n\n| Visuals      | Character Animation speed halved                   |\n|--------------|----------------------------------------------------|\n| Effects:     | Time Unit speed halved                             |\n| Duration     | Until end of battle                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Time+Added Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                 |\n\n#### Stop\n\nThe second worst of the four temporary 'Can't Act' Status Attributes, Stop completely shuts off the Time counter for that character. However, on the other hand, things like Barrier, MBarrier, Regen and so on will not count down during this time, until Stop has worn off or it's been dispelled.\n\n| Visuals      | Character Animation speed paused                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------|\n| Effects:     | Time Unit speed reduced to zero. Character cannot Act                                                |\n| Duration     | 15 units                                                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Contain+Added Effect, Time+Added Effect, Choco/Mog+Added Effect |\n| Cured by     | DeSpell, White Wind, Angel Whisper                                                                     |\n\n#### Frog\n\nPerhaps the worst of the transformation Statuses, Frog both reduces your attack power, as well as preventing you from using almost all of your Materia. The only options available to you are Fight, Item, and if you have it equipped, the Magic Spell 'Toad'. You can't even perform Limit Breaks while transformed into a frog.\n\n| Visuals      | Character is a frog!                                                                                                            |\n|--------------|---------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | All Physical attacks do 1/4 of Base Damage. Character can only use Fight (not Limit), Item (including W-Item) or cast Toad |\n| Duration     | Until end of battle                                                                                                             |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White Cape, Transform+Added Effect, Hades+Added Effect                               |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Toad, Maiden's Kiss, Impaler                                                       |\n\n#### Small\n\nWhile not as bad as Frog, this is still a terrible condition. While Magic is still wide open to you, every physical attack you do will have an Attack of 0; you will do 1 HP damage until modifications added after the random variation are added. Elemental attacks and Added Damage Effects will use the 1 HP damage as the basis for their calculations.\n\n| Visuals      | Character size is significantly reduced                                                           |\n|--------------|---------------------------------------------------------------------------------------------------|\n| Effects:     | Character Attack reduced to 0                                                                     |\n| Duration     | Until end of battle                                                                               |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, White Cape, Transform+Added Effect, Hades+Added Effect |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Mini, Cornucopia, Shrivel                            |\n\n#### Slow-numb\n\nOne of the banes of the beginner player, Slow-numb can easily take out a character within moments if you're not prepared for it. Essentially, it's a countdown to petrify; you have 30 units of time (as shown by the counter above the character's head) to cure them of the affliction, or end the battle. Otherwise, they are inflicted by the Status Petrify.\n\n| Visuals      | Character has timer above head/flashes Grey                                               |\n|--------------|-------------------------------------------------------------------------------------------|\n| Effects:     | 30-unit Timer set on character. When Timer reaches 0, Petrify is inflicted on character |\n| Duration     | 30 units                                                                                  |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit                             |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                            |\n\n#### Petrify\n\nCompletely turned to stone, this is a very bad Status Attribute to earn. You can't act, and even worse, you're flagged as 'Dead'; if everyone in your party is flagged as 'Dead', then the game is over. However, it's easily curable, and while Petrified, you cannot be inflicted with any other Status Attributes, or take damage in any way at all. However, that also means you can't have damage healed while Petrified either.\n\n| Visuals      | Character Animation speed paused/Character coloured Grey                                           |\n|--------------|----------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act. Character flagged as 'Dead'. Voids all damage. Prevents Status changes |\n| Duration     | Until end of battle                                                                                |\n| Protected by | 'Peerless', 'Resist', Ribbon, Jem Ring, Safety Bit, Contain+Added Effect                        |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Soft                                                     |\n\n#### Regen\n\nAn alternative to the standard healing spells, Regen has the potential to be greater than any of them, for half the cost of Cure3. However, its healing ability takes place over time, and it heals at a rate proportional to your current Max HP value. In addition, it has a short duration, and it can be DeSpelled.\n\n| Visuals      | Character flashes Orange                                                              |\n|--------------|---------------------------------------------------------------------------------------|\n| Effects:     | Character steadily gains approximately 1/32 of their Max HP over each unit of time |\n| Duration     | 32 units                                                                              |\n| Protected by | 'Petrify', 'Peerless', 'Resist'                                                       |\n| Cured by     | DeSpell                                                                               |\n\n#### Barrier\n\nA protective Status Attribute, and the first available to you. It halves the damage from all Physical attacks, but it has a limited duration. The time left for Barrier can be checked in the Barrier gauge in the left window, next to the character name.\n\n| Visuals      | Barrier gauge is active         |\n|--------------|---------------------------------|\n| Effects:     | Halves all Physical damage      |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### MBarrier\n\nThe counterpart of Barrier, MBarrier simply halves the damage from all Magical attacks. Again, it only has a limited duration; the time left for MBarrier can be checked in the MBarrier gauge in the left window, next to the Character name.\n\n| Visuals      | MBarrier gauge is active        |\n|--------------|---------------------------------|\n| Effects:     | Halves all Magical damage       |\n| Duration     | 30 units                        |\n| Protected by | 'Petrify', 'Peerless', 'Resist' |\n| Cured by     | DeBarrier, DeSpell              |\n\n#### Reflect\n\nOne of the most interesting Status Attributes, Reflect allows you to bounce away certain spells up to a maximum of four times per casting per character. A list of spells that cannot be reflected can be located in the next section.\n\n| Visuals      | None                                                                                                                                     |\n|--------------|------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Will reflect spells up to four times back at caster, or random enemy if caster is an ally. Will only reflect certain magical spells |\n| Duration     | Until end of battle or exhausted                                                                                                         |\n| Protected by | 'Petrify', 'Peerless', 'Resist'                                                                                                          |\n| Cured by     | DeBarrier, DeSpell                                                                                                                       |\n\n#### Shield\n\nA very powerful defensive Status Attribute, second only to Peerless. It voids all normal attacks, and absorbs all Elemental Magic. However, it will not absorb Non-Elemental damage, and also, Items seem able to breach Shield and still cause full damage, whether they're Elemental items or not.\n\n| Visuals      | None                                                                                                                                       |\n|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Voids normal attacks. Absorbs Elemental Magic and Physical damage. Does not defend against Item damage or Non Element Magic attacks |\n| Duration     | 17.5 units                                                                                                                                 |\n| Protected by | 'Petrify', 'Resist'                                                                                                                        |\n| Cured by     | DeBarrier, DeSpell                                                                                                                         |\n\n#### Death-sentence\n\nUnder this condition, a counter positioned above the character's head begins to count down to zero. If it does reach zero, then the Status Death is inflicted on the character, subject to protection from Death.\n\n| Visuals      | Character kneels/has timer above head                                                   |\n|--------------|-----------------------------------------------------------------------------------------|\n| Effects:     | 60-unit Timer set on character. When Timer reaches 0, Death is inflicted on character |\n| Duration     | 60 units                                                                                |\n| Protected by | 'Petrify', 'Peerless', 'Resist', 'Death Force', Ribbon, Safety Bit                   |\n| Cured by     | None                                                                                    |\n\n#### Manipulate\n\nThe only Status Attribute that cannot be used on your party, Manipulate is a very useful tool. Using it on an enemy, if they're susceptible to it, will place the enemy under the character's command. Note that each character can only Manipulate one enemy at a time, and a single Physical hit will free the enemy from your control.\n\n| Visuals      | Character flashes Cyan                                         |\n|--------------|----------------------------------------------------------------|\n| Effects:     | Character is controlled by whomever used Manipulate on them |\n| Duration     | Until end of battle                                            |\n| Protected by | 'Petrify', 'Resist', 'Sleep', 'Stop', 'Paralysed'              |\n| Cured by     | Any Physical hit, White Wind                                   |\n\n#### Berserk\n\nThis is a very risky Status Attribute. On the plus side, a character under this Attribute hits harder than usual with every attack. But on the minus, they cannot be controlled, and they randomly attack the enemy any time they can. It is also impossible to Critical Strike when under Berserk Status. Berserk has another use; it's an effective alternative to Silence when used on the enemy....\n\n| Visuals      | Character flashes Red                                                                                                                         |\n|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------|\n| Effects:     | Character's Physical Damage is multiplied by 1.5. Character attacks random Enemy with Physical Attack. Impossible to get Critical Strikes |\n| Duration     | Until end of battle                                                                                                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Peace Ring, Mystify+Added Effect                                                                  |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper                                                                                                      |\n\n#### Peerless\n\nThe ultimate defensive Status Attribute. Unfortunately, only one character has the ability to use this: Aeris. When used, it fully voids all damage of any type, as well as acting like Resist with regards to Status Attributes. However, it has a limited duration, and the Void state makes it impossible to heal while under it, but it is still a formidable Attribute.\n\n| Visuals      | Character flashes Yellow                            |\n|--------------|-----------------------------------------------------|\n| Effects:     | Voids all damage. Immune to all Status Attributes |\n| Duration     | 17.5 units                                          |\n| Protected by | 'Petrify', 'Resist'                                 |\n| Cured by     | None                                                |\n\n#### Paralysed\n\nThe least powerful of the temporary 'Can't Act' Status Attributes, it's still a pain at times. It acts almost exactly like Sleep and while it lasts for a very short time, you can't cure it with a simple Physical attack.\n\n| Visuals      | Character kneels/Character animation speed paused |\n|--------------|---------------------------------------------------|\n| Effects:     | Character cannot Act                              |\n| Duration     | 8 units                                           |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Jem Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper          |\n\n#### Darkness\n\nA nuisance at best, Darkness simply reduces your attack accuracy, causing you to miss more often. It's easily cured, however, and it has little tactical use.\n\n| Visuals      | Character kneels/flashes Black                                      |\n|--------------|---------------------------------------------------------------------|\n| Effects:     | Character Accuracy% reduced                                         |\n| Duration     | Until end of battle                                                 |\n| Protected by | 'Petrify', 'Peerless', 'Resist', Ribbon, Silver Glasses, Fairy Ring |\n| Cured by     | Esuna, Remedy, White Wind, Angel Whisper, Eye drop                  |\n\n#### Dual\n\nThis extremely rare Status only turns up during one battle; that with Bottomswell. Whenever Bottomswell uses Waterpolo at you, both Imprisoned and Dual are placed on you. Dual is dangerous however; it acts like a reverse Regen. HP is drained over time, requiring swift attention.\n\n| Visuals      | None                                                                                  |\n|--------------|---------------------------------------------------------------------------------------|\n| Effects:     | Character steadily loses approximately 1/32 of their Max HP over each unit of time |\n| Duration     | ???                                                                                   |\n| Protected by | ???                                                                                   |\n| Cured by     | Killing Waterpolo                                                                     |\n\n#### Death Force\n\nA useful status, which allows you to temporarily give yourself protection from Death until the end of the battle. Its usefulness stems from the fact that very few enemies actually use the Death Status. Recognize them, and you can possibly spare an Accessory slot or a few Materia slots and just rely on Death Force for protection when you need it. Of course, the disadvantage is that the immunity is temporary; if that character gets hit by DeSpell or White Wind or gets killed, then they will lose the immunity immediately.\n\n| Visuals      | None                |\n|--------------|---------------------|\n| Effects:     | Immune 'Death'      |\n| Duration     | Until end of battle |\n| Protected by | ???                 |\n| Cured by     | DeSpell, White Wind |\n\n#### Resist\n\nYou are never given any indication of when you have Resist, but its effects are quickly apparent; any Status change is prevented by the power of Resist. Unfortunately, that can also mean, for example, if you have Frog and then Resist is placed on you, you cannot then cure Frog without removing Resist first. Its best use is to trap enemies with certain Status Attributes so that they can't heal themselves. As a secondary use, it can be used as a temporary defense against nasty Statuses, but it's expensive, and not easy to remove.\n\n| Visuals      | None                            |\n|--------------|---------------------------------|\n| Effects:     | Immune to all Status Attributes |\n| Duration     | Until end of battle             |\n| Protected by | None                            |\n| Cured by     | DeSpell, White Wind             |\n\n#### Lucky Girl\n\nOnly one attack in the game can inflict this Status: Lucky Girl. This is one of the Limit Combinations in Cait Sith's Slot Limit. It is a somewhat useful status, causing all subsequent attacks to be Critical Strikes. However, this is offset by its rarity; most players will go through the game without ever seeing Lucky Girl.\n\n| Visuals      | None                                       |\n|--------------|--------------------------------------------|\n| Effects:     | All attacks are automatic Critical Strikes |\n| Duration     | ???                                        |\n| Protected by | ???                                        |\n| Cured by     | None                                       |\n\n#### Imprisoned\n\nThe final temporary 'Can't Act' Status. Unfortunately, the temporary nature of this status is dependant on what is causing it; various enemies have a few ways of dealing out this attribute, and each requires its own method of removing it. In addition, the character is flagged as 'Dead'. It is easily the worst of the four 'Can't Act' Statuses.\n\n| Visuals      | Character Animation speed paused                                                                      |\n|--------------|-------------------------------------------------------------------------------------------------------|\n| Effects:     | Character cannot Act. Character flagged as 'Dead'. Character cannot be targeted by attacks/spells |\n| Duration     | Until end of battle                                                                                   |\n| Protected by | None                                                                                                  |\n| Cured by     | Killing Pyramid, Waterpolo or Left Arm/Right Arm                                                      |\n\n### 4.2 Special Notes On Statuses\n\nIn addition to the above, the following notes must be taken into account.\n\n#### Colours\n\nThe different colors you flash have a priority system; if you currently have a Status that has a higher priority than another one you have, then you will flash the color of the higher priority Status. The priorities are:\n\n| Highest Priority |        |         |          | Lowest Priority |          |        |            |\n|------------------|--------|---------|----------|-----------------|----------|--------|------------|\n| Slow-numb        | Poison | Berserk | Peerless |                 | Darkness | Regen  | Manipulate |\n| GREY             | GREEN  | RED     | YELLOW   |                 | BLACK    | ORANGE | CYAN       |\n\nThus, if your character has both Darkness and Berserk on them, they'll flash Red rather than Black, because Berserk is the more important one to know about. (For instance, you don't want to mistake Slow-numb for Death-sentence just because you've got Regen on, do you?)\n\n#### Status Incompatibilities\n\nVarious statuses will cancel out other ones as soon as they're inflicted upon a character. The following table will demonstrate this:\n\n| Status Name | Cancels                                     |\n|-------------|---------------------------------------------|\n| Death       | All Status Attributes except Frog and Small |\n| Sleep       | Manipulate                                  |\n| Sadness     | Fury                                        |\n| Fury        | Sadness                                     |\n| Haste       | Slow                                        |\n| Slow        | Haste                                       |\n| Stop        | Manipulate                                  |\n| Petrify     | Slow-numb, Manipulate                       |\n| Paralysed   | Manipulate                                  |\n\n#### Removing Conditions\n\nWhat follows are the various ways of removing multiple Status Attributes at the same time. Those not listed are self-explanatory (ie they tell you what they cure. Also, if something cures Petrify, then it also cures Slow-numb)\n\nNote: Healing spells and effects work in strict order, first healing HP, then removing Status Attributes from the top down. Thus, White Wind takes two tries to be able to remove, for example, Frog and Resist; the first time, it can't remove Frog because of Resist. The second try, Resist is gone, so it can finally remove Frog. Keep this in mind.\n\n| Status Name    | Esuna | Remedy | DeBarrier | DeSpell | White Wind | Angel Whisper |\n|----------------|-------|--------|-----------|---------|------------|---------------|\n| Death          | -     | -      | -         | -       | -          | O             |\n| Sleep          | O     | O      | -         | -       | O          | O             |\n| Poison         | O     | O      | -         | -       | O          | O             |\n| Sadness        | O     | O      | -         | -       | -          | -             |\n| Fury           | O     | O      | -         | -       | -          | -             |\n| Confusion      | O     | O      | -         | -       | O          | O             |\n| Silence        | O     | O      | -         | -       | O          | O             |\n| Haste          | -     | -      | -         | O       | -          | -             |\n| Slow           | -     | -      | -         | O       | O          | O             |\n| Stop           | -     | -      | -         | O       | O          | O             |\n| Frog           | O     | O      | -         | -       | O          | O             |\n| Small          | O     | O      | -         | -       | O          | O             |\n| Slow-numb      | O     | O      | -         | -       | O          | O             |\n| Petrify        | O     | O      | -         | -       | O          | O             |\n| Regen          | -     | -      | -         | O       | -          | -             |\n| Barrier        | -     | -      | O         | O       | -          | -             |\n| MBarrier       | -     | -      | O         | O       | -          | -             |\n| Reflect        | -     | -      | O         | O       | -          | -             |\n| Shield         | -     | -      | O         | O       | -          | -             |\n| Death-sentence | -     | -      | -         | -       | -          | -             |\n| Manipulate     | -     | -      | -         | -       | O          | -             |\n| Berserk        | O     | O      | -         | -       | O          | O             |\n| Peerless       | -     | -      | -         | -       | -          | -             |\n| Paralysed      | O     | O      | -         | -       | O          | O             |\n| Darkness       | O     | O      | -         | -       | O          | O             |\n| Death Force    | -     | -      | -         | O       | O          | -             |\n| Resist         | -     | -      | -         | O       | O          | -             |\n\nNote: Due to space constraints, it is difficult to fit any more abilities onto the above list. What's shown above are the most common ways of removing multiple statuses. The others can be summarized as such:\n\nHoly Torch: Cures everything DeSpell does except 'Death Force' and 'Resist'.\n\n#### Reflection\n\nFinally, the following skills can be reflected using the Status Reflect.\n\n##### Reflectable Magic\n\n| Cure   | Cure2 | Cure3 | Poisona | Esuna    | Resist | Life    | Life2 | Regen   | Fire    |\n|--------|-------|-------|---------|----------|--------|---------|-------|---------|---------|\n| Fire2  | Fire3 | Ice   | Ice2    | Ice3     | Bolt   | Bolt2   | Bolt3 | Quake   | Quake2  |\n| Quake3 | Bio   | Bio2  | Bio3    | Sleepel  | Confu  | Silence | Mini  | Toad    | Berserk |\n| Haste  | Slow  | Stop  | Barrier | MBarrier | Death  | Freeze  | Break | Tornado | Flare   |\n| Wall   |       |       |         |          |        |         |       |         |         |\n\n##### Reflectable Enemy Skills\n\n| Frog Song | L4 Suicide  | Magic Hammer | Death Force  | Flame Thrower |\n|-----------|-------------|--------------|--------------|---------------|\n| Laser     | Matra Magic | Aqualung     | Shadow Flare | Pandora's Box |\n\nAll Summons and Items are non-reflectable. As a companion to this section, here are the specific Magic and Enemy Skills that *CANNOT* be reflected.\n\n##### Non-Reflectable Magic\n\n| Demi   | Demi2  | Demi3 | Reflect | DeBarrier | DeSpell |\n|--------|--------|-------|---------|-----------|---------|\n| Escape | Remove | Comet | Comet2  | FullCure  | Shield  |\n| Ultima |        |       |         |           |         |\n\n##### Non-Reflectable Enemy Skills\n\n| White Wind   | Big Guard | Angel Whisper | Dragon Force | Bad Breath | Beta           | Trine    |\n|--------------|-----------|---------------|--------------|------------|----------------|----------|\n| Magic Breath | ????      | Goblin Punch  | Chocobuckle  | L5 Death   | Death Sentence | Roulette |\n\n## 5. Game Over\n\nThere are a number of ways to lose the game, most of which can only occur in battle.\n\nThe most common way is to have all three characters in your battle party flagged as 'Dead'. This involves losing each of your characters to any of the following situations:\n\n1. Gaining the Status 'Death'\n2. Gaining the Status 'Petrify'\n3. Gaining the Status 'Imprisoned'\n\n(This occurs if you are either picked up by one of Carry Armor's arms, or you are surrounded by Reno's Pyramid or Bottomswell's Waterpolo. You must destroy whatever is imprisoning the character to bring them back)\n\n4. Being knocked out of battle by Eat (used by Hungry), Goanni (used by Ghost Ship) or Whirlsand (used by Ruby Weapon). Midgar Zolom's Blown Away, Scissors(Upper)'s Scissor Tornado and Gighee's Sun Diver all knock you out of battle, but flag the character as escaped instead of dead; so instead, if all other characters die or are knocked out, the battle itself will count as an escape.\n\nIf you are still flagged as 'Dead' at the end of a successful battle, then that character will gain no EXP or AP from the battle. However, the Status 'Death' is the only one that lasts into the next battle if you don't cure it.\n\nYou will also lose the battle in one other special case: running out of time in the Emerald Weapon battle. This only occurs if you do not have the Underwater Materia equipped during that battle, however.\n\nNote that if you lose a battle in Battle Square, the Five Gods Pagoda or Fort Condor, you won't lose the game, just the battle. In all other cases, losing a battle means 'Game Over'.\n\nFinally, if you run out of time in the Mako Reactor 1 Mission, you will automatically lose the game, without having to be in battle.\n\n## 6. Credits\n\nA large majority of the work here is my own... but there are some people that I feel it is necessary to mention on this long road.\n\nThe Denizens of alt.games.final-fantasy.rpg:\n\nMy old haunt. More a shout-out rather than credit, but hey, it's where I began, really ^_^ It's also where I met...\n\n### Qhimm\n\n...with whom I worked on the FF8 savemap with. Lots of fun, and we actually got something useful out of it: a working save editor that he programmed named Griever. It was also on his site that met others who took the same interest in this field. Which leads to....\n\nThe Denizens of Qhimm's Forum:\n\nThe SaiNt. Ficedula. Alhexx. And *especially* L.Spiro. There were others, of course, but those are the names who stand out. Enemy Stats and Attack Properties would've been hell to compile without the effort made by those at Qhimm's Forum. I collected data myself, but understanding it? L.Spiro provided the first and most important step in deciphering the attack and enemy dumps.\n\nAnd... that's that, really. Hope you've enjoyed the show.\n\n**The FF7 Battle Mechanics, copyright 2001-2003 Terence Fergusson**\n\n---\n\n## Appendix A: Enemy Battle Scenes (Scene.bin)\n\nFF7 keeps each enemy battle configuration in a file called \"scene.bin\" This file is located in the following directories.\n\n| PSX Version            | PC Version        |\n|------------------------|-------------------|\n| /DATA/BATTLE/SCENE.BIN | /BATTLE/SCENE.BIN |\n\nThis file is exactly the same in both versions. This holds all the battle configurations for all enemies encountered in the game. Its format is as follows:\n\n### Scene.bin File Format by Fremen\n\nDate: September 30, 2003\n\nThese specifications are incomplete, so if you have got any idea about the unknown data blocks, please let me know. :)\n\nThe scene.bin file contains 256 gziped files which give us information for all the FF7 monsters. In order to find these files in scene.bin, you have to know that the file is structured with blocks exactly 0x2000 bytes in length. In the first table (scene.bin block), you will see what contains a block. Blocks are concatenated with each other to form the scene.bin file. So if you want to extract data from scene.bin, you'll need to find the correct blocks and to extract the gziped files from it. After that you simply ungzip those files and you'll find 256 files, with a length is 7808 bytes. Known information about those files can be found in the second table (The Data File specification).\n\nWe have 1024 possible battle numbers: 0 - 1023. Each group of *4* Battle Numbers refers to a particular Scene file: for instance, Battles 0-3 refer to File 0 in Scene.bin, Battles 4-7 refer to File 1 in Scene.bin, and so forth.\n\n#### Scene.bin Block Structure\n\nScene.bin block (length: 0x2000 bytes)\n\n| Offset | Length  | Description                                                           |\n|--------|---------|-----------------------------------------------------------------------|\n| 0x0000 | 4 bytes | Pointer (in DWORD) of the first data file. Example: Offset_of_first_data_file_in_bytes = pointer*4. pointer = 0xFFFFFFFF means that the end of block has been reached. |\n| 0x0004 | 4 bytes | Second pointer of the second data file. pointer = 0xFFFFFFFF means that the end of block has been reached. |\n| 0x003C | 4 bytes | Last pointer. Usually 0xFFFFFFFF. |\n| 0x0040 | 4 * (pointer2-pointer1) bytes | First data file in block. It's a gziped file. Note: Sometimes it may finish by 0xFF bytes, because its size must be multiple of 4. |\n| pointer2 * 4 | 4 * (pointer3-pointer2) bytes | Second data file in block. It's a gziped file. Note: Sometimes it may finish by 0xFF bytes, because its size must be multiple of 4. |\n| lastpointer * 4 | 4 * (0x2000-lastpointer) bytes | Last data file. Note: There's usually about 10 files in each block. Note: Each block finishes by 0xFF bytes, because its length must be 0x2000 bytes. |\n\n#### Data File Specification\n\nData File specifications (length: 7808 bytes)\n\n| Offset | Length   | Description                  |\n|--------|----------|------------------------------|\n| 0x0000 | 2 bytes  | Enemy ID 1                   |\n| 0x0002 | 2 bytes  | Enemy ID 2                   |\n| 0x0004 | 2 bytes  | Enemy ID 3                   |\n| 0x0006 | 2 bytes  | Padding (always 0xFFFF)      |\n| 0x0008 | 20 bytes | Battle set up 1, record 1    |\n| 0x001C | 20 bytes | Battle set up 1, record 2    |\n| 0x0030 | 20 bytes | Battle set up 1, record 3    |\n| 0x0044 | 20 bytes | Battle set up 1, record 4    |\n| 0x0058 | 48 bytes | Battle Setup 2, record 1     |\n| 0x0088 | 48 bytes | Battle Setup 2, record 2     |\n| 0x00B8 | 48 bytes | Battle Setup 2, record 3     |\n| 0x00E8 | 48 bytes | Battle Setup 2, record 4     |\n| 0x0118 | 16 bytes | Battle Formation 1, record 1 |\n| 0x0128 | 16 bytes | Battle Formation 1, record 2 |\n| 0x0138 | 16 bytes | Battle Formation 1, record 3 |\n| 0x0148 | 16 bytes | Battle Formation 1, record 4 |\n| 0x0158 | 16 bytes | Battle Formation 1, record 5 |\n| 0x0168 | 16 bytes | Battle Formation 1, record 6 |\n| 0x0178 | 16 bytes | Battle Formation 2, record 1 |\n| 0x0188 | 16 bytes | Battle Formation 2, record 2 |\n| 0x0198 | 16 bytes | Battle Formation 2, record 3 |\n| 0x01A8 | 16 bytes | Battle Formation 2, record 4 |\n| 0x01B8 | 16 bytes | Battle Formation 2, record 5 |\n| 0x01C8 | 16 bytes | Battle Formation 2, record 6 |\n| 0x01D8 | 16 bytes | Battle Formation 3, record 1 |\n| 0x01E8 | 16 bytes | Battle Formation 3, record 2 |\n| 0x01F8 | 16 bytes | Battle Formation 3, record 3 |\n| 0x0208 | 16 bytes | Battle Formation 3, record 4 |\n| 0x0218 | 16 bytes | Battle Formation 3, record 5 |\n| 0x0228 | 16 bytes | Battle Formation 3, record 6 |\n| 0x0238 | 16 bytes | Battle Formation 4, record 1 |\n| 0x0248 | 16 bytes | Battle Formation 4, record 2 |\n| 0x0258 | 16 bytes | Battle Formation 4, record 3 |\n| 0x0168 | 16 bytes | Battle Formation 4, record 4 |\n| 0x0278 | 16 bytes | Battle Formation 3, record 5 |\n| 0x0288 | 16 bytes | Battle Formation 4, record 6 |\n| 0x0298 | 184 bytes | Enemy Data 1                 |\n| 0x0350 | 184 bytes | Enemy Data 2                 |\n| 0x0408 | 184 bytes | Enemy Data 3                 |\n| 0x04C0 | 28 bytes  | Attack Data 1                |\n| 0x04DC | 28 bytes  | Attack Data 2                |\n| 0x04F8 | 28 bytes  | Attack Data 3                |\n| 0x0514 | 28 bytes  | Attack Data 4                |\n| 0x0530 | 28 bytes  | Attack Data 5                |\n| 0x054C | 28 bytes  | Attack Data 6                |\n| 0x0568 | 28 bytes  | Attack Data 7                |\n| 0x0584 | 28 bytes  | Attack Data 8                |\n| 0x05A0 | 28 bytes  | Attack Data 9                |\n| 0x05BC | 28 bytes  | Attack Data 10               |\n| 0x05BC | 28 bytes  | Attack Data 11               |\n| 0x05F4 | 28 bytes  | Attack Data 12               |\n| 0x0610 | 28 bytes  | Attack Data 13               |\n| 0x062C | 28 bytes  | Attack Data 14               |\n| 0x0648 | 28 bytes  | Attack Data 15               |\n| 0x0664 | 28 bytes  | Attack Data 16               |\n| 0x0680 | 28 bytes  | Attack Data 17               |\n| 0x069C | 28 bytes  | Attack Data 18               |\n| 0x06B8 | 28 bytes  | Attack Data 19               |\n| 0x06D4 | 28 bytes  | Attack Data 20               |\n| 0x06F0 | 28 bytes  | Attack Data 21               |\n| 0x070C | 28 bytes  | Attack Data 22               |\n| 0x0728 | 28 bytes  | Attack Data 23               |\n| 0x0744 | 28 bytes  | Attack Data 24               |\n| 0x0760 | 28 bytes  | Attack Data 25               |\n| 0x077C | 28 bytes  | Attack Data 26               |\n| 0x0798 | 28 bytes  | Attack Data 27               |\n| 0x07B4 | 28 bytes  | Attack Data 28               |\n| 0x07D0 | 28 bytes  | Attack Data 29               |\n| 0x07EC | 28 bytes  | Attack Data 30               |\n| 0x0808 | 28 bytes  | Attack Data 31               |\n| 0x0824 | 28 bytes  | Attack Data 32               |\n| 0x0840 | 2 bytes   | Attack ID 1                  |\n| 0x0842 | 2 bytes   | Attack ID 2                  |\n| ... | ... | ... |\n| 0x087E | 2 bytes   | Attack ID 32                 |\n| 0x0880 | 32 bytes  | Attack name 1 (FF Text)      |\n| 0x08A0 | 32 bytes  | Attack name 2 (FF Text)      |\n| ... | ... | ... |\n| 0x0C60 | 32 bytes  | Attack name 32 (FF Text)     |\n| 0x0C80 | 512 bytes | FF Padding (0xFF)            |\n| 0x0E80 | 2 bytes   | Enemy AI Offset, record 1    |\n| 0x0E82 | 2 bytes   | Enemy AI Offset, record 2    |\n| 0x0E84 | 2 bytes   | Enemy AI Offset, record 3    |\n| 0x0E86 | 26 bytes  | Unknown                      |\n| 0x0EA0 | 4063 bytes | Beginning of AI Data. Starts with 6 bytes of FF |\n\n#### Battle Location Codes\n\n| Code   | Location                                    |\n|--------|---------------------------------------------|\n| 0x0000 | Blank                                       |\n| 0x0001 | Bizarro Battle - Center                     |\n| 0x0002 | Grassland                                   |\n| 0x0003 | Mt Nibel                                    |\n| 0x0004 | Forest                                      |\n| 0x0005 | Beach                                       |\n| 0x0006 | Desert                                      |\n| 0x0007 | Snow                                        |\n| 0x0008 | Swamp                                       |\n| 0x0009 | Sector 1 Train Station                      |\n| 0x000A | Reactor 1                                   |\n| 0x000B | Reactor 1 Core                              |\n| 0x000C | Reactor 1 Entrance                          |\n| 0x000D | Sector 4 Subway                             |\n| 0x000E | Nibel Caves or Forest Caves                 |\n| 0x000F | Shinra HQ                                   |\n| 0x0010 | Midgar Raid Subway                          |\n| 0x0011 | Hojo's Lab                                  |\n| 0x0012 | Shinra Elevators                            |\n| 0x0013 | Shinra Roof                                 |\n| 0x0014 | Midgar Highway                              |\n| 0x0015 | Wutai Pagoda                                |\n| 0x0016 | Church                                      |\n| 0x0017 | Coral Valley                                |\n| 0x0018 | Midgar Slums                                |\n| 0x0019 | Sector 4 Corridors or Junon Path            |\n| 0x001A | Sector 4 Gantries or Midgar Underground     |\n| 0x001B | Sector 7 Support Pillar Stairway            |\n| 0x001C | Sector 7 Support Pillar Top                 |\n| 0x001D | Sector 8                                    |\n| 0x001E | Sewers                                      |\n| 0x001F | Mythril Mines                               |\n| 0x0020 | Northern Crater - Floating Platforms        |\n| 0x0021 | Corel Mountain Path                         |\n| 0x0022 | Junon Beach                                 |\n| 0x0023 | Junon Cargo Ship                            |\n| 0x0024 | Corel Prison                                |\n| 0x0025 | Battle Square                               |\n| 0x0026 | Da Chao - Rapps Battle                      |\n| 0x0027 | Cid's Backyard                              |\n| 0x0028 | Final Descent to Sephiroth                  |\n| 0x0029 | Reactor 5 Entrance                          |\n| 0x002A | Temple of the Ancients - Escher Room        |\n| 0x002B | Shinra Mansion                              |\n| 0x002C | Junon Airship Dock                          |\n| 0x002D | Whirlwind Maze                              |\n| 0x002E | Junon Underwater Reactor                    |\n| 0x002F | Gongaga Reactor                             |\n| 0x0030 | Gelnika                                     |\n| 0x0031 | Train Graveyard                             |\n| 0x0032 | Great Glacier Ice Caves & Gaea Cliffs       |\n| 0x0033 | Sister Ray                                  |\n| 0x0034 | Sister Ray Base                             |\n| 0x0035 | Forgotten City Altar                        |\n| 0x0036 | Northern Crater - Initial Descent           |\n| 0x0037 | Northern Crater - Hatchery                  |\n| 0x0038 | Northern Crater - Water Area                |\n| 0x0039 | Safer Battle                                |\n| 0x003A | Kalm Flashback - Dragon Battle              |\n| 0x003B | Junon Underwater Pipe                       |\n| 0x003C | Blank                                       |\n| 0x003D | Corel Railway - Canyon                      |\n| 0x003E | Whirlwind Maze - Crater                     |\n| 0x003F | Corel Railway - Rollercoaster               |\n| 0x0040 | Wooden Bridge                               |\n| 0x0041 | Da Chao                                     |\n| 0x0042 | Fort Condor                                 |\n| 0x0043 | Dirt Wasteland                              |\n| 0x0044 | Bizarro Battle - Right Side                 |\n| 0x0045 | Bizarro Battle - Left Side                  |\n| 0x0046 | Jenova*SYNTHESIS Battle                     |\n| 0x0047 | Corel Train Battle                          |\n| 0x0048 | Cosmo Canyon                                |\n| 0x0049 | Caverns of the Gi                           |\n| 0x004A | Nibelheim Mansion Basement                  |\n| 0x004B | Temple of the Ancients - Demons Gate        |\n| 0x004C | Temple of the Ancients - Mural Room         |\n| 0x004D | Temple of the Ancients - Clock Passage      |\n| 0x004E | Final Battle - Sephiroth                    |\n| 0x004F | Jungle                                      |\n| 0x0050 | Ultimate Weapon - Battle on Highwind        |\n| 0x0051 | Corel Reactor                               |\n| 0x0052 | Unused                                      |\n| 0x0053 | Don Corneo's Mansion                        |\n| 0x0054 | Emerald Weapon Battle                       |\n| 0x0055 | Reactor 5                                   |\n| 0x0056 | Shinra HQ - Escape                          |\n| 0x0057 | Ultimate Weapon - Gongaga Reactor           |\n| 0x0058 | Corel Prison - Dyne Battle                  |\n| 0x0059 | Ultimate Weapon - Forest                    |\n\n#### Enemy Data Format\n\nEnemy Data (length: 184 bytes)\n\n| Offset | Length   | Description                            |\n|--------|----------|----------------------------------------|\n| 0x0000 | 32 bytes | Enemy's name (completed by 0xFF bytes) |\n| 0x0020 | 1 byte   | Enemy's level                          |\n| 0x0021 | 1 byte   | Enemy's speed                          |\n| 0x0022 | 1 byte   | Enemy's luck                           |\n| 0x0023 | 1 byte   | Enemy's physical dodge                 |\n| 0x0024 | 1 byte   | Enemy's strength                       |\n| 0x0025 | 1 byte   | Enemy's physical defense               |\n| 0x0026 | 1 byte   | Enemy's magic power                    |\n| 0x0027 | 1 byte   | Enemy's magic defense                  |\n| 0x0028 | 8 bytes  | Elements (see element codes below)     |\n| 0x0030 | 8 bytes  | Element affinities (see affinity codes)|\n| 0x0038 | 84 bytes | Unknown data (action/attitude info)    |\n| 0x008C | 2 bytes  | Object you can win at battle's end     |\n| 0x008F | 2 bytes  | Object you can steal (0xFFFF if none)  |\n| 0x0091 | 12 bytes | Unknown data                           |\n| 0x009D | 2 bytes  | Enemy's MP                             |\n| 0x009F | 2 bytes  | AP you receive when finishing battle   |\n| 0x00A1 | 2 bytes  | Morph target item (0xFFFF if none)     |\n| 0x00A3 | 2 bytes  | Usually 0x10 and 0xFF                  |\n| 0x00A5 | 4 bytes  | Enemy's HP                             |\n| 0x00A9 | 4 bytes  | EXP you receive if you finish battle   |\n| 0x00AD | 4 bytes  | Gil you receive if you finish battle   |\n| 0x00B1 | 4 bytes  | Usually 4 \"random\" numbers             |\n| 0x00B5 | 4 bytes  | Usually FF FF FF FF                    |\n\n##### Element Codes\n\n| Code | Element   |\n|------|-----------|\n| 0x00 | Fire      |\n| 0x01 | Ice       |\n| 0x02 | Bolt      |\n| 0x03 | Earth     |\n| 0x04 | Bio       |\n| 0x05 | Gravity   |\n| 0x06 | Water     |\n| 0x07 | Wind      |\n| 0x08 | Scare     |\n| 0x09 | Health    |\n| 0x0A | Cut       |\n| 0x0B | Hit       |\n| 0x0C | Punch     |\n| 0x0D | Shoot     |\n| 0x0E | Scream    |\n| 0xFF | No element|\n\n##### Element Affinity Codes\n\n| Code | Affinity              |\n|------|-----------------------|\n| 0x00 | Death                 |\n| 0x02 | Weakness (200% damage)|\n| 0x04 | Resist (50% damage)   |\n| 0x05 | Defense (0% damage)   |\n| 0x06 | Absorb (-100% damage) |\n| 0x07 | HP Max                |\n| 0xFF | Nothing               |\n\n---\n\n## Appendix B: PSX 3D Battle Scenes\n\n*By Micky*\n\nBackgrounds are stored in probably the easiest model format used in FF7. I reconstructed this from the code for my background-to-Maya converter, so there could be errors. I haven't seen any other documentation on this, so please excuse any duplication...\n\nThe backgrounds are stored in LZS files in the STAGE1 and STAGE2 directories. They are using the ff7-standard lzs compression.\n\nThey begin with a directory: The first word is the number of sections, then there is one pointer for each sections. Each section contains a mesh for the background, except for the first that contains some unknown data and the last that contains the TIM-format texture and palettes.\n\nEach section starts with vertex data, followed by triangle and quad data.\n\n### Vertex Data Format\n\n```text\n1 u32 size of vertex data\n8 byte per vertex:\n3 u16 x,y,z\n1 u16 pad(?)\n```\n\n### Triangle Data Format\n\n```text\n1 u16 number of triangles\n1 u16 texture page (among other flags)\n16 bytes per triangle:\n3 u16 offset into vertex table\n1 u16 unknown\n2 u8 u1, v1\n1 u16 palette (and some other flags)\n2 u8 u2, v2\n2 u8 u3, v3\n```\n\n### Quad Data Format\n\n```text\n1 u16 number of quads\n1 u16 texture page (among other flags)\n20 bytes per quad:\n4 u16 offset into vertex table\n2 u8 u1, v1\n1 u16 palette\n2 u8 u2, v2\n2 u8 u3, v3\n2 u8 u4, v4\n1 u16 unknown\n```\n\nDisplaying the backgrounds is a bit tricky on modern graphics boards, as they don't support palletized textures anymore. Which is understandable given the large number of fetches that would be required for displaying a properly filtered texture - but not very helpful. I solved that by a pre-process that stores the palette on each pixel and then looks up the color during export.\n\n---\n\n## Appendix C: PSX Battle Models Structure\n\n*By Cyberman*\n\n### Terms\n\n- BYTE - is an unsigned 8 bit binary string\n- WORD - is an unsigned 16 bit binary string\n- DOUBLE WORD - is an unsigned 32 bit binary string\n\nValues are SIGNED if they say so, otherwise they are assumable as unsigned.\n\nMany of the PSX files data files use LZS compression.\n\n### Combat Models Directory Structure\n\nCombat Models occupy directories:\n\n- ENEMY1\n- ENEMY2\n- ENEMY3\n- ENEMY4\n- ENEMY5\n- ENEMY6\n\non the CD\n\nENEMY6 contains the character models and their weapons, including the hires version of Cloud and Sephiroth.\n\n### Model Format\n\nThe first 4 bytes of the LZS file contains the uncompressed size of the LZS compressed data, as a double word. The actual compressed data follows after this double word.\n\nAfter the compressed information is decompressed in the model. The first double word contains the number of sections in the model file (SEC_COUNT). Following this is SEC_COUNT double words. This is an array of offsets to data sections within the model.\n\n```c\nFormat information\n[ DOUBLE WORD ] Section Count\n[ DOUBLE WORD ] OFFSET SECTION 1\n[ DOUBLE WORD ] OFFSET SECTION 2\n...\n[ DOUBLE WORD ] OFFSET SECTION N\n```\n\n#### Section Identification\n\nThe first section of a model is the actual model information.\n\nThere is ALWAYS a TIM image as one of the sections, you MUST find this TIM section before doing anything with the model. For models that have no textures applied to them, the TIM image consists of a 16 entry palette and a 1 unit tall 0 units wide 4bits per pixel image.\n\nAll sections from section 2 to before the TIM image are animation sequences. This is nearly identical to the format used on the PC.\n\nOn character models there are 16 sections past the TIM image, these are the weapon models. They have the same format as section 1.\n\n### Section 1 Format (Bone Structure)\n\nSection 1 has several parts to it. It is important to VERY carefully look at the structure starting this section. The beginning of the section is the BONE COUNT. The ROOT BONE follows this, it is NOT counted as a bone and is ALL ZEROs.\n\nA bone is a structure:\n\n```c\ntypedef struct\n{\n    UINT16 Parent;\n    INT16 Length;\n    UINT32 Offset;\n}\nFF7_BONE;\n```\n\nParent 0 is the root bone (the root bone is always relative to itself since it is the ROOT). Offset is the offset from the beginning of the section to the actual data for the polygons that makes on the 3d structure. A bone with an OFFSET of ZERO is a JOINT. It has NO physical shape. Objects are drawn from parent to child. All bone lengths are negative and should be drawn with this is mind (otherwise it will mess up rendering it).\n\n### Physical Shape Data\n\nThe bone offset points to a double word whose value is * 8 the vertex count (or it is the SIZE in bytes of the vertex pool and therefore is always a multiple of 8) After the vertex pool comes the texture triangle count and offset. This will be zero if there are no textures. Next come the textured triangles.\n\n```c\ntypedef struct\n{\n    UINT16 A;\n    UINT16 B;\n    UINT16 C;\n    UINT16 D;\n}\nFF7_POLY;\n\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    UINT8 U0, V0;\n    UINT16 PAL;\n    UINT8 U1, V1;\n    UINT8 U2, V2;\n}\nFF7_TTRI;\n```\n\nTwo structures are shown for a reason. FF7_POLY is a list of offsets into the Vertex pool for each vertex the triangle is made up of. Square follows the LEFT HAND RULE for there ordering to know which way the surface is facing. PAL is actually a bit field that includes information as to which palette the texture information for this triangle is using (see TIM format). U, V are the offset from the upper left corner of the image the coordinates of the texture are pined on.\n\nNext comes the textured Quads count and the textured quads:\n\n```c\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    UINT8 U0, V0;\n    UINT16 PAL;\n    UINT8 U1, V1;\n    UINT8 U2, V2;\n    UINT8 U3, V3;\n    UINT16 ZZ1;\n}\nFF7_TQUAD;\n```\n\nThe purpose of ZZ1 in the Quadric version is UNKNOWN. On ALL quads in the PSX version of FF7 the ordering of the vertices are A B D C. This is a result of the hardware on the PSX rendering a quadric using 2 triangles in hardware. It is again following the LEFT HAND rule of ordered vertices. To compute the palette number to use you take PAL and shift it right 7 bits then and it with 7. These three bits are the palette to use for the texture for that triangle or quadric.\n\nNext comes the triangle count and the triangles, the format of the colored vertex triangles:\n\n```c\ntypedef struct\n{\n    UINT8 R;\n    UINT8 G;\n    UINT8 B;\n    UINT8 U;\n}\nFF7_CLR;\n\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    FF7_CLR Colors[3];\n}\nFF7_TRI;\n```\n\nThe vertices for these are again word sized offsets into the vertex pool. The game uses 24 bit colored vertices in spite of being shown in only 15bit color.\n\nNext comes the colored vertex quadric count and information:\n\n```c\ntypedef struct\n{\n    FF7_POLY Vertexs;\n    FF7_CLR Colors[4];\n}\nFF7_QUAD;\n```\n\nIt has the same A B D C ordering as the textured quads, be sure to follow this or things will NOT come out right.\n\nThere is NO more information after this save likely the vertex pool for the next bone.\n\nIt is important to remember that the TIM image contains where to place the time data and often 1 to 3 palettes. The palettes are used in conjunction with the bit data. There are transparent pixels sometimes in textures. These choose the palette entry that has bit 15 set. This is the transparency bit on the PSX, ALWAYS REMEMBER that it makes that part of the texture transparent when trying to display the model.\n\nAnimation format covered elsewhere.\n\nThe TIM format is covered elsewhere.\n\nThe battle models are IDENTICAL in format as the physical bone description. They consist of 1 bone with one vertex pool and NO textures, any special transparencies one might see in the game are handled by the game, it's not part of the model. The same code you would use to show a single bone, you can use to show a weapon.\n\n---\n\n## Appendix D: PC Battle Models Structure\n\n*By Mirex*\n\nFinal Fantasy 7 battle models are stored in file 'battle.lgp' under FF7/DATA/BATTLE directory. Data can be unpacked by my program Unmass (you can get it at my web, http://mirex.mypage.sk) or by other programs like Ficedula's LGPtools (at http://ficedula.cjb.net)\n\nThe LGP file contains many small files with 4-letters long filenames. File classification can be determined by first two letters of the filename. Files with same first two letters belong to same 3d model. Files 'aa'-'of' are Enemy models, 'og'-'rr' are battle scenes, and 'rs'-'sm' are player models. For example files starting with 'rt' belong to Cloud's model. More info can be found in Alhexx's battle database or in my database (http://mirex.mypage.sk/FILES/monsters.txt)\n\nEvery character model has around 20-40 files, depends on its complexity. File type can be determined by 3rd and 4th character of filename. Files that end with 'aa', are skeleton information, 'ac'-'al' are textures (.TEX files) 'am'-'cj' are body parts (.P files), 'ck'-'cz' are player's weapons(.P files), 'da' are animations files. I have no idea what is inside 'ab' file. For example 'rtck' is model file which contains Cloud's first weapon, Buster sword, because 'rt' = clouds files and 'ck' = 1st weapon file.\n\nSummon models are stored similarly to battle models, but they are stored in magic.lgp, and their filenames are different. Models (P-files) have names \"creature.p??\" where ?? is model part number, textures have names \"creature.t??\", skeleton info has name \"creature.d\" and animations are in files \"creature.a??\".\n\n### File Structure Info\n\n**'AA' - skeleton** - file consists of these parts:\n\nheader - (see structure FF7AAheader below, 52 bytes) it is followed by bone info for each bone (FF7AAbone structure, 12 bytes each) And thats it. Nothing more there.\n\nIf bone's parent is -1 then it begins at center of coordinate system. Else it is child of its parent bone\n\n```c\n//offset\nstruct {\n     unsigned long u1[3]; //0\n     unsigned long bones; //12 number of model bones\n     unsigned long u2[3]; //16\n     unsigned long a; //28\n     unsigned long b; //32 maybe number of body part models\n     unsigned long u3[4]; //36\n} FF7AAheader; //size is 52 bytes\n\nstruct {\n     long parent; //0 index of parent bone, -1 = root node\n     float length; //4 length of bone, always is negative.\n     unsigned long model; //8 1=bone has body part, 0=has no body part\n} FF7AAbone; //size is 12 bytes\n```\n\n**'DA' - animations** - file consists of these parts:\n\nFirst there is 4 bytes long integer which holds number of animations in the file\n\nThen for each animation there is:\n\nFF7AAanimHdr structure (see below) and animation data (see below too)\n\n```c\nstruct s_FF7AAanimHdr {\n    unsigned long rec_a; //0\n    unsigned long rec_b; //4\n    unsigned long block_len; //8\n    unsigned short block_a; //12\n    unsigned short real_data_len; //14\n    unsigned short translat[3]; //16\n    unsigned char u1; //22\n} FF7AAanimHdr; //size = 23 bytes\n```\n\nSize of animation data is ( FF7AAanimHdr.block_len - 11 ), because variables (block_a, real_data_len, translat, u1 are in it) are included in data length.\n\n### Animation Data\n\nIn the animation data there are rotation angles for each bone of the 3D model. Angles are not stored as its usual, in 4 byte floats, but in 12bit integers (that means one integer takes 1.5 byte, 3 angles (rotations for one bone) take up 4.5 bytes !). 4.5 bytes = 36 bits = 3 * 12 bits, so for example if model has 10 bones all rotations are stored in 45 bytes. 12bits can hold value from 0 to 4095. It can be translated into usual angles\n\n```text\n0 euler = 0 degrees and 4096 euler = 360 degrees, so formula is degrees = euler * 360 / 4096\n```\n\nThe animation data are not understood well yet, so usually only first frame and few other frames look as they should when you read them this way.\n\n#### Example Rotation Data\n\nData in hex:\n\n| DC | BF | FE | 00 | 3E |\n|----|----|----|----|----|\n\nData in binary:\n\n| D    | C    | B    | F    | F    | E    | 0    | 0    | 3    | E    |\n|------|------|------|------|------|------|------|------|------|------|\n| 1101 | 1100 | 1011 | 1111 | 1111 | 1110 | 0000 | 0000 | 0011 | 1110 |\n| Angle X |   |      | Angle Y |   |      | Angle Z |   | Beginning of another rotation | |\n\n| X   | Y   | Z   |\n|-----|-----|-----|\n| DCB | FFE | 003 |\n\nData in decimal, euler:\n\n| X    | Y    | Z |\n|------|------|---|\n| 3531 | 4094 | 3 |\n\nData in degrees (* 360 / 4096):\n\n| X     | Y     | Z   |\n|-------|-------|-----|\n| 310.3 | 359.8 | 0.2 |\n\n### Data Organization\n\n- Textures\n- Sprites\n- Models\n","structuredPatch":[],"originalFile":null}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UJdaeqrRg9nM2Hg5mxqts3","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me get the line count for the output document and produce the summary report:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":134327,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":134327,"ephemeral_1h_input_tokens":0},"output_tokens":141,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"c84dee87-965a-4f39-b62a-a56c12ea3509"},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01UJdaeqrRg9nM2Hg5mxqts3","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XFxmhvJzAFqnKD4LujViYN","name":"Bash","input":{"command":"wc -l /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md","description":"Count lines in output file"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":134327,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":134327,"ephemeral_1h_input_tokens":0},"output_tokens":141,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"98079747-ab10-4a65-afa6-5e7eace35fe7"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XFxmhvJzAFqnKD4LujViYN","type":"tool_result","content":"    1716 /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md","is_error":false}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"4bbba1ba-0203-4cf7-9e37-ad7b313c77e9","tool_use_result":{"stdout":"    1716 /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/final/FF7_Battle_Damage_Formulas.md","stderr":"","interrupted":false,"isImage":false}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01QAqSnAVvjPvLR4x4nW3xSx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CtXU5iUDnaphxPwTuamrMd","name":"Bash","input":{"command":"wc -l /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","description":"Count lines in original file"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":306,"cache_read_input_tokens":134327,"cache_creation":{"ephemeral_5m_input_tokens":306,"ephemeral_1h_input_tokens":0},"output_tokens":131,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"a1c541dd-3520-4061-ab46-3c246a6bc467"},{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CtXU5iUDnaphxPwTuamrMd","type":"tool_result","content":"    1789 /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","is_error":false}]},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"fd2e38c4-1b6b-4e72-903f-a83939bf8349","tool_use_result":{"stdout":"    1789 /Volumes/DevSSD/01_Development/Projects/experiments/ff70G-japanese-mod/docs/reference/game_engine/markdown/merged_with_pdf_content/FF7_Battle_Damage_Formulas.md","stderr":"","interrupted":false,"isImage":false}},{"type":"assistant","message":{"model":"claude-opus-4-5-20251101","id":"msg_01Vc13PNXTsRwk46Bb1h4dSM","type":"message","role":"assistant","content":[{"type":"text","text":"`â˜… Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n**Standardization Transformation Highlights:**\n1. **Line reduction (~73 lines)**: The slightly reduced line count comes from consolidating duplicate content and cleaning up malformed table formatting, while all technical content is preserved\n2. **Heading hierarchy fixed**: The original had ~80 heading level violations (H4 immediately after H1, etc.). Now follows strict H1â†’H2â†’H3â†’H4â†’H5 progression\n3. **Battle Damage Steps renamed**: Changed from cryptic `*1. Define Negative Damage*` format to `### Step 1: Define Negative Damage` for proper linking\n`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n\nHere is the **Agent Summary Report** in JSON format:\n\n```json\n{\n  \"filename\": \"FF7_Battle_Damage_Formulas.md\",\n  \"module\": \"Battle\",\n  \"line_count\": 1716,\n  \"original_line_count\": 1789,\n  \"llm_summary\": \"Comprehensive battle damage calculation formulas including physical/magical base damage, defense modifiers, elemental interactions, and all 31 status effects. LLMs should read this when implementing battle damage calculations, debugging damage output discrepancies, or understanding status effect mechanics.\",\n  \"primary_topics\": [\"Base Damage Formulas\", \"Battle Damage Calculation Pipeline\", \"Status Effect Attributes\", \"Elemental Damage Modifiers\", \"Scene.bin File Format\"],\n  \"heading_changes\": \"Fixed approximately 80+ heading hierarchy violations. Original used H4 directly after H1, inconsistent H2/H3 usage. Restructured: H1 for document title, H2 for major sections (Definitions, Basic Damage Formulae, Battle Damage, Statuses, Game Over, Appendices), H3 for subsections (Character Stats, Version History, individual battle steps 1-19, status categories), H4 for detail items (individual terms like Base Damage, NRV, Caster; individual status effects like Death, Sleep, Poison), H5 for fine detail (sub-terms like Common Elements, Reflectable Magic). Removed bold formatting from headings. Renamed numbered steps from '*1. Define Negative Damage*' format to '### Step 1: Define Negative Damage' for proper anchor linking.\",\n  \"outbound_links\": [\n    {\n      \"target\": \"FF7_Battle_Battle_Mechanics.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Battle_Battle_Mechanics.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Battle_Battle_Scenes.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Battle_Battle_Scenes.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Playstation_Battle_Model_Format.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Playstation_Battle_Model_Format.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Kernel.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Kernel.md\",\n      \"line_number\": 0\n    }\n  ],\n  \"images_count\": 0,\n  \"images_updated\": [],\n  \"wiki_links_converted\": 0,\n  \"tables_count\": 47,\n  \"code_blocks_count\": 16,\n  \"issues_found\": [\n    \"Original lines 70-74 contained duplicate paragraph content (removed)\",\n    \"Multiple malformed tables with extra pipe characters (normalized)\",\n    \"Some tables had broken cell formatting from PDF extraction (preserved content, fixed structure)\",\n    \"Lorem ipsum placeholder text found in 'FF7 Party Mechanics' and 'Magic Scripting' sections (removed as non-technical)\"\n  ],\n  \"processing_notes\": \"This is a comprehensive document combining Terence Fergusson's authoritative damage mechanics guide (v0.8, 2002) with community-contributed technical specifications from Fremen (Scene.bin format, 2003), Micky (PSX 3D battle scenes), Cyberman (PSX battle models), and Mirex (PC battle models). The document structure was reorganized into main content + 4 appendices for cleaner navigation. All 31 status effects preserved with full attribute tables. All 19 battle damage calculation steps preserved with formulas. Scene.bin file format specifications including battle location codes (90+ locations) and enemy data structures preserved. Code blocks given appropriate language tags (c for struct definitions, text for pseudo-code and data examples). Wiki-style anchors {#anchor_name} removed as they don't render on GitHub.\"\n}\n```\n\n## Summary\n\nThe transformation is complete. **FF7_Battle_Damage_Formulas.md** has been standardized with:\n\n### âœ… Completed Requirements\n\n1. **YAML Frontmatter**: Added complete frontmatter with LLM-specific metadata including summary, tags, topics, and related docs\n\n2. **HTML Comment Metadata Block**: Preserved original merge metadata and documented all standardization changes\n\n3. **Heading Hierarchy Fixed**: Corrected ~80+ heading level violations:\n   - H1: Document title only\n   - H2: Major sections (6 total + 4 appendices)\n   - H3: Subsections (battle steps, status categories, data formats)\n   - H4: Detail items (individual terms, status effects, structures)\n   - H5: Fine detail (sub-term definitions)\n\n4. **Links**: Document references other Battle module docs in frontmatter; no wiki-style links to convert in this document\n\n5. **Code Blocks**: All 16 code blocks now have language tags (`c` for C structs, `text` for pseudo-code)\n\n6. **Content Preservation**: 100% technical accuracy maintained across all damage formulas, 31 status effects, Scene.bin specifications, and battle model structures"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":202,"cache_read_input_tokens":134633,"cache_creation":{"ephemeral_5m_input_tokens":202,"ephemeral_1h_input_tokens":0},"output_tokens":1425,"service_tier":"standard"},"context_management":null},"parent_tool_use_id":null,"session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","uuid":"88ad4224-7e36-4fec-9389-02e5059dd4ce"},{"type":"result","subtype":"success","is_error":false,"duration_ms":679412,"duration_api_ms":686616,"num_turns":8,"result":"`â˜… Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n**Standardization Transformation Highlights:**\n1. **Line reduction (~73 lines)**: The slightly reduced line count comes from consolidating duplicate content and cleaning up malformed table formatting, while all technical content is preserved\n2. **Heading hierarchy fixed**: The original had ~80 heading level violations (H4 immediately after H1, etc.). Now follows strict H1â†’H2â†’H3â†’H4â†’H5 progression\n3. **Battle Damage Steps renamed**: Changed from cryptic `*1. Define Negative Damage*` format to `### Step 1: Define Negative Damage` for proper linking\n`â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`\n\nHere is the **Agent Summary Report** in JSON format:\n\n```json\n{\n  \"filename\": \"FF7_Battle_Damage_Formulas.md\",\n  \"module\": \"Battle\",\n  \"line_count\": 1716,\n  \"original_line_count\": 1789,\n  \"llm_summary\": \"Comprehensive battle damage calculation formulas including physical/magical base damage, defense modifiers, elemental interactions, and all 31 status effects. LLMs should read this when implementing battle damage calculations, debugging damage output discrepancies, or understanding status effect mechanics.\",\n  \"primary_topics\": [\"Base Damage Formulas\", \"Battle Damage Calculation Pipeline\", \"Status Effect Attributes\", \"Elemental Damage Modifiers\", \"Scene.bin File Format\"],\n  \"heading_changes\": \"Fixed approximately 80+ heading hierarchy violations. Original used H4 directly after H1, inconsistent H2/H3 usage. Restructured: H1 for document title, H2 for major sections (Definitions, Basic Damage Formulae, Battle Damage, Statuses, Game Over, Appendices), H3 for subsections (Character Stats, Version History, individual battle steps 1-19, status categories), H4 for detail items (individual terms like Base Damage, NRV, Caster; individual status effects like Death, Sleep, Poison), H5 for fine detail (sub-terms like Common Elements, Reflectable Magic). Removed bold formatting from headings. Renamed numbered steps from '*1. Define Negative Damage*' format to '### Step 1: Define Negative Damage' for proper anchor linking.\",\n  \"outbound_links\": [\n    {\n      \"target\": \"FF7_Battle_Battle_Mechanics.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Battle_Battle_Mechanics.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Battle_Battle_Scenes.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Battle_Battle_Scenes.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Playstation_Battle_Model_Format.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Playstation_Battle_Model_Format.md\",\n      \"line_number\": 0\n    },\n    {\n      \"target\": \"FF7_Kernel.md\",\n      \"anchor\": null,\n      \"text\": \"FF7_Kernel.md\",\n      \"line_number\": 0\n    }\n  ],\n  \"images_count\": 0,\n  \"images_updated\": [],\n  \"wiki_links_converted\": 0,\n  \"tables_count\": 47,\n  \"code_blocks_count\": 16,\n  \"issues_found\": [\n    \"Original lines 70-74 contained duplicate paragraph content (removed)\",\n    \"Multiple malformed tables with extra pipe characters (normalized)\",\n    \"Some tables had broken cell formatting from PDF extraction (preserved content, fixed structure)\",\n    \"Lorem ipsum placeholder text found in 'FF7 Party Mechanics' and 'Magic Scripting' sections (removed as non-technical)\"\n  ],\n  \"processing_notes\": \"This is a comprehensive document combining Terence Fergusson's authoritative damage mechanics guide (v0.8, 2002) with community-contributed technical specifications from Fremen (Scene.bin format, 2003), Micky (PSX 3D battle scenes), Cyberman (PSX battle models), and Mirex (PC battle models). The document structure was reorganized into main content + 4 appendices for cleaner navigation. All 31 status effects preserved with full attribute tables. All 19 battle damage calculation steps preserved with formulas. Scene.bin file format specifications including battle location codes (90+ locations) and enemy data structures preserved. Code blocks given appropriate language tags (c for struct definitions, text for pseudo-code and data examples). Wiki-style anchors {#anchor_name} removed as they don't render on GitHub.\"\n}\n```\n\n## Summary\n\nThe transformation is complete. **FF7_Battle_Damage_Formulas.md** has been standardized with:\n\n### âœ… Completed Requirements\n\n1. **YAML Frontmatter**: Added complete frontmatter with LLM-specific metadata including summary, tags, topics, and related docs\n\n2. **HTML Comment Metadata Block**: Preserved original merge metadata and documented all standardization changes\n\n3. **Heading Hierarchy Fixed**: Corrected ~80+ heading level violations:\n   - H1: Document title only\n   - H2: Major sections (6 total + 4 appendices)\n   - H3: Subsections (battle steps, status categories, data formats)\n   - H4: Detail items (individual terms, status effects, structures)\n   - H5: Fine detail (sub-term definitions)\n\n4. **Links**: Document references other Battle module docs in frontmatter; no wiki-style links to convert in this document\n\n5. **Code Blocks**: All 16 code blocks now have language tags (`c` for C structs, `text` for pseudo-code)\n\n6. **Content Preservation**: 100% technical accuracy maintained across all damage formulas, 31 status effects, Scene.bin specifications, and battle model structures","session_id":"925a8e3d-e852-4981-bb0f-e17592b1a9f3","total_cost_usd":2.6612055,"usage":{"input_tokens":2,"cache_creation_input_tokens":241047,"cache_read_input_tokens":585314,"output_tokens":30390,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":241047}},"modelUsage":{"claude-haiku-4-5-20251001":{"inputTokens":837,"outputTokens":259,"cacheReadInputTokens":0,"cacheCreationInputTokens":19402,"webSearchRequests":0,"costUSD":0.026384499999999998,"contextWindow":200000},"claude-sonnet-4-5-20250929":{"inputTokens":3,"outputTokens":159,"cacheReadInputTokens":0,"cacheCreationInputTokens":19591,"webSearchRequests":0,"costUSD":0.07586024999999999,"contextWindow":200000},"claude-opus-4-5-20251101":{"inputTokens":2,"outputTokens":30390,"cacheReadInputTokens":585314,"cacheCreationInputTokens":241047,"webSearchRequests":0,"costUSD":2.5589607500000002,"contextWindow":200000}},"permission_denials":[],"uuid":"c20c7232-a809-409d-a2c6-879003daac18"}]
