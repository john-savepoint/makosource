---
title: "PSX/TIM format"
module: "Format Spec"
created: "2025-11-29 10:40 JST"
modified: "2025-12-02 01:00 JST"
session_id: "e58df6bc-5e04-4e06-8540-06f3a684b29d"
author: "Generated by Claude Code Documentation Standardization Agent"
status: "Complete"

# LLM-specific metadata (CRITICAL for routing)
llm_summary: "Specifies PlayStation TIM texture format including header structure, CLUT color lookup tables, and 4/8/16/24-bit color modes with frame buffer memory layout. LLMs should read this when analyzing texture loading code, debugging color rendering issues, or understanding how FF7 stores and displays graphical assets on PSX hardware."
llm_tags: ["psx", "tim-format", "texture", "clut", "color-depth", "frame-buffer", "playstation"]
llm_primary_topics: ["TIM file structure", "CLUT color lookup tables", "Color depth modes (4/8/16/24-bit)", "Frame buffer pixel formats", "PlayStation VRAM layout"]
llm_related_docs: ["FF7_Field_Module.md", "FF7_Kernel_Low_level_libraries.md", "FF7_TEX_format.md"]

# Backlinks (leave empty - populated in pass 2)
referenced_by: []
---

<!--
STANDARDIZATION METADATA
Original: PSX_TIM_format.md
Source: merged_with_pdf_content/PSX_TIM_format.md
Standardized: 2025-12-02 01:00 JST
Session-ID: e58df6bc-5e04-4e06-8540-06f3a684b29d
Agent: FF7 Documentation Standardization Agent v1.0

Previous Merge Metadata:
MERGE METADATA
Created: 2025-11-29 10:40 JST
Original File: PSX_TIM_format.md (129 lines)
Major Section: 05_FIELD_MODULE.md
Additions: "Related Formats" section - 1 item, 14 lines
Images: 8 images verified (paths correct, all files exist)
Report: comparisons/PSX_TIM_format_vs_05_FIELD_MODULE_analysis.md
Content Extraction: Minimal (architectural reference only)
Status: Merged - minimal additions for architectural clarity

Standardization Changes Applied:
- Added YAML frontmatter with LLM routing metadata
- Added HTML comment metadata block with standardization history
- Removed wiki-style anchor syntax from H1 title ({#psxtim_format})
- Removed redundant manual table of contents (lines 15-21)
- Fixed heading hierarchy: H1 title preserved, sections are H2, subsections are H3
- Converted 3 wiki-style links to standard markdown format
- Standardized 7 image paths to ../images/ format with descriptive alt text
- Removed inline image references that duplicated the Images section
- Fixed encoding artifacts (ï¿½ characters in multiplication symbols)
- Added language tag to code block (text for BPP values)

LLM CONTEXT BLOCK (Read this first for routing decisions):
This document defines the PlayStation TIM (Texture Image Map) file format, the standard
image format for PSX games including Final Fantasy VII. It covers the three-block structure
(header, CLUT, image data), all four color depth modes (4-bit, 8-bit, 16-bit, 24-bit), and
how texture data maps to frame buffer memory. Essential reading for understanding how FF7
textures are stored, loaded, and rendered. Related to FF7_Field_Module.md for MIM format
usage and FF7_TEX_format.md for the PC equivalent format.
-->

# PSX/TIM format

## Introduction

A TIM file is a standard image file format for the Sony PlayStation. The file structure closely mimics the way textures are managed in the frame buffer by the GPU. TIM files are little endian-based.

## File Layout

A TIM file is made up of three conceptual blocks; the header, the color lookup table (CLUT) and the image data. The CLUT block and the image data block have the same basic layout and are also treated the same way when loading a TIM file into the PlayStation frame buffer. Also, the CLUT block is optional and technically does not need to be present, even when the image data consists of color indices. Such image data is assumed to refer to *some* color lookup table, but not necessarily one stored in the same TIM file. In almost all cases though, the CLUT is included in the same TIM file as the image data using it and can thus be assumed to be applicable.

![TIM file layout showing header, CLUT, and image data blocks](../images/PSX_TIM_file_layout.png)

## Header

The header starts with a 'tag' byte; this value is constant for all TIM files and must be 0x10. The immediately following byte denotes the version of the file format. At present, only version '0' TIM files are known to exist.

The next 32-bit word contains specific flags denoting the basic properties of the TIM file. The BPP (Bits Per Pixel) value denotes the bit depth of the image data, according to the following values:

```text
00  4-bit (color indices)
01  8-bit (color indices)
10  16-bit (actual colors)
11  24-bit (actual colors)
```

The CLP (Color Lookup table Present) flag simply denotes whether the CLUT block is present in the TIM file. This flag is typically set when BPP is 00 or 01, and cleared otherwise.

## CLUT (Color Lookup Table)

The CLUT starts with a simple 32-bit word telling the length, in bytes, of the entire CLUT block (including the header). Following that is a set of four 16-bit values telling how the CLUT data should be loaded into the frame buffer. These measurements are in frame buffer pixels, which are 16-bit. Each CLUT is stored in a rectangular portion of the frame buffer, which is typically 16 or 256 pixels wide (corresponding to 4-bit or 8-bit color indices). The rows define one or more 'palettes' which can be selected at runtime to use when drawing a color-indexed image.

![CLUT block structure with length, coordinates, and palette data](../images/PSX_TIM_file_clut.png)

The length of the CLUT data is always *width* × *height* × 2 bytes, precisely the amount of data needed to fill a rectangular area of *width* × *height* pixels in the frame buffer. Also, the x coordinate of the CLUT needs to be an even multiple of 16, but the y coordinate can be any value between 0-511. Typically they are stored directly under the front/back buffers. Each 16-bit value is interpreted as real color frame buffer pixels, which have the following format:

![16-bit PSX color format with RGB555 and STP bit layout](../images/PSX_color_formats_16.png)

The red, green and blue samples behave like any RGB-defined color, but the STP (special transparency processing) bit has varying special meanings. Depending on the current transparency processing mode, it denotes if pixels of this color should be treated as transparent or not. If transparency processing is enabled, pixels of this color will be rendered transparent if the STP bit is set. A special case is black pixels (RGB 0,0,0), which **by default** are treated as transparent by the PlayStation *unless* the STP bit is set.

## Image Data

The image block is structurally identical to the CLUT block and is processed in exactly the same way when loaded into the frame buffer. It starts with a 32-bit word telling the length, in bytes, of the entire image block, then has 4 16-bit values containing the frame buffer positioning information. After that follows the image data, which is always *width* × *height* × 2 bytes long. It is important to realize that the image measurements are in 16-bit frame buffer pixels, which does not necessarily correspond to the size of the contained image. It may help to visualize the entire image data as a *width* × *height* array of 16-bit values, which is then interpreted differently depending on color mode (this is exactly how the PlayStation treats it). To calculate the actual image dimensions, it is thus necessary to take into account the current BPP value (bits per pixel).

![Image block structure with length, coordinates, and pixel data](../images/PSX_TIM_file_image.png)

The image data, while loaded straight into the frame buffer, is structured differently depending on the bit depth of the image. To a TIM file reader, the image data is parsed as a series of 16-bit values with varying interpretations.

### 16-bit Color Mode

The most straight-forward interpretation is for 16-bit images (BPP = **10**), in which case the image data has the same format as the frame buffer pixels themselves:

![16-bit direct color format with RGB555 and STP transparency bit](../images/PSX_color_formats_16.png)

### 24-bit Color Mode

The PlayStation is also capable of handling data in 24-bit color (BPP = **11**), in which case the color samples are stored as 3-byte groups. In the event that an image's width is an uneven number of pixels, the last byte is left as padding; the first pixel of a new row is always stored at the corresponding first pixel of the frame buffer row. The color samples are stored in the following order:

![24-bit color format with RGB888 byte arrangement](../images/PSX_color_formats_24.png)

### 8-bit Indexed Color Mode

Apart from the two "real" color modes, the PlayStation frequently utilizes color indexed images via CLUTs (color lookup tables). Whenever an image with color index data is drawn to the screen, a reference to a CLUT is included and the color indices get replaced with the corresponding value in the table. For 8-bit indexed colors (BPP = **01**), the image pixels are stored two by two in each 16-bit value as follows:

![8-bit indexed color format with two pixels per 16-bit word](../images/PSX_color_formats_8.png)

These images are used in conjunction with a 256-pixel CLUT.

### 4-bit Indexed Color Mode

For less color-rich images, 4-bit index colors (BPP = **00**) are also available, for use with a 16-pixel CLUT. These pixels are stored four by four in each 16-bit value:

![4-bit indexed color format with four pixels per 16-bit word](../images/PSX_color_formats_4.png)

## Related Formats

### MIM (Multiple Image Maps) Format

In Final Fantasy VII, the PSX field module uses a format called MIM (Multiple Image Maps) for storing background graphics. MIM files are truncated TIM files that contain palettes and screen block data organized according to the TIM specification. The CLUT (color lookup table) location, height, and width information described in this document is directly utilized when loading MIM data into the PlayStation VRAM, where it is decoded by the field module's graphics renderer.

The relationship between TIM and MIM is architectural: MIM files implement the TIM format principles specifically tailored for FF7's field backgrounds, using the color indexing and CLUT structures defined in the generic TIM format.

**Related Documentation:**
- [FF7 Field Module - PSX MIM Format](FF7_Field_Module.md#psx-mim-format)
- [FF7 Field Module - Field Overview](FF7_Field_Module.md#field-overview)
